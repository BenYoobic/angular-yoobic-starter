{"version":3,"sources":["node_modules/tslib/tslib.es6.js","ng://common/lib/services/core-config/core-config.service.ts","ng://common/lib/services/geo-location/geo-location.service.ts","ng://common/lib/services/log/log.service.ts","ng://common/lib/services/local-forage/local-forage.service.ts","ng://common/lib/services/local-storage/local-storage.service.ts","ng://common/lib/decorators/persistent/persistent.decorator.ts","ng://common/lib/services/network/network.service.ts","ng://common/lib/services/promise/promise.service.ts","ng://common/lib/services/utils/utils.service.ts","ng://common/lib/common.module.ts","ng://common/lib/interfaces/colors/colors.interface.ts","ng://common/lib/decorators/mixin/mixin.decorator.ts","ng://common/lib/decorators/autounsubscribe/autounsubscribe.decorator.ts"],"names":["__read","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","__spread","arguments","length","concat","CORECONFIG_CONSTANTS","InjectionToken","CoreConfig","platformId","config","this","configConstants","prototype","setStencil","setIsWeb","isWeb","setIsIonic","isIonic","configIsWeb","configIsIonic2","isCordova","_isCordova","isCapacitorNative","_isCapacitorNative","isHybrid","isElectron","_isElectron","isFirefox","_isFirefox","isIE","_isIE","isIE11","_isIE11","isUniversal","isPlatformServer","getPlatform","configPlatform","getPlatformClean","toLowerCase","replace","isIOS","_isIOS","isIOS9","_isIOS9","isIphoneX","_isIphoneX","isIphone5","_isIphone5","isIphoneSE","_isIphoneSE","isAndroid","_isAndroid","isWKWebView","_isWKWebView","isTablet","_isTablet","isPhablet","_isPhablet","isSamsung","_isSamsung","isZebraScanner","_isZebraScanner","isSurface","_isSurface","isLocalhost","location","hostname","reload","cleanLocation","origin","isFullScreenEnabled","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","isFullScreen","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","requestFullScreen","document","body","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","exitFullScreen","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","getProtocol","_getProtocol","getMode","configMode","getKey","key","getAppId","window","basePackageName","getAppVersion","appVersion","getAppName","appName","getFullAppName","getWebUrl","webUrl","getCssPublicUrl","getSyncedCollections","syncedCollections","Injectable","Inject","args","PLATFORM_ID","Position","loc","_a","split","map","parseFloat","latitude","longitude","isPosition","accuracy","lat","lng","p","isNumber","toGeoLoc","reversed","toJson","toStringLoc","GeoLocation","geolocation","coreConfig","defaultPosition","timeout","getDistance","lat1","lon1","lat2","lon2","unit","radlat1","Math","PI","radlat2","theta","radtheta","dist","sin","cos","acos","getLocation","forceRefresh","_this","getCurrentPosition","enableHighAccuracy","maximumAge","then","coords","err","navigator","Promise","resolve","reject","cache","cacheTimestamp","dateDiffInMinutes","Date","pos","Geolocation","Log","log","message","optionalParams","_i","apply","forceLog","alert","LocalForageService","init","localForage.defineDriver","cordovaSQLiteDriver","localForage.setDriver","bind","localForage","cordovaSQLiteDriver._driver","localForage.INDEXEDDB","localForage.WEBSQL","localForage.LOCALSTORAGE","localForage.driver","localForage.supports","set","localForage.setItem","get","localForage.getItem","remove","localForage.removeItem","clear","localForage.clear","LocalStorage","localStorage","Error","setObject","JSON","stringify","getObject","parse","removeItem","server","Persistent","storageKey","useAsync","callback","forceReplace","target","decoratedPropertyName","_value","options","Object","assign","v","getItem","isValidJson","str","_isInitialised","propertyObj","catch","setItem","enumerable","defineProperty","Network","networkNative","_isForcedOffline","_isOffline","_supportedConnections","_connectionChange","Subject","connection","type","isUndefined","onLine","indexOf","emit","_onConnectSubscription","onConnect","subscribe","_onDisconnectSubscription","onDisconnect","onlineListener","offlineListener","addEventListener","ngOnDestroy","unsubscribe","removeEventListener","asObservable","isOffline","isForcedOffline","getConnection","forceOffline","offline","NetworkNative","__decorate","decorators","desc","d","c","getOwnPropertyDescriptor","Reflect","decorate","tslib_1.__decorate","__metadata","metadataKey","metadataValue","metadata","PromiseService","retryOnFailure","functionToRetry","timesToRetry","delay","failureReason","retryCount","functionToIterate","wait","duration","setTimeout","promiseTimeout","ms","promise","id","clearTimeout","race","sequential","promises","count","results","reduce","previousPromise","currentPromise","result","res","Utils","loadScript","url","element","getElementsByTagName","postscribe","getUrlParameterByName","href","RegExp","exec","decodeURIComponent","removeParameterFromUrl","rtn","paramsArr","queryString","splice","join","CommonModule","forRoot","configuredProviders","ngModule","providers","NgModule","declarations","imports","AngularCommonModule","HttpClientModule","exports","Colors","hexToRgb","hex","opacity","bigint","parseInt","getKeys","getCssColor","color","defaultValue","retVal","getComputedStyle","getPropertyValue","trim","lightenDarkenColor","amount","usePound","slice","num","b","g","toString","toggleDarkTheme","setDarkTheme","isDarkTheme","_isDarkTheme","enabled","documentElement","classList","add","success","danger","warning","black","light","stable","toggleBigFonts","setBigFonts","isBigFonts","_isBigFonts","MixIn","baseCtors","derivedCtor","forEach","baseCtor","fieldCollector","getOwnPropertyNames","name","AutoUnsubscribe","blackList","constructor","original","prop","property"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Injectable, Inject, PLATFORM_ID, InjectionToken } from '@angular/core';\nimport { isPlatformServer } from '@angular/common';\nimport {\n  ICoreConfig,\n  ISyncedCollection,\n  setIsWeb,\n  setIsIonic,\n  isIOS as _isIOS,\n  isCordova as _isCordova,\n  isCapacitorNative as _isCapacitorNative,\n  isElectron as _isElectron,\n  isFirefox as _isFirefox,\n  isIE as _isIE,\n  isIE11 as _isIE11,\n  isIOS9 as _isIOS9,\n  isIphoneX as _isIphoneX,\n  isIphone5 as _isIphone5,\n  isIphoneSE as _isIphoneSE,\n  isAndroid as _isAndroid,\n  isWKWebView as _isWKWebView,\n  isSamsung as _isSamsung,\n  isZebraScanner as _isZebraScanner,\n  isTablet as _isTablet,\n  isPhablet as _isPhablet,\n  isSurface as _isSurface,\n  getProtocol as _getProtocol\n} from '@shared/stencil';\n\nexport const CORECONFIG_CONSTANTS = new InjectionToken<any>('CoreConfigConstants');\n\n@Injectable()\nexport class CoreConfig implements ICoreConfig {\n  private configConstants: any = {};\n\n  constructor(@Inject(PLATFORM_ID) private platformId, @Inject(CORECONFIG_CONSTANTS) config) {\n    this.configConstants = config;\n  }\n\n  public setStencil() {\n    setIsWeb(this.isWeb());\n    setIsIonic(this.isIonic());\n  }\n\n  public isWeb(): boolean {\n    return this.configConstants.configIsWeb;\n  }\n\n  public isIonic(): boolean {\n    return this.configConstants.configIsIonic2;\n  }\n\n  public isCordova(): boolean {\n    return _isCordova();\n  }\n\n  public isCapacitorNative(): boolean {\n    return _isCapacitorNative();\n  }\n\n  public isHybrid() {\n    return this.isCordova() || this.isCapacitorNative();\n  }\n\n  public isElectron(): boolean {\n    return _isElectron();\n  }\n\n  public isFirefox(): boolean {\n    return _isFirefox();\n  }\n\n  public isIE(): boolean {\n    return _isIE();\n  }\n\n  public isIE11(): boolean {\n    return _isIE11();\n  }\n\n  public isUniversal(): boolean {\n    return isPlatformServer(this.platformId);\n  }\n\n  public getPlatform(): string {\n    return this.configConstants.configPlatform;\n  }\n\n  public getPlatformClean(): string {\n    return this.getPlatform()\n      .toLowerCase()\n      .replace('ionic', 'mobile');\n  }\n\n  public isIOS() {\n    return _isIOS();\n  }\n\n  public isIOS9() {\n    return _isIOS9();\n  }\n\n  public isIphoneX() {\n    return _isIphoneX();\n  }\n\n  public isIphone5() {\n    return _isIphone5();\n  }\n\n  public isIphoneSE() {\n    return _isIphoneSE();\n  }\n\n  public isAndroid() {\n    return _isAndroid();\n  }\n\n  public isWKWebView() {\n    return _isWKWebView();\n  }\n\n  public isTablet() {\n    return _isTablet();\n  }\n\n  public isPhablet() {\n    return _isPhablet();\n  }\n\n  public isSamsung() {\n    return _isSamsung();\n  }\n\n  public isZebraScanner() {\n    return _isZebraScanner();\n  }\n\n  public isSurface() {\n    return _isSurface();\n  }\n\n  public isLocalhost() {\n    return location.hostname === 'localhost' || location.hostname === '127.0.0.1';\n  }\n\n  public reload(cleanLocation: boolean = false) {\n    if (this.isElectron()) {\n    } else if (location && (<any>location).reload) {\n      location.reload();\n      if (cleanLocation) {\n        location.replace(location.origin);\n      }\n    }\n  }\n\n  public isFullScreenEnabled() {\n    if (this.isUniversal()) {\n      return false;\n    }\n    return (<any>document).fullscreenEnabled || (<any>document).webkitFullscreenEnabled || (<any>document).mozFullScreenEnabled || (<any>document).msFullscreenEnabled;\n  }\n\n  public isFullScreen() {\n    if (this.isUniversal()) {\n      return false;\n    }\n    if ((<any>document).fullscreenElement || (<any>document).webkitFullscreenElement || (<any>document).mozFullScreenElement || (<any>document).msFullscreenElement) {\n      return true;\n    }\n    return false;\n  }\n\n  public requestFullScreen() {\n    if (this.isUniversal()) {\n      return;\n    }\n    if (document && document.body) {\n      let i: any = document.body;\n      // go full-screen\n      if (i.requestFullscreen) {\n        i.requestFullscreen();\n      } else if (i.webkitRequestFullscreen) {\n        i.webkitRequestFullscreen();\n      } else if (i.mozRequestFullScreen) {\n        i.mozRequestFullScreen();\n      } else if (i.msRequestFullscreen) {\n        i.msRequestFullscreen();\n      }\n    }\n  }\n\n  public exitFullScreen() {\n    if (this.isUniversal()) {\n      return;\n    }\n    if (document) {\n      if ((<any>document).exitFullscreen) {\n        (<any>document).exitFullscreen();\n      } else if ((<any>document).webkitExitFullscreen) {\n        (<any>document).webkitExitFullscreen();\n      } else if ((<any>document).mozCancelFullScreen) {\n        (<any>document).mozCancelFullScreen();\n      } else if ((<any>document).msExitFullscreen) {\n        (<any>document).msExitFullscreen();\n      }\n    }\n  }\n\n  public getProtocol(): string {\n    return _getProtocol();\n  }\n\n  public getMode(): string {\n    return this.configConstants.configMode;\n  }\n\n  public getKey(key: string): string {\n    return this.configConstants[key];\n  }\n\n  public getAppId(): string {\n    return window['BuildInfo'] ? window['BuildInfo'].basePackageName : window.location.hostname;\n  }\n\n  public getAppVersion(): string {\n    return this.configConstants.appVersion;\n  }\n\n  public getAppName(): string {\n    return this.configConstants.appName;\n  }\n\n  public getFullAppName(): string {\n    return this.getAppName() + '-' + this.getPlatformClean() + '-' + this.getAppVersion();\n  }\n\n  public getWebUrl() {\n    return this.configConstants.webUrl;\n  }\n\n  public getCssPublicUrl() {\n    //https://storage.googleapis.com/yoobic-mobile-apps/6.0.222-1/operations/mobile/styles.f3f4a35e34aff00b5977.css\n    return 'https://storage.googleapis.com/yoobic-mobile-apps/' + this.getAppVersion() + '/' + this.getAppName() + '/' + this.getPlatformClean() + '/';\n  }\n\n  public getSyncedCollections(): Array<ISyncedCollection> {\n    return this.configConstants.syncedCollections;\n  }\n}\n","/// <reference path=\"../../../../../../types/window/index.d.ts\" />\n\nimport { Injectable } from '@angular/core';\nimport { IPosition, ILatLng } from '../../interfaces/position/position.interface';\nimport { CoreConfig } from '../core-config/core-config.service';\nimport { dateDiffInMinutes } from '@shared/stencil';\nimport { isNumber } from 'lodash-es';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\n\nexport class Position implements IPosition {\n  latitude: number;\n  longitude: number;\n  accuracy: number;\n\n  public static isPosition(p: any): p is Position {\n    return p instanceof Position || (isNumber(p.latitude) && isNumber(p.longitude));\n  }\n\n  constructor(loc: IPosition | string | ILatLng) {\n    if (typeof loc === 'string') {\n      [this.latitude, this.longitude] = loc.split(',').map(parseFloat);\n    } else if (Position.isPosition(loc)) {\n      this.latitude = loc.latitude;\n      this.longitude = loc.longitude;\n      this.accuracy = loc.accuracy;\n    } else {\n      this.latitude = (<ILatLng>loc).lat;\n      this.longitude = (<ILatLng>loc).lng;\n    }\n  }\n\n  toGeoLoc(reversed = false): Array<number> {\n    return reversed ? [this.longitude, this.latitude] : [this.latitude, this.longitude];\n  }\n\n  toJson() {\n    return { latitude: this.latitude, longitude: this.longitude };\n  }\n\n  toStringLoc(): string {\n    return this.latitude + ',' + this.longitude;\n  }\n}\n\n@Injectable()\nexport class GeoLocation {\n  public defaultPosition: Position = new Position({ latitude: 51.53162, longitude: -0.2376447 });\n  private timeout = 30000;\n  private cache: Position;\n  private cacheTimestamp: Date;\n\n  constructor(private geolocation: Geolocation, protected coreConfig: CoreConfig) { }\n\n  getDistance(lat1: number, lon1: number, lat2: number, lon2: number, unit = 'K') {\n    let radlat1 = (Math.PI * lat1) / 180;\n    let radlat2 = (Math.PI * lat2) / 180;\n    let theta = lon1 - lon2;\n    let radtheta = (Math.PI * theta) / 180;\n    let dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\n    dist = Math.acos(dist);\n    dist = (dist * 180) / Math.PI;\n    dist = dist * 60 * 1.1515;\n    if (unit === 'K') {\n      dist = dist * 1.609344;\n    }\n    if (unit === 'N') {\n      dist = dist * 0.8684;\n    }\n    return dist;\n  }\n\n  getLocation(forceRefresh = false): Promise<Position | null> {\n    if (this.coreConfig.isCordova()) {\n      return this.geolocation\n        .getCurrentPosition({\n          enableHighAccuracy: true,\n          maximumAge: 90000,\n          timeout: this.timeout\n        })\n        .then(value => new Position(value.coords), err => this.defaultPosition);\n    } else if (navigator && navigator.geolocation) {\n      return new Promise((resolve, reject) => {\n        if (!forceRefresh && this.cache && (!this.cacheTimestamp || dateDiffInMinutes(new Date(), this.cacheTimestamp) > 15)) {\n          resolve(this.cache);\n        } else {\n          navigator.geolocation.getCurrentPosition(\n            pos => {\n              this.cache = new Position(pos.coords);\n              this.cacheTimestamp = new Date();\n              resolve(this.cache);\n            },\n            err => {\n              this.cache = this.defaultPosition;\n              this.cacheTimestamp = new Date();\n              resolve(this.defaultPosition);\n            },\n            { enableHighAccuracy: false, timeout: 10 * 1000, maximumAge: 10 * 60 * 1000 }\n          );\n        }\n      });\n    } else {\n      return Promise.resolve(null);\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CoreConfig } from '../core-config/core-config.service';\n\n@Injectable()\nexport class Log {\n  constructor(protected coreConfig: CoreConfig) {}\n\n  log(message?: any, ...optionalParams: any[]) {\n    if (this.coreConfig.getMode() === 'dev') {\n      window['console'].log(message, ...optionalParams);\n    }\n  }\n\n  forceLog(message?: any, ...optionalParams: any[]) {\n    window['console'].log(message, ...optionalParams);\n  }\n\n  error(message?: any, ...optionalParams: any[]) {\n    if (this.coreConfig.getMode() === 'dev') {\n      window['console'].error(message, ...optionalParams);\n    }\n  }\n\n  alert(message: any) {\n    window['alert'](message);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CoreConfig } from '../core-config/core-config.service';\nimport { Log } from '../log/log.service';\n\nimport * as localForage from 'localforage';\nimport * as cordovaSQLiteDriver from 'localforage-cordovasqlitedriver';\n//https://github.com/ionic-team/ionic-storage/blob/master/src/storage.ts\n\n@Injectable()\nexport class LocalForageService {\n  constructor(private coreConfig: CoreConfig, protected log: Log) {\n    this.init().then(() => {}, err => {});\n  }\n  init(): Promise<void> {\n    if (this.coreConfig.isCordova()) {\n      try {\n        return localForage.defineDriver(cordovaSQLiteDriver).then(() => {\n          return localForage.setDriver\n            .bind(localForage)([cordovaSQLiteDriver._driver, localForage.INDEXEDDB, localForage.WEBSQL, localForage.LOCALSTORAGE])\n            .then(() => {\n              this.log.log('setDriver:' + localForage.driver.bind(localForage)());\n              return Promise.resolve();\n            });\n        });\n      } catch (err) {\n        this.log.error(err);\n        return Promise.resolve();\n      }\n    } else if (localForage.supports(localForage.WEBSQL)) {\n      //!this.coreConfig.isFirefox() && !this.coreConfig.isIE()) {\n      return localForage.setDriver.bind(localForage)(localForage.WEBSQL);\n    }\n    return Promise.resolve();\n  }\n\n  public set<T>(key: string, value: any): Promise<T> {\n    return localForage.setItem.bind(localForage)(key, value);\n  }\n  public get<T>(key: string): Promise<T> {\n    return localForage.getItem.bind(localForage)(key);\n  }\n  public remove(key: string) {\n    return localForage.removeItem.bind(localForage)(key);\n  }\n  public clear() {\n    return localForage.clear.bind(localForage)();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CoreConfig } from '../core-config/core-config.service';\n\n@Injectable()\nexport class LocalStorage {\n  public localStorage: any;\n\n  constructor(protected coreConfig: CoreConfig) {\n    if (!coreConfig.isUniversal()) {\n      if (typeof localStorage === 'undefined') {\n        throw new Error('Current browser does not support Local Storage');\n      }\n      this.localStorage = localStorage;\n    } else {\n      this.localStorage = {};\n    }\n  }\n\n  public set(key: string, value: string): void {\n    try {\n      this.localStorage[key] = value;\n    } catch (e) {}\n  }\n\n  public get(key: string): string {\n    return this.localStorage[key] || false;\n  }\n\n  public setObject(key: string, value: any): void {\n    this.localStorage[key] = JSON.stringify(value);\n  }\n\n  public getObject(key: string): any {\n    if (this.localStorage[key]) {\n      return JSON.parse(this.localStorage[key]);\n    } else {\n      return null;\n    }\n  }\n\n  public remove(key: string): any {\n    if (!this.coreConfig.isUniversal()) {\n      this.localStorage.removeItem(key);\n    } else {\n      delete this.localStorage[key];\n    }\n  }\n\n  public clear() {\n    if (!this.coreConfig.isUniversal()) {\n      let server = this.get('SERVER');\n      this.localStorage.clear();\n      if (server) {\n        this.set('SERVER', server);\n      }\n    } else {\n      this.localStorage = {};\n    }\n  }\n}\n","import * as localForage from 'localforage';\n\nexport function Persistent(storageKey?: string, useAsync?: boolean, callback?: Function, forceReplace?: boolean) {\n  function isValidJson(str) {\n    try {\n      JSON.parse(str);\n    } catch (e) {\n      return false;\n    }\n    return true;\n  }\n\n  return (target: Object, decoratedPropertyName: string): void => {\n    let options: { storageKey: string } = Object.assign({}, { storageKey: storageKey || decoratedPropertyName });\n    let _value: any;\n    if (useAsync) {\n      localForage.getItem(options.storageKey).then(\n        v => {\n          _value = v;\n          if (callback) {\n            callback(v);\n          }\n        },\n        () => {}\n      );\n    } else {\n      if (typeof window !== 'undefined') {\n        if (localStorage.getItem(options.storageKey) && isValidJson(localStorage.getItem(options.storageKey))) {\n          _value = JSON.parse(localStorage.getItem(options.storageKey) as string);\n        } else {\n          _value = null;\n        }\n      }\n    }\n    let _isInitialised = false;\n\n    let propertyObj = {\n      get: function() {\n        _isInitialised = true;\n        return _value;\n      },\n      set: function(value) {\n        if (!_isInitialised) {\n          _isInitialised = true;\n          if (forceReplace !== true) {\n            return;\n          }\n        }\n        if (typeof value !== 'undefined') {\n          _value = value;\n          try {\n            if (useAsync) {\n              localForage.setItem(options.storageKey, value).catch(() => {});\n            } else {\n              localStorage.setItem(options.storageKey, JSON.stringify(value));\n            }\n          } catch (e) {}\n        }\n      },\n      enumerable: false\n    };\n    Object.defineProperty(target, decoratedPropertyName, propertyObj);\n  };\n}\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { CoreConfig } from '../core-config/core-config.service';\nimport { Persistent } from '../../decorators/persistent/persistent.decorator';\n\nimport { Network as NetworkNative } from '@ionic-native/network/ngx';\nimport { Subscription, Observable, Subject } from 'rxjs';\n\nimport { isUndefined } from 'lodash-es';\n\n@Injectable()\nexport class Network implements OnDestroy {\n  @Persistent() private _isForcedOffline: boolean = false;\n\n  private _isOffline: boolean = false;\n  private _onConnectSubscription: Subscription;\n  private _onDisconnectSubscription: Subscription;\n  private _supportedConnections = ['wifi', 'ethernet', '4g', '3g'];\n  private _connectionChange = new Subject<boolean>();\n\n  private onlineListener;\n  private offlineListener;\n\n  constructor(private coreConfig: CoreConfig, private networkNative: NetworkNative) {\n    if (this.coreConfig.isCordova()) {\n      let connection = this.networkNative.type;\n      if (isUndefined(connection)) {\n        this._isOffline = !navigator.onLine;\n      } else {\n        this._isOffline = this._supportedConnections.indexOf(connection) < 0;\n      }\n    } else if (this.coreConfig.isUniversal()) {\n      this._isOffline = false;\n    } else {\n      this._isOffline = !navigator.onLine;\n    }\n    this.emit();\n\n    if (this.coreConfig.isCordova()) {\n      this._onConnectSubscription = <any>this.networkNative.onConnect().subscribe(() => {\n        this._isOffline = false;\n        this.emit();\n      });\n      this._onDisconnectSubscription = <any>this.networkNative.onDisconnect().subscribe(() => {\n        this._isOffline = true;\n        this.emit();\n      });\n    } else if (!this.coreConfig.isUniversal()) {\n      this.onlineListener = () => {\n        this._isOffline = false;\n        this.emit();\n      };\n      this.offlineListener = () => {\n        this._isOffline = true;\n        this.emit();\n      };\n      window.addEventListener('online', this.onlineListener);\n      window.addEventListener('offline', this.offlineListener);\n    }\n  }\n\n  ngOnDestroy() {\n    if (this._onConnectSubscription) {\n      this._onConnectSubscription.unsubscribe();\n    }\n\n    if (this._onDisconnectSubscription) {\n      this._onDisconnectSubscription.unsubscribe();\n    }\n\n    window.removeEventListener('online', this.onlineListener);\n    window.removeEventListener('offline', this.offlineListener);\n  }\n\n  get connectionChange$(): Observable<boolean> {\n    return this._connectionChange.asObservable();\n  }\n\n  isOffline() {\n    return this._isForcedOffline || this._isOffline;\n  }\n\n  isForcedOffline() {\n    return this._isForcedOffline;\n  }\n\n  getConnection() {\n    return this.networkNative.type;\n  }\n\n  emit() {\n    this._connectionChange.next(this._isForcedOffline || this._isOffline);\n  }\n\n  forceOffline(offline: boolean, emit: boolean = true) {\n    this._isForcedOffline = offline;\n    if (emit) {\n      this.emit();\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class PromiseService {\n  wait(duration) {\n    return new Promise((resolve, reject) => {\n      setTimeout(resolve, duration);\n    });\n  }\n\n  retryOnFailure = (functionToRetry, timesToRetry = 3, delay = 300) => {\n    let retryCount = timesToRetry;\n    let failureReason;\n    let functionToIterate = (...args) => {\n      if (retryCount < 1) {\n        return Promise.reject(failureReason);\n      } else {\n        retryCount--;\n        return functionToRetry(...args).catch(err => {\n          failureReason = err;\n          return this.wait(delay).then(() => functionToIterate(...args));\n        });\n      }\n    };\n    return functionToIterate;\n  };\n\n  promiseTimeout(ms, promise) {\n    // Create a promise that rejects in <ms> milliseconds\n    let timeout = new Promise((resolve, reject) => {\n      let id = setTimeout(() => {\n        clearTimeout(id);\n        reject('Timed out in ' + ms + 'ms.');\n      }, ms);\n    });\n\n    // Returns a race between our timeout and the passed in promise\n    return Promise.race([promise, timeout]);\n  }\n\n  sequential(promises: Array<any>): Promise<any> {\n    return new Promise((resolve, reject) => {\n      if (!promises || promises.length === 0) {\n        //throw new Error('First argument need to be an array of Promises');\n        return resolve([]);\n      }\n      let count = 0;\n      let results = [];\n      const iterateeFunc = (previousPromise, currentPromise) => {\n        return previousPromise\n          .then(function(result) {\n            if (count++ !== 0) {\n              results = results.concat(result);\n            }\n            return currentPromise(result, results, count);\n          })\n          .catch(err => {\n            return reject(err);\n          });\n      };\n      promises = promises.concat(() => Promise.resolve());\n      promises.reduce(iterateeFunc, Promise.resolve(false)).then(function(res) {\n        resolve(results);\n      });\n    });\n\n    // let p = Promise.resolve();\n    // return promises.reduce((pacc, fn) => {\n    //     return pacc = pacc.then(fn);\n    // }, p);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CoreConfig } from '../core-config/core-config.service';\n\nimport postscribe from 'postscribe';\n\n@Injectable()\nexport class Utils {\n  constructor(protected coreConfig: CoreConfig) {}\n\n  loadScript(url) {\n    return new Promise((resolve, reject) => {\n      if (this.coreConfig.isUniversal()) {\n        resolve(true);\n      } else {\n        let element = document.getElementsByTagName('head')[0];\n        let html = `<script async type=text/javascript src=${url}></script>`;\n        postscribe(element, html, {\n          done: () => {\n            resolve(true);\n          }\n        });\n      }\n    });\n  }\n\n  getUrlParameterByName(key: string, url?: string) {\n    if (!url) {\n      url = window.location.href;\n    }\n    key = key.replace(/[\\[\\]]/g, '\\\\$&');\n    const regex = new RegExp('[?&]' + key + '(=([^&#]*)|&|#|$)');\n    let results = regex.exec(url);\n    if (!results) {\n      return null;\n    }\n    if (!results[2]) {\n      return '';\n    }\n    return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n  }\n\n  removeParameterFromUrl(key: string, url: string) {\n    let rtn: string = url.split('?')[0];\n    let param: string;\n    let paramsArr: Array<string> = [];\n    let queryString: string = url.indexOf('?') !== -1 ? url.split('?')[1] : '';\n    if (queryString !== '') {\n      paramsArr = queryString.split('&');\n      for (let i = paramsArr.length - 1; i >= 0; i -= 1) {\n        param = paramsArr[i].split('=')[0];\n        if (param === key) {\n          paramsArr.splice(i, 1);\n        }\n      }\n      rtn = rtn + '?' + paramsArr.join('&');\n    }\n    return rtn;\n  }\n}\n","import { NgModule, ModuleWithProviders, Provider } from '@angular/core';\nimport { CommonModule as AngularCommonModule } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { CoreConfig } from './services/core-config/core-config.service';\nimport { GeoLocation } from './services/geo-location/geo-location.service';\nimport { LocalForageService } from './services/local-forage/local-forage.service';\nimport { LocalStorage } from './services/local-storage/local-storage.service';\nimport { Log } from './services/log/log.service';\nimport { Network } from './services/network/network.service';\nimport { PromiseService } from './services/promise/promise.service';\nimport { Utils } from './services/utils/utils.service';\n\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { Network as NetworkNative } from '@ionic-native/network/ngx';\n\n@NgModule({\n  declarations: [],\n  imports: [AngularCommonModule, HttpClientModule],\n  exports: [AngularCommonModule, HttpClientModule]\n})\nexport class CommonModule {\n  static forRoot(configuredProviders: Array<Provider> = []): ModuleWithProviders {\n    return {\n      ngModule: CommonModule,\n      providers: [...configuredProviders, CoreConfig, GeoLocation, LocalForageService, LocalStorage, Log, Network, PromiseService, Utils, Geolocation, NetworkNative]\n    };\n  }\n}\n","export class Colors {\n  private static _isDarkTheme: boolean = false;\n  private static _isBigFonts: boolean = false;\n\n  public static success = Colors.getCssColor('success');\n  public static danger = Colors.getCssColor('danger');\n  public static warning = Colors.getCssColor('warning');\n  public static black = Colors.getCssColor('black');\n  public static light = Colors.getCssColor('light');\n  public static stable = Colors.getCssColor('stable');\n\n  public static hexToRgb(hex: string, opacity = 1) {\n    let bigint = parseInt(hex.replace('#', ''), 16);\n    let r = (bigint >> 16) & 255;\n    let g = (bigint >> 8) & 255;\n    let b = bigint & 255;\n    return 'rgba(' + r + ',' + g + ',' + b + ',' + opacity + ')';\n  }\n\n  public static getKeys() {\n    return ['success', 'danger', 'black', 'warning', 'stable'];\n  }\n\n  public static getCssColor(color: string, defaultValue?: string) {\n    if (document) {\n      let retVal = getComputedStyle(document.body).getPropertyValue('--' + color) || defaultValue || Colors[color.replace('-color', '')];\n      retVal = (retVal || '').trim();\n      return retVal;\n    }\n    return defaultValue || Colors[color];\n  }\n\n  public static lightenDarkenColor(color: string, amount: number) {\n    let usePound = false;\n    if (color[0] === '#') {\n      color = color.slice(1);\n      usePound = true;\n    }\n\n    let num = parseInt(color, 16);\n\n    let r = (num >> 16) + amount;\n    if (r > 255) {\n      r = 255;\n    } else if (r < 0) {\n      r = 0;\n    }\n\n    let b = ((num >> 8) & 0x00ff) + amount;\n    if (b > 255) {\n      b = 255;\n    } else if (b < 0) {\n      b = 0;\n    }\n\n    let g = (num & 0x0000ff) + amount;\n    if (g > 255) {\n      g = 255;\n    } else if (g < 0) {\n      g = 0;\n    }\n\n    return (usePound ? '#' : '') + (g | (b << 8) | (r << 16)).toString(16);\n  }\n\n  public static toggleDarkTheme() {\n    Colors.setDarkTheme(!Colors.isDarkTheme());\n  }\n\n  public static isDarkTheme() {\n    return Colors._isDarkTheme;\n  }\n\n  public static setDarkTheme(enabled) {\n    Colors._isDarkTheme = enabled;\n    if (document) {\n      if (enabled) {\n        document.documentElement.classList.add('dark-theme');\n      } else {\n        document.documentElement.classList.remove('dark-theme');\n      }\n\n      Colors.success = Colors.getCssColor('success');\n      Colors.danger = Colors.getCssColor('danger');\n      Colors.warning = Colors.getCssColor('warning');\n      Colors.black = Colors.getCssColor('black');\n      Colors.light = Colors.getCssColor('light');\n      Colors.stable = Colors.getCssColor('stable');\n      //Colors.text = Colors.getCssColor('always-text-color');\n    }\n  }\n\n  public static toggleBigFonts() {\n    Colors.setBigFonts(!Colors.isBigFonts());\n  }\n\n  public static isBigFonts() {\n    return Colors._isBigFonts;\n  }\n\n  public static setBigFonts(enabled) {\n    Colors._isBigFonts = enabled;\n    if (document) {\n      if (enabled) {\n        document.documentElement.classList.add('big-fonts');\n      } else {\n        document.documentElement.classList.remove('big-fonts');\n      }\n    }\n  }\n}\n","export function MixIn(baseCtors: Function[]) {\n  return function(derivedCtor: Function) {\n    baseCtors.forEach(baseCtor => {\n      const fieldCollector = {};\n      baseCtor.apply(fieldCollector);\n      Object.getOwnPropertyNames(fieldCollector).forEach(name => {\n        derivedCtor.prototype[name] = fieldCollector[name];\n      });\n\n      Object.getOwnPropertyNames(baseCtor.prototype).forEach(name => {\n        if (name !== 'constructor') {\n          derivedCtor.prototype[name] = baseCtor.prototype[name];\n        }\n      });\n    });\n  };\n}\n","export function AutoUnsubscribe(blackList: Array<string> = []) {\n  return function(constructor) {\n    const original = constructor.prototype.ngOnDestroy;\n\n    constructor.prototype.ngOnDestroy = function() {\n      for (let prop in this) {\n        const property = this[prop];\n        if (blackList.indexOf(prop) < 0) {\n          if (property && typeof property.unsubscribe === 'function') {\n            property.unsubscribe();\n          }\n        }\n      }\n      if (original && typeof original === 'function') {\n        original.apply(this, arguments);\n      }\n    };\n  };\n}\n"]}