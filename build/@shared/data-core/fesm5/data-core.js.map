{"version":3,"file":"data-core.js.map","sources":["ng://data-core/lib/services/config/config.service.ts","ng://data-core/lib/services/session/session.service.ts","ng://data-core/lib/services/loading-bar/loading-bar.service.ts","ng://data-core/lib/services/requestor/requestor.service.ts","ng://data-core/lib/services/algorithms/algorithms.service.ts","ng://data-core/lib/interfaces/cache/cache.interface.ts","ng://data-core/lib/services/cache/cache.service.ts","ng://data-core/lib/interfaces/model/model.interface.ts","ng://data-core/lib/interfaces/condition/icondition.interface.ts","ng://data-core/lib/services/models/models.service.ts","ng://data-core/lib/services/smartloc/smartloc.service.ts","ng://data-core/lib/services/googlemaps/googlemaps.service.ts","ng://data-core/lib/services/workplace/workplace.service.ts","ng://data-core/lib/services/files/files.service.ts","ng://data-core/lib/services/box/box.service.ts","ng://data-core/lib/services/unsplash/unsplash.service.ts","ng://data-core/lib/interfaces/response-object/response-object.interface.ts","ng://data-core/lib/services/broker/broker.service.ts","ng://data-core/lib/decorators/editable/editable.decorator.ts","ng://data-core/lib/decorators/searchable/searchable.decorator.ts","ng://data-core/lib/decorators/model/model.decorator.ts","ng://data-core/lib/interfaces/condition/condition.interface.ts","ng://data-core/lib/interfaces/constants/constants.interface.ts","ng://data-core/lib/interfaces/tenant/tenant.interface.ts","ng://data-core/lib/interfaces/location-type/location-type.interface.ts","ng://data-core/lib/decorators/mapping/mapping.decorator.ts","ng://data-core/lib/interfaces/location/location.interface.ts","ng://data-core/lib/interfaces/user/user.interface.ts","ng://data-core/lib/interfaces/notification/notification.interface.ts","ng://data-core/lib/services/push/push.service.ts","ng://data-core/lib/services/authentication/authentication.service.ts","ng://data-core/lib/services/authentication/authentication.guard.ts","ng://data-core/lib/services/backup/backup.service.ts","ng://data-core/lib/services/blog/blog.service.ts","ng://data-core/lib/services/authentication/current-session.resolver.ts","ng://data-core/lib/services/dashboard/dashboard.service.ts","ng://data-core/lib/services/files/files-broker.service.ts","ng://data-core/lib/services/googletranslate/googletranslate.service.ts","ng://data-core/lib/services/http-interceptor/http-interceptor.service.ts","ng://data-core/lib/services/platform/platform.service.ts","ng://data-core/lib/services/locations/locations.service.ts","ng://data-core/lib/services/loopback/loopback.service.ts","ng://data-core/lib/interfaces/mission-description/mission-description.interface.ts","ng://data-core/lib/services/missiondescriptions/missiondescriptions.service.ts","ng://data-core/lib/services/print/print.service.ts","ng://data-core/lib/interfaces/group/group.interface.ts","ng://data-core/lib/services/security/security.service.ts","ng://data-core/lib/services/tenants/tenants.service.ts","ng://data-core/lib/services/users/users.service.ts","ng://data-core/lib/services/version/version.service.ts","ng://data-core/lib/services/xlsx/xlsx.service.ts","ng://data-core/lib/pipes/filter/filter.pipe.ts","ng://data-core/lib/data-core.module.ts","ng://data-core/lib/interfaces/aggregate-log/aggregate-log.interface.ts","ng://data-core/lib/interfaces/algorithm/algorithm.interface.ts","ng://data-core/lib/interfaces/autorenew-config/autorenew-config.interface.ts","ng://data-core/lib/interfaces/backup/backup.interface.ts","ng://data-core/lib/interfaces/catalog/catalog.interface.ts","ng://data-core/lib/interfaces/chart-definition/chart-definition.interface.ts","ng://data-core/lib/interfaces/currency/currency.interface.ts","ng://data-core/lib/interfaces/dashboard/dashboard.interface.ts","ng://data-core/lib/interfaces/entity/entity.interface.ts","ng://data-core/lib/interfaces/file/file.interface.ts","ng://data-core/lib/interfaces/folder/folder.interface.ts","ng://data-core/lib/interfaces/dates/dates.interface.ts","ng://data-core/lib/interfaces/kpi/kpi.interface.ts","ng://data-core/lib/interfaces/mapping/mapping.interface.ts","ng://data-core/lib/interfaces/operation/operation.interface.ts","ng://data-core/lib/interfaces/product/product.interface.ts","ng://data-core/lib/interfaces/public-api-token/public-api-token.interface.ts","ng://data-core/lib/interfaces/slide/slide.interface.ts","ng://data-core/lib/interfaces/tableau/tableau.interface.ts","ng://data-core/lib/interfaces/tag-group/tag-group.interface.ts","ng://data-core/lib/interfaces/tag/tag.interface.ts","ng://data-core/lib/interfaces/todo/todo.interface.ts","ng://data-core/lib/interfaces/translation/translation.interface.ts","ng://data-core/lib/interfaces/workplace/workplace.interface.ts","ng://data-core/lib/services/activity/activity.service.ts","ng://data-core/lib/services/data-loader/data-loader.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { LocalStorage, CoreConfig } from '@shared/common';\nimport { Translate } from '@shared/translate';\nimport { IConfigService } from '@shared/stencil';\n\n@Injectable()\nexport class Config implements IConfigService {\n  private static PROD_URL = 'https://api.yoobic.com/'; //https://yoobic-loopback-prod-v3.herokuapp.com/'; // 'https://api.yoobic.com/'\n  //private static CHINA_PROD_URL = 'https://china.yoobic.com/'; //https://yoobic-loopback-prod-v3.herokuapp.com/'; // 'https://api.yoobic.com/'\n  private static SANDBOX_URL = 'https://api-sandbox.yoobic.com/'; //https://yoobic-loopback-prod-v3.herokuapp.com/'; // 'https://api.yoobic.com/'\n  private static STAGING_URL = 'https://yoobic-loopback-staging-v3.herokuapp.com/';\n  private static DEMO_URL = 'https://api-demo.yoobic.com/';\n  private static DEMO_FRESH_URL = 'https://yoobic-loopback-demo-fresh.herokuapp.com/';\n  private static DEV_URL = 'https://yoobic-loopback-dev-v3.herokuapp.com/';\n  private static DEV1_URL = 'https://yoobic-loopback-dev1-v3.herokuapp.com/';\n  private static LOCALHOST_URL = 'https://localhost:3000/';\n  private static TESTPEN_URL = 'https://testpen.yoobic.com/';\n  private static TRIAL_URL = 'https://yoobic-loopback-trial.herokuapp.com/';\n  private static E2E_URL = 'https://yoobic-loopback-e2e.herokuapp.com/';\n\n  private static IMAGE_URL = 'https://upload.yoobic.com/api/'; // 'https://images.yoobic.com/api/ImageContainers/cloudinary/upload'; //'https://192.168.1.88:3000/api/ImageContainers/cloudinary/upload'//'http://localhost:3000/api/ImageContainers/cloudinary/upload'; //\n\n  private static ZAPIER_INSTAGRAM_PROD_URL = 'https://etl.yoobic.com/flows/zapier_instagram_start';\n  private server: string;\n\n  constructor(protected localStorage: LocalStorage, protected coreConfig: CoreConfig, protected translate: Translate) {}\n\n  public get servers() {\n    let servers = [\n      { _id: 'prod', name: 'Production', url: Config.PROD_URL },\n      { _id: 'sandbox', name: 'Sandbox', url: Config.SANDBOX_URL },\n      { _id: 'demo', name: 'Demo', url: Config.DEMO_URL },\n      { _id: 'demofresh', name: 'Demo Fresh', url: Config.DEMO_FRESH_URL },\n      { _id: 'staging', name: 'Staging', url: Config.STAGING_URL },\n      { _id: 'dev', name: 'Development', url: Config.DEV_URL },\n      { _id: 'dev1', name: 'Development 1', url: Config.DEV1_URL },\n      { _id: 'trial', name: 'Trial', url: Config.TRIAL_URL },\n      { _id: 'e2e', name: 'E2E', url: Config.E2E_URL }\n    ];\n\n    if (!this.coreConfig.isUniversal() || location.hostname === 'localhost') {\n      servers.push({ _id: 'localhost', name: 'Localhost', url: Config.LOCALHOST_URL });\n      servers.push({ _id: 'testpen', name: 'Testpen', url: Config.TESTPEN_URL });\n    }\n    if (this.isTestpen) {\n      servers = [{ _id: 'testpen', name: 'Testpen', url: Config.TESTPEN_URL }];\n    }\n    if (this.isSandbox) {\n      servers = [{ _id: 'sandbox', name: 'Sandbox', url: Config.SANDBOX_URL }];\n    }\n    return servers;\n  }\n\n  public get serverUrl() {\n    if (this.isTestpen) {\n      return Config.TESTPEN_URL;\n    }\n    if (this.isSandbox) {\n      return Config.SANDBOX_URL;\n    }\n    let defaultServer;\n    if (this.server && this.server !== '') {\n      defaultServer = this.server;\n    } else {\n      defaultServer = Config.PROD_URL; //Config.DEV_URL;\n    }\n    this.server = this.localStorage.get('SERVER') || defaultServer;\n    return this.server;\n  }\n\n  public get serverName() {\n    let server = this.servers.filter(s => s.url === this.serverUrl);\n    if (server && server.length === 1) {\n      return server[0].name;\n    }\n    return this.translate.get('CUSTOM');\n  }\n\n  public set serverUrl(url) {\n    this.localStorage.set('SERVER', url);\n  }\n\n  public get apiUrl() {\n    return this.serverUrl + 'api/';\n  }\n\n  public get publicApiUrl() {\n    return this.serverUrl + 'public/api/';\n  }\n\n  public get uploadUrl() {\n    return (this.localStorage.get('SERVER_IMAGE') || Config.IMAGE_URL) + 'ImageContainers/cloudinary/upload';\n  }\n\n  public get uploadProxyUrl() {\n    return (this.localStorage.get('SERVER_IMAGE') || Config.IMAGE_URL) + 'cloudinary/uploadProxyImage';\n  }\n\n  public get zapierInstagramUrl() {\n    let url = this.serverUrl;\n    switch (url) {\n      case Config.PROD_URL:\n        return Config.ZAPIER_INSTAGRAM_PROD_URL;\n      default:\n        return '';\n    }\n  }\n\n  public get isTestpen() {\n    return !this.coreConfig.isUniversal() && (location.hostname === 'testpen-dashboard.yoobic.com' || location.hostname === 'testpen-mobile.yoobic.com' || this.server === Config.TESTPEN_URL);\n  }\n\n  public get isSandbox() {\n    return !this.coreConfig.isUniversal() && (location.hostname === 'dashboard-sandbox.yoobic.com' || location.hostname === 'operations-sandbox.yoobic.com' || location.hostname === 'operations-mobile-sandbox.yoobic.com');\n  }\n\n  public get isE2E() {\n    return this.serverUrl === Config.E2E_URL;\n  }\n\n  public get isProduction() {\n    return this.serverUrl === Config.PROD_URL;\n  }\n\n  public get isDemo() {\n    return this.serverUrl === Config.DEMO_URL || this.serverUrl === Config.DEMO_FRESH_URL;\n  }\n\n  public getCurrentConfig() {\n    let items = this.servers.map(server => ({\n      title: server.name,\n      url: server.url,\n      _id: server._id,\n      icon: 'yo-servers'\n    }));\n    let custom: { title: string; url: string; _id: string; icon: string } = {\n      title: this.translate.get('CUSTOM'),\n      url: null,\n      _id: 'custom',\n      icon: 'yo-edit'\n    };\n    let selections = items.filter(s => s.url === this.serverUrl);\n    let initialSelection: { title: string; url: string; _id: string; icon: string };\n    if (selections.length <= 0) {\n      custom.url = this.serverUrl;\n      initialSelection = custom;\n    } else {\n      initialSelection = selections[0];\n    }\n    items.unshift(custom);\n\n    return { items, initialSelection, custom };\n  }\n}\n","import { Injectable } from '@angular/core';\n//import { User } from '../../interfaces/user/user.interface';\nimport { Currency } from '../../interfaces/currency/currency.interface';\nimport { Location } from '../../interfaces/location/location.interface';\nimport { Tenant } from '../../interfaces/tenant/tenant.interface';\nimport { Config } from '../config/config.service';\n\nimport { MissionDescription } from '../../interfaces/mission-description/mission-description.interface';\nimport { Persistent, LocalForageService } from '@shared/common';\nimport { IUser, ISessionService, ITranslation } from '@shared/stencil';\n\n@Injectable()\nexport class Session implements ISessionService {\n  public token: string;\n  public user: IUser;\n  public userId: string;\n  public currencies: Array<Currency>;\n  public groups: Array<string>;\n  public roles: Array<string>;\n  public tenant: Tenant;\n  public photoAnnotationTranslations: Array<ITranslation>;\n  public cameraStarted: boolean;\n  public hasScandit: boolean;\n\n  @Persistent('login.hideWalkthrough') public hideWalkthrough: boolean;\n  @Persistent('badges') localPendingBadges;\n  @Persistent('debugEvent') debugEvent: boolean;\n\n  public openedChannels: Array<string> = [];\n\n  public selectedMissionDescription: MissionDescription = null;\n  public selectedLocation: Location = null;\n\n  constructor(protected localForage: LocalForageService, protected config: Config) {}\n\n  get apiUrl() {\n    return this.config.apiUrl;\n  }\n\n  clear(clearUser = true) {\n    if (clearUser) {\n      this.token = '';\n      this.user = null;\n      this.userId = null;\n      this.tenant = null;\n      this.currencies = [];\n      this.groups = [];\n      this.roles = [];\n      this.hideWalkthrough = false;\n      this.localPendingBadges = {};\n      this.debugEvent = false;\n    }\n    return Promise.resolve();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { isPresent } from '@shared/stencil';\n\nimport { Observable, Subscriber } from 'rxjs';\n\nexport enum LoadingBarEventType {\n  PROGRESS,\n  VISIBLE\n}\n\nexport class LoadingBarEvent {\n  constructor(public type: LoadingBarEventType, public value: any) {}\n}\n\n@Injectable()\nexport class LoadingBar {\n  public interval: number = 500; // in milliseconds\n  public observable: Observable<LoadingBarEvent>;\n\n  private _progress: number = 0;\n  private _visible: boolean = true;\n  private _intervalCounterId: any = 0;\n  private subscriber: Subscriber<LoadingBarEvent>;\n  private isStarting: boolean;\n\n  constructor() {\n    this.observable = new Observable<LoadingBarEvent>((subscriber: Subscriber<LoadingBarEvent>) => {\n      this.subscriber = subscriber;\n    });\n  }\n\n  set progress(value: number) {\n    if (isPresent(value)) {\n      if (value > 0) {\n        this.visible = true;\n      }\n      this._progress = value;\n      this.emitEvent(new LoadingBarEvent(LoadingBarEventType.PROGRESS, this._progress));\n    }\n  }\n\n  get progress(): number {\n    return this._progress;\n  }\n\n  set visible(value: boolean) {\n    if (isPresent(value)) {\n      this._visible = value;\n      this.emitEvent(new LoadingBarEvent(LoadingBarEventType.VISIBLE, this._visible));\n    }\n  }\n\n  get visible(): boolean {\n    return this._visible;\n  }\n\n  start(onCompleted: Function = null) {\n    if (!this.isStarting) {\n      this.isStarting = true;\n      this.complete();\n      this.visible = true;\n      this._intervalCounterId = setInterval(() => {\n        this.progress++;\n        if (this.progress === 100) {\n          this.complete();\n        }\n      }, this.interval);\n      this.isStarting = false;\n    }\n  }\n\n  complete() {\n    if (this._intervalCounterId) {\n      clearInterval(this._intervalCounterId);\n      this._intervalCounterId = null;\n    }\n    this.progress = 100;\n    setTimeout(() => {\n      this.visible = false;\n      this.progress = 0;\n    }, 250);\n  }\n\n  private emitEvent(event: LoadingBarEvent) {\n    if (this.subscriber) {\n      this.subscriber.next(event);\n    }\n  }\n}\n","import { Injectable, EventEmitter } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpResponse, HttpParams } from '@angular/common/http';\n\nimport { Session } from '../session/session.service';\nimport { Config } from '../config/config.service';\nimport { LoadingBar } from '../loading-bar/loading-bar.service';\n\nimport { CoreConfig } from '@shared/common';\n\n//import * as FileSaver from 'file-saver';\nimport saveAs from 'file-saver';\nimport { keys } from 'lodash-es';\n\nimport { Observable, of } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\n\n/* beautify ignore:start */\ndeclare var fetch;\n/* beautify ignore:end */\n\n@Injectable()\nexport class Requestor {\n  static unauthorizedEmitter = new EventEmitter<any>();\n  static payloadTooBigEmitter = new EventEmitter<any>();\n\n  constructor(protected http: HttpClient, public session: Session, protected config: Config, protected loadingBar: LoadingBar, protected coreConfig: CoreConfig) {}\n\n  fetch(url: string, options: any) {\n    if (options.body && typeof options.body === 'object') {\n      options.body = JSON.stringify(options.body);\n    }\n    if (options.noHeader !== true) {\n      options.headers = this.buildFetchHeaders();\n    }\n    delete options.noHeader;\n    this.slimbarStart();\n    return fetch(url, options)\n      .then(res => {\n        this.slimbarComplete();\n        return res;\n      })\n      .catch(e => {\n        this.slimbarComplete();\n        return this.errorHandler(e, url);\n      });\n  }\n\n  post(url: string, body: any, token?: string, withCount: boolean = false, isTempToken: boolean = false, looseCount: boolean = false, partialUrl: boolean = false): Observable<any> {\n    this.slimbarStart();\n    if (partialUrl) {\n      url = this.config.apiUrl + url;\n    }\n    return this.http\n      .post(url, body ? JSON.stringify(body) : '', {\n        headers: this.buildHeaders(withCount, token, null, isTempToken, false, looseCount),\n        observe: 'response'\n      })\n      .pipe(\n        map(\n          (res: HttpResponse<any>): any => {\n            this.slimbarComplete();\n            this.updateToken(res);\n            if (res['_body'] === '') {\n              return {};\n            }\n            return this.formatResponse(res, withCount);\n          }\n        ),\n        catchError(e => {\n          this.slimbarComplete();\n          return this.errorHandler(e, url);\n        })\n      );\n  }\n\n  patch(url: string, body: any, token?: string, withCount: boolean = false, isTempToken: boolean = false, looseCount: boolean = false, partialUrl: boolean = false): Observable<any> {\n    this.slimbarStart();\n    if (partialUrl) {\n      url = this.config.apiUrl + url;\n    }\n    return this.http\n      .patch(url, body ? JSON.stringify(body) : '', {\n        headers: this.buildHeaders(withCount, token, null, isTempToken, false, looseCount),\n        observe: 'response'\n      })\n      .pipe(\n        map(\n          (res: HttpResponse<any>): any => {\n            this.slimbarComplete();\n            this.updateToken(res);\n            if (res['_body'] === '') {\n              return {};\n            }\n            return this.formatResponse(res, withCount);\n          }\n        ),\n        catchError(e => {\n          this.slimbarComplete();\n          return this.errorHandler(e, url);\n        })\n      );\n  }\n\n  postRaw(url: string, body: any, blob?: boolean, includeToken?: boolean) {\n    this.slimbarStart();\n    return this.http\n      .post(url, body ? JSON.stringify(body) : '', {\n        headers: this.buildHeaders(false, null, null, null, !includeToken),\n        responseType: <any>(blob ? 'arraybuffer' : 'json'),\n        observe: 'response'\n      })\n      .pipe(\n        map(\n          (res: HttpResponse<any>): any => {\n            this.slimbarComplete();\n            return res;\n          }\n        ),\n        catchError(e => {\n          this.slimbarComplete();\n          return this.errorHandler(e, url);\n        })\n      );\n  }\n\n  postMultiPart(url: string, data: Object) {\n    this.slimbarStart();\n    const formData = new FormData();\n    keys(data).forEach(key => {\n      formData.append(key, data[key]);\n    });\n    const headers = new HttpHeaders();\n    return this.http\n      .post(url, formData, { headers, observe: 'response', responseType: 'text' })\n      .pipe(\n        map((ret: HttpResponse<any>) => {\n          this.slimbarComplete();\n          return ret.body;\n        })\n      )\n      .pipe(\n        catchError(e => {\n          this.slimbarComplete();\n          throw e;\n        })\n      );\n  }\n\n  postFile(url: string, file: File): Observable<any> {\n    this.slimbarStart();\n    return new Observable(observer => {\n      let formData: FormData = new FormData();\n      formData.append('file', file, file.name);\n      let xhr: XMLHttpRequest = new XMLHttpRequest();\n      xhr.onreadystatechange = () => {\n        if (xhr.readyState === 4) {\n          if (xhr.status === 200) {\n            observer.next(xhr.response ? JSON.parse(xhr.response) : '');\n            observer.complete();\n          } else {\n            observer.error(xhr.response);\n          }\n          this.slimbarComplete();\n        }\n      };\n      xhr.open('POST', url, true);\n      xhr.setRequestHeader('Authorization', 'Bearer ' + this.session.token);\n      xhr.setRequestHeader('X-Application-Id', this.coreConfig.getAppId());\n      xhr.setRequestHeader('Yoobic-Client-Version', this.coreConfig.getAppVersion());\n      xhr.send(formData);\n    });\n  }\n\n  get(url: string, withCount: boolean = false, token?: string, params?: Array<{ name: string; value: any }>, suppressToken?: boolean): Observable<any> {\n    this.slimbarStart();\n    let httpParams = new HttpParams();\n    if (params && params.length > 0) {\n      params.forEach(p => {\n        httpParams = httpParams.set(p.name, p.value);\n      });\n    }\n\n    return this.http\n      .get(url, {\n        headers: this.buildHeaders(withCount, token, null, null, suppressToken),\n        params: httpParams,\n        observe: 'response'\n      })\n      .pipe(\n        catchError(e => {\n          this.slimbarComplete();\n          return this.errorHandler(e, url);\n        }),\n        map((res: HttpResponse<any>) => {\n          this.slimbarComplete();\n          this.updateToken(res);\n          return this.formatResponse(res, withCount);\n        })\n      );\n  }\n\n  getBinaryContent(url: string): Observable<any> {\n    this.slimbarStart();\n    return this.http\n      .get(url, { responseType: 'arraybuffer' })\n      .pipe(\n        map(retVal => {\n          this.slimbarComplete();\n          return retVal;\n        })\n      )\n      .pipe(\n        catchError(e => {\n          this.slimbarComplete();\n          return this.errorHandler(e, url);\n        })\n      );\n  }\n\n  put(url: string, body: any): Observable<any> {\n    this.slimbarStart();\n    return this.http\n      .put(url, body ? JSON.stringify(body) : null, {\n        headers: this.buildHeaders(),\n        observe: 'response'\n      })\n      .pipe(\n        map((res: HttpResponse<any>) => {\n          this.updateToken(res);\n          this.slimbarComplete();\n          return res.body;\n        }),\n        catchError(e => {\n          this.slimbarComplete();\n          return this.errorHandler(e, url);\n        })\n      );\n  }\n\n  delete(url: string, body?: any): Observable<any> {\n    this.slimbarStart();\n    return this.http\n      .request('delete', url, {\n        headers: this.buildHeaders(),\n        observe: 'response',\n        body: body\n      })\n      .pipe(\n        map((res: HttpResponse<any>) => {\n          this.updateToken(res);\n          this.slimbarComplete();\n          return res.body;\n        }),\n        catchError(e => {\n          this.slimbarComplete();\n          return this.errorHandler(e, url);\n        })\n      );\n  }\n\n  downloadFile(filename: string, mediaType: string, url: string, options: any): Promise<any> {\n    this.slimbarStart();\n    return this.fetch(url, options)\n      .then(res => {\n        return res && res.blob ? res.blob() : null;\n      })\n      .then(blob => {\n        if (blob) {\n          (<any>saveAs)(blob, filename);\n        }\n        this.slimbarComplete();\n      })\n      .catch(e => {\n        this.slimbarComplete();\n        return this.errorHandler(e, url);\n      });\n  }\n\n  saveBlob(blob: Blob, filename: string) {\n    (<any>saveAs)(blob, filename);\n  }\n\n  saveArrayBuffer(array: ArrayBuffer, filename: string) {\n    let blob = new Blob([new Uint8Array(array)]);\n    (<any>saveAs)(blob, filename);\n  }\n\n  getFilenameSuffix(): string {\n    return '_' + new Date().toISOString().replace('.', '_');\n  }\n\n  private errorHandler(e: any, url) {\n    let isInvalidCredentials: boolean = false;\n    if (e && e.status === 401 && url && url.indexOf(this.config.serverUrl) >= 0 && e.error && e.error.error && (e.error.error.name === 'InvalidCredentials' || e.error.error.name === 'OnlySsoLoginAllowed' || e.error.error.message === 'Only SSO login allowed')) {\n      isInvalidCredentials = true;\n    }\n    if (e.status === 401 && url && url.indexOf(this.config.serverUrl) >= 0 && !isInvalidCredentials && url.indexOf('getCampaignScore') < 0 && e.error && e.error.error && e.error.error.name && e.error.error.name.toUpperCase() === 'LOGOUT') {\n      Requestor.unauthorizedEmitter.emit(e);\n    } else if (e.status === 413) {\n      Requestor.payloadTooBigEmitter.emit(e);\n    } else if (e.status === 404) {\n      return of(new HttpResponse<any>(<any>{ body: {}, status: 404 }));\n    } //else {\n    throw e;\n    //}\n    //return Observable.of(e);\n  }\n\n  private formatResponse(res: HttpResponse<any>, withCount: boolean = false) {\n    return withCount\n      ? {\n          data: res.body,\n          count: +(res.headers.get('x-total-count') || res.headers.get('X-Total-Count') || res.headers.get('x-loose-count') || res.headers.get('X-Loose-Count')) || 0\n        }\n      : res.body;\n  }\n\n  private buildHeaders(withCount: boolean = false, token?: string, contentType?: string, isTempToken?: boolean, suppressToken?: boolean, looseCount?: boolean) {\n    let headers = new HttpHeaders();\n    headers = headers.set('Content-Type', contentType || 'application/json');\n    headers = headers.set('Accept', 'application/json');\n    headers = headers.set('X-Application-Id', this.coreConfig.getAppId());\n    headers = headers.set('Yoobic-Client-Version', this.coreConfig.getAppVersion());\n\n    if (withCount) {\n      if (looseCount) {\n        headers = headers.set('x-loose-count', 'true');\n      }\n      headers = headers.set('x-total-count', 'true');\n    } else {\n      headers = headers.set('x-loose-count', 'true');\n    }\n    if (suppressToken !== true) {\n      if (token) {\n        if (isTempToken) {\n          headers = headers.set('token', token);\n        } else {\n          headers = headers.set('Authorization', 'Bearer ' + token);\n        }\n      } else if (this.session.token) {\n        headers = headers.set('Authorization', 'Bearer ' + this.session.token);\n      }\n    }\n    return headers;\n  }\n\n  private buildFetchHeaders(withCount: boolean = false, token?: string, contentType?: string, isTempToken?: boolean, suppressToken?: boolean, looseCount?: boolean) {\n    try {\n      if (!this.coreConfig.isIE11() && Headers) {\n        let headers = new Headers();\n        headers.append('Content-Type', contentType || 'application/json');\n        headers.append('Accept', 'application/json');\n        headers.append('X-Application-Id', this.coreConfig.getAppId());\n        headers.append('Yoobic-Client-Version', this.coreConfig.getAppVersion());\n\n        if (withCount) {\n          if (looseCount) {\n            headers.append('x-loose-count', 'true');\n          }\n          headers.append('x-total-count', 'true');\n        }\n        if (suppressToken !== true) {\n          if (token) {\n            if (isTempToken) {\n              headers.append('token', token);\n            } else {\n              headers.append('Authorization', 'Bearer ' + token);\n            }\n          } else if (this.session.token) {\n            headers.append('Authorization', 'Bearer ' + this.session.token);\n          }\n        }\n        return headers;\n      }\n    } catch (err) {}\n    return this.buildFetchHeadersFallback(withCount, token, contentType, isTempToken, suppressToken, looseCount);\n  }\n\n  private buildFetchHeadersFallback(withCount: boolean = false, token?: string, contentType?: string, isTempToken?: boolean, suppressToken?: boolean, looseCount?: boolean) {\n    let headers = {};\n    headers['Content-Type'] = [contentType || 'application/json'];\n    headers['Accept'] = ['application/json'];\n    headers['X-Application-Id'] = [this.coreConfig.getAppId()];\n    headers['Yoobic-Client-Version'] = [this.coreConfig.getAppVersion()];\n\n    if (withCount) {\n      if (looseCount) {\n        headers['x-loose-count'] = ['true'];\n      }\n      headers['x-total-count'] = ['true'];\n    }\n    if (suppressToken !== true) {\n      if (token) {\n        if (isTempToken) {\n          headers['token'] = [token];\n        } else {\n          headers['Authorization'] = ['Bearer ' + token];\n        }\n      } else if (this.session.token) {\n        headers['Authorization'] = ['Bearer ' + this.session.token];\n      }\n    }\n    return headers;\n  }\n\n  private updateToken(res: HttpResponse<any>) {\n    if (res && res.url && res.url.indexOf(this.config.serverUrl) >= 0 && res.headers && res.headers.get('authorization')) {\n      this.session.token = res.headers.get('authorization');\n    }\n  }\n\n  private slimbarStart() {\n    this.loadingBar.start();\n  }\n\n  private slimbarComplete() {\n    this.loadingBar.complete();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Config } from '../config/config.service';\nimport { Requestor } from '../requestor/requestor.service';\nimport { Observable, throwError } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\n@Injectable()\nexport class Algorithms {\n  constructor(private config: Config, private rq: Requestor) {}\n\n  process(imageUrl: string, algorithmId: string): Observable<any> {\n    let url = this.config.apiUrl + 'algorithm/process';\n    return this.rq.post(url, { image_url: imageUrl, algorithm_id: algorithmId }).pipe(\n      catchError(err => {\n        return throwError(err);\n      }),\n      map(retVal => {\n        return retVal && retVal.results ? retVal.results || {} : {};\n      })\n    );\n  }\n\n  processMultiple(imageUrls: Array<string>, algorithmId: string): Observable<any> {\n    let url = this.config.apiUrl + 'algorithm/process';\n    return this.rq.post(url, { image_url: imageUrls, algorithm_id: algorithmId }).pipe(\n      catchError(err => {\n        return throwError(err);\n      }),\n      map(retVal => {\n        return retVal && retVal.results ? retVal.results || {} : {};\n      })\n    );\n  }\n}\n","export const CACHE_KEYS = {\n  chart: 'chart',\n  missiondescriptions: 'missiondescriptions',\n  missiondatas: 'missiondatas',\n  missionhistory: 'missionhistory',\n  missionprogress: 'missionprogress',\n  missions: 'missions',\n  missionservices: 'missionservices',\n\n  addresses: 'addresses',\n  healthscore: 'healthscore',\n  database: 'database'\n};\n","import { Injectable } from '@angular/core';\n\nimport { IEntity, getUUID } from '@shared/stencil';\nimport { LocalForageService, PromiseService, Log } from '@shared/common';\n\nimport { CACHE_KEYS } from '../../interfaces/cache/cache.interface';\n\nimport { from } from 'rxjs';\nimport { keys } from 'lodash-es';\n\n@Injectable()\nexport class Cache {\n  public static OFFLINE_PREFIX = 'offline_';\n\n  constructor(protected localForage: LocalForageService, protected promise: PromiseService, protected log: Log) {}\n\n  add(cacheKey: string, entryKey: string, item: any) {\n    return this.localForage\n      .get(cacheKey)\n      .then((data: any) => {\n        data = data || {};\n        if (entryKey) {\n          data[entryKey] = item;\n        }\n        return this.localForage.set(cacheKey, data);\n      })\n      .then(() => item);\n  }\n\n  get(cacheKey: string, entryKey: string) {\n    return from(\n      this.localForage.get(cacheKey).then(data => {\n        data = data || {};\n        return data[entryKey] || {};\n      })\n    );\n  }\n\n  getAll(cacheKey: string) {\n    return this.localForage.get(cacheKey).then((data: any) => {\n      data = data || {};\n      let retVal = [];\n      keys(data).forEach(key => {\n        if (data[key]) {\n          retVal.push(data[key]);\n        }\n      });\n      return retVal;\n    });\n  }\n\n  remove(cacheKey: string, entryKey: string) {\n    return from(\n      this.localForage.get(cacheKey).then(data => {\n        data = data || {};\n        delete data[entryKey];\n        return this.localForage.set(cacheKey, data);\n      })\n    );\n  }\n\n  getDatabaseCacheKey(collectionName: string) {\n    return CACHE_KEYS.database + '.' + collectionName;\n  }\n\n  getDatabaseCollection<T = IEntity>(collectionName: string): Promise<Array<T>> {\n    let cacheKey = this.getDatabaseCacheKey(collectionName);\n    return this.localForage.get(cacheKey).then((data: Array<T>) => {\n      return data || [];\n    });\n  }\n\n  setDatabaseCollection<T = IEntity>(collectionName: string, items: Array<T>): Promise<Array<T>> {\n    let cacheKey = this.getDatabaseCacheKey(collectionName);\n    return this.localForage.set(cacheKey, items);\n  }\n\n  updateDatabaseCollection<T = IEntity>(collectionName: string, items: Array<T>, idField: string = '_id', deletedKeys?: Array<string>) {\n    let cacheKey = this.getDatabaseCacheKey(collectionName);\n    return this.localForage.get(cacheKey).then((data: Array<T>) => {\n      data = data || [];\n      if (items && items.length > 0) {\n        data = data.filter(d => items.findIndex(r => r[idField] === d[idField]) < 0);\n      }\n      data = [...data, ...items];\n      if (deletedKeys && deletedKeys.length > 0) {\n        data = data.filter(d => deletedKeys.findIndex(r => r[idField] === d[idField]) < 0);\n      }\n      this.log.log('Syncing Database - Syncing ' + collectionName + ' done : ' + data.length + ' entities locally');\n      return this.localForage.set(cacheKey, data);\n    });\n  }\n\n  clearDatabaseCollection(collectionName: string) {\n    let cacheKey = this.getDatabaseCacheKey(collectionName);\n    this.log.log('Syncing Database - Clearing ' + collectionName);\n    return this.localForage.remove(cacheKey);\n  }\n\n  upsertInDatabaseCollection<T = IEntity>(collectionName: string, entity: T, patch: boolean = false, idField: string = '_id') {\n    entity[idField] = entity[idField] || Cache.OFFLINE_PREFIX + getUUID();\n    return this.getByIdFromDatabaseCollection(collectionName, entity[idField]).then(retVal => {\n      if (retVal && patch) {\n        entity = { ...retVal, ...(entity as any) };\n      }\n      return this.updateDatabaseCollection(collectionName, [entity], idField).then(() => {\n        return entity;\n      });\n    });\n  }\n\n  removeFromDatabaseCollection<T = IEntity>(collectionName: string, id: string, idField: string = '_id') {\n    return this.getDatabaseCollection<T>(collectionName).then(data => {\n      data = data.filter(d => d[idField] !== id);\n      return this.setDatabaseCollection<T>(collectionName, data);\n    });\n  }\n\n  replaceFromDatabaseCollection<T = IEntity>(collectionName: string, id: string, newEntity: T, idField: string = '_id') {\n    return this.getDatabaseCollection<T>(collectionName).then(data => {\n      data = data.filter(d => d[idField] !== id);\n      data = [...data, newEntity];\n      return this.setDatabaseCollection<T>(collectionName, data);\n    });\n  }\n\n  getByIdFromDatabaseCollection<T = IEntity>(collectionName: string, id: string, idField: string = '_id') {\n    return this.getDatabaseCollection<T>(collectionName).then(data => {\n      let retVal = data.find(d => d[idField] === id);\n      return retVal;\n    });\n  }\n}\n","import { IFormField } from '@shared/stencil';\nimport { cloneDeep } from 'lodash-es';\n\nexport class IModel {\n  className: string;\n  collectionName: string;\n  searchableFields: Array<string>;\n  fields: Array<string>;\n  mappingFields: Map<number, string>;\n  appearance: Map<string, any>;\n  include: Array<string>;\n  searchSubquery: { collectionName: string; field: string; values: string };\n  feathersService?: string;\n  type: any;\n  isCustom?: boolean;\n  detailComponent?: string;\n  icon?: string;\n\n  private _formFields: Array<IFormField>;\n  public get formFields(): Array<IFormField> {\n    return cloneDeep(this._formFields);\n  }\n  public set formFields(f: Array<IFormField>) {\n    this._formFields = f;\n  }\n\n  constructor(className) {\n    this.className = className;\n    this.searchableFields = new Array<string>();\n    this.mappingFields = new Map<number, string>();\n    this._formFields = new Array<IFormField>();\n    this.appearance = new Map<string, any>();\n  }\n}\n","export const CONDITION_TYPES = ['field', 'tags', 'groups'];\nexport const CONDITION_ALL_OPERATORS = ['equals', 'notequals', 'in', 'notin', 'greaterthan', 'lessthan'];\nexport const SIMPLE_FIELD_TYPES = ['text', 'email', 'number', 'date', 'tel', 'time', 'range', 'starrating'];\nexport const WITH_VALUES_FIELD_TYPES = ['checkbox', 'toggle', 'select', 'selectmulti', 'selectbuttons', 'selectbuttonsmulti', 'autocomplete'];\n\nexport interface ICondition {\n  _id?: string;\n  type?: string;\n  operator?: string;\n  title?: string;\n  field?: any;\n  tags?: Array<string>;\n  group?: Array<string>;\n  values?: Array<any>;\n  value?: any;\n  key?: string;\n}\n\nexport const ROLES = [\n  'dashboard',\n  'admin',\n  'manager',\n  'team',\n  'teamplus',\n  'creator',\n  'service',\n  'supervisor',\n  'quora',\n  'kiosk',\n  'score',\n  'nochat',\n  'anonymous',\n  'stat',\n  'todo',\n  'serviceuser',\n  'polluser',\n  'newsuser',\n  'newscreator',\n  'documentsuser',\n  'calendaruser',\n  'store',\n  'clientadmin',\n  'missionanalysis',\n  'missionviewer',\n  'followup',\n  'followupnouser',\n  'profilenoedit',\n  'workplace',\n  'trial',\n  'videocall',\n  'academy',\n  'pharmaone',\n  'instagram',\n  'taskuser',\n  'taskcreator',\n  'bi',\n  'storeinsights',\n  'healthscore',\n  'visit',\n  'imagereco',\n  'productbatch',\n  'taskassign',\n  'scandit'\n];\n\nexport const ROLES_ASK = ['manager', 'creator', 'quora', 'academy', 'academyplus'];\n\nexport const ROLES_CONDITIONS = {\n  isAdmin: { type: 'roles', operator: 'in', group: ['admin'] },\n  isClientAdmin: { type: 'roles', operator: 'in', group: ['clientadmin'] },\n  isAdminOrClientAdmin: { type: 'roles', operator: 'in', group: ['admin', 'clientadmin'] },\n  isNotAdmin: { type: 'roles', operator: 'nin', group: ['admin'] },\n  isNeitherAdminNorClientAdmin: { type: 'roles', operator: 'nin', group: ['admin', 'clientadmin'] },\n  isManager: { type: 'roles', operator: 'in', group: ['manager'] },\n  isNotManager: { type: 'roles', operator: 'nin', group: ['manager', 'admin'] },\n  isTeam: { type: 'roles', operator: 'in', group: ['team'] },\n  isWorkplace: { type: 'roles', operator: 'in', group: ['admin', 'workplace'] },\n  hasTodoOrScore: { type: 'roles', operator: 'in', group: ['todo', 'score'] },\n  hasTodo: { type: 'roles', operator: 'in', group: ['todo'] },\n  hasScore: { type: 'roles', operator: 'in', group: ['score'] },\n  hasService: { type: 'roles', operator: 'in', group: ['admin', 'service'] },\n  hasProductBatch: { type: 'roles', operator: 'in', group: ['admin', 'productbatch'] },\n  hasMemoAssign: { type: 'roles', operator: 'in', group: ['admin', 'taskassign'] }\n};\n","import { Injectable, Type } from '@angular/core';\nimport { isPresent, dateFormat, dateAdd, Filters, FilterField, FilterOperator, SubQuery, IFormField, MOBILE_FORM_FIELDS_ALL, FormFieldType, isImageFile, isNumberField, isBooleanField, isPhotoField, isMultiPhotosField, isPhotoOrMultiPhotosField, isVideoField, isDateTimeField, isIntervalField, isMultipleField, isColoredField } from '@shared/stencil';\nimport { ResponseObject } from '../../interfaces/response-object/response-object.interface';\nimport { IModel } from '../../interfaces/model/model.interface';\nimport { ROLES_CONDITIONS } from '../../interfaces/condition/icondition.interface';\n\nimport { cloneDeep, compact, uniq, union, isArray, isObject, isString, map, pull, assign, isEmpty, get, findIndex } from 'lodash-es';\n\n/** @name Models\n * @angularType service\n * @description A powerful service which gets the model for a collection or class. The model could include form fields, searchable fields and mapping fields which are useful for generating forms or filters related to the collection or class.\n */\n@Injectable()\nexport class Models {\n  private static _models = new Map<string, IModel>();\n\n  public static addSearchableField(className: string, fieldName: string) {\n    let model = this.createOrGetModel(className);\n    model.searchableFields.push(fieldName);\n    this.updateModel(className, model);\n  }\n\n  public static addMappingField(className: string, fieldName: string, order: number) {\n    let model = this.createOrGetModel(className);\n    model.mappingFields.set(order, fieldName);\n    this.updateModel(className, model);\n  }\n\n  public static addAppearance(className: string, entityListItemProperty: string, appearance: any) {\n    let model = this.createOrGetModel(className);\n    model.appearance.set(entityListItemProperty, appearance);\n    this.updateModel(className, model);\n  }\n\n  public static addFormField(className: string, field: IFormField) {\n    let model = this.createOrGetModel(className);\n    let formFields = model.formFields;\n    formFields = formFields.filter(f => f.name !== field.name);\n    formFields.push(field);\n    model.formFields = formFields;\n    this.updateModel(className, model);\n  }\n\n  public static addBaseModel(className: string, baseClassName: string, target) {\n    let model = this.createOrGetModel(className);\n    let base = this.createOrGetModel(baseClassName);\n    let formFields = model.formFields || [];\n\n    let baseFields = [];\n    if (base.formFields) {\n      base.formFields.map(field => {\n        if (formFields.findIndex(f => f.name === field.name) < 0) {\n          baseFields.push(cloneDeep(field));\n        }\n      });\n    }\n\n    model.formFields = compact(union(baseFields, formFields));\n    model.searchableFields = uniq(union(cloneDeep(base.searchableFields), model.searchableFields));\n    model.type = target;\n    this.updateModel(className, model);\n  }\n\n  public static setCollectionName(className: string, collectionName: string, fields: any, include: any, searchSubquery: any, feathersService: string, target: any, isCustom?: boolean, detailComponent?: string, icon?: string) {\n    let model = this.createOrGetModel(className);\n    model.collectionName = collectionName;\n    model.fields = fields;\n    model.include = include;\n    model.searchSubquery = searchSubquery;\n    model.type = target;\n    model.feathersService = feathersService;\n    model.isCustom = isCustom;\n    model.detailComponent = detailComponent;\n    model.icon = icon;\n    if (model.collectionName && model.collectionName !== 'tenants') {\n      model.include = model.include || [];\n      if (model.include.indexOf('_tenant') < 0) {\n        model.include.push('_tenant');\n      }\n      if (model.fields && model.fields.length > 1) {\n        model.fields.push('_tenant.name');\n        model.fields.push('_tenant.title');\n        model.fields.push('_tenant.icon');\n      }\n    }\n    this.updateModel(className, model);\n  }\n\n  public static clearCollectionName(className: string) {\n    Models._models.delete(className);\n  }\n\n  public static getModel(className: string | Type<any>): IModel {\n    let retVal;\n    if (isString(className) === true) {\n      retVal = this.createOrGetModel(<string>className);\n    } else {\n      Models._models.forEach(m => {\n        if (m.type && m.type === className) {\n          retVal = m;\n        }\n      });\n    }\n    return retVal;\n  }\n\n  public static getModelByCollectionName(collectionName: string): IModel {\n    let model;\n    Models._models.forEach(m => {\n      if (m.collectionName === collectionName) {\n        model = m;\n      }\n    });\n    if (!model && collectionName && collectionName.endsWith('_store')) {\n      let name = collectionName.replace('_store', '');\n      if (name === 'missiondescription') {\n        name += 's';\n      }\n      return Models.getModelByCollectionName(name);\n    }\n    return model;\n  }\n\n  public static getFilterableFields(collectionName: string, advancedFiltersFields?: Array<IFormField>, campaignFields?: Array<IFormField>, isAdmin: boolean = false) {\n    let fields: Array<IFormField> = [];\n    let model = Models.getModelByCollectionName(collectionName);\n    if (model && model.formFields) {\n      fields = cloneDeep(model.formFields);\n    }\n\n    if (model && model.isCustom && fields) {\n      fields.forEach(f => {\n        f.filterable = f.searchable;\n        f.sortable = f.type === FormFieldType.date || f.type === FormFieldType.datetime || f.type === FormFieldType.number;\n        if (f.type === FormFieldType.location) {\n          f.filterName = f.name + 'Ref';\n        }\n      });\n    }\n\n    if (advancedFiltersFields && advancedFiltersFields.length > 0) {\n      advancedFiltersFields.forEach(af => {\n        let index = findIndex(fields, f => f.name === af.name);\n        if (index < 0) {\n          fields.push(af);\n        } else {\n          fields[index] = { ...fields[index], ...af };\n        }\n      });\n    }\n\n    if (campaignFields) {\n      campaignFields = cloneDeep(campaignFields);\n      campaignFields.forEach(c => {\n        c.name += '.value';\n        c.filterable = true;\n        //c.sortable = true;\n      });\n      fields = fields.concat(campaignFields);\n    }\n\n    let tenantIndex = findIndex(fields, f => f.name === '_tenant');\n    if (tenantIndex >= 0 && !isAdmin) {\n      fields[tenantIndex].filterable = false;\n    }\n    let finalFields: Array<IFormField> = [];\n    fields.forEach(f => {\n      finalFields.push(f);\n      if (f.collectionName && f.collectionName !== collectionName && f.filterable === true && f.showSubQueryFilters === true) {\n        Models.getModelByCollectionName(f.collectionName).formFields.forEach(subfield => {\n          subfield = cloneDeep(subfield);\n          delete subfield.advanced;\n          subfield.filterable = true;\n          subfield.icon = 'yo-tag';\n          //this is used in the chanel collection where we want to override the subQuery defined in the user interface\n          //this even allow us to filter on any subfield of a user to look for channel\n          if (f.subQuery) {\n            subfield.subQuery = subfield.subQuery || f.subQuery;\n            if (!subfield.sessionValues) {\n              subfield.collectionName = subfield.collectionName || f.collectionName;\n            }\n          }\n          if (subfield.subQuery) {\n            if (f.subQueryOverride) {\n              subfield.subQuery = f.subQueryOverride;\n            }\n            subfield.isSubQuery = true;\n            subfield.name = subfield.collectionName + '_' + subfield.name;\n            finalFields.push(subfield);\n          }\n        });\n      }\n    });\n    return finalFields;\n  }\n\n  public static getFieldName(field: IFormField) {\n    let fieldName = field.name + (field.columnDefinition && field.columnDefinition.name ? '.' + field.columnDefinition.name : '');\n    if (field.columnDefinition && field.columnDefinition.forceName) {\n      fieldName = field.columnDefinition.name;\n    }\n    return fieldName;\n  }\n\n  public static getFieldTitle(field: IFormField, translate: any) {\n    let fieldTitle = field.title || field.name;\n    fieldTitle = translate.polyglot(fieldTitle);\n    return fieldTitle;\n  }\n\n  public static isBooleanField(field: IFormField) {\n    return isBooleanField(field);\n  }\n\n  public static isNumberField(field: IFormField) {\n    return isNumberField(field);\n  }\n\n  public static isPhotoField(field: IFormField) {\n    return isPhotoField(field);\n  }\n\n  public static isMultiPhotosField(field: IFormField) {\n    return isMultiPhotosField(field);\n  }\n\n  public static isPhotoOrMultiPhotosField(field: IFormField) {\n    return isPhotoOrMultiPhotosField(field);\n  }\n\n  public static isVideoField(field: IFormField) {\n    return isVideoField(field);\n  }\n\n  public static isDateTimeField(field: IFormField) {\n    return isDateTimeField(field);\n  }\n\n  public static isIntervalField(field: IFormField) {\n    return isIntervalField(field);\n  }\n\n  public static isChartableAutoFieldNoPhoto(field: IFormField) {\n    return Models.isChartableAutoField(field, false);\n  }\n\n  public static isChartableAutoField(field: IFormField, includePhoto = true) {\n    switch (field.type) {\n      case FormFieldType.checkbox:\n      case FormFieldType.toggle:\n\n      case FormFieldType.select:\n      case FormFieldType.selectmulti:\n      case FormFieldType.selectbuttons:\n      case FormFieldType.selectbuttonsmulti:\n      case FormFieldType.starrating:\n      case FormFieldType.number:\n      case FormFieldType.range:\n      case FormFieldType.ranking:\n      case FormFieldType.formula:\n        return true;\n      case FormFieldType.photo:\n      case FormFieldType.multiphotos:\n        return includePhoto;\n\n      case FormFieldType.autocomplete:\n        return !field.collectionName || Models.getModel(field.collectionName).isCustom !== true;\n    }\n    return false;\n  }\n\n  public static isMultipleField(field: IFormField) {\n    return isMultipleField(field);\n  }\n\n  public static isColoredField(field: IFormField) {\n    return isColoredField(field);\n  }\n\n  public static getFieldOperator(field: IFormField): Array<FilterOperator> {\n    if (field.type === 'fieldselector') {\n      return [{ title: 'in', _id: 'inq' }];\n    } else if (Models.isBooleanField(field)) {\n      return [{ title: 'equals', _id: 'eq' }, { title: 'notequals', _id: 'neq' }];\n    } else if (Models.isPhotoField(field)) {\n      return [{ title: 'exists', _id: 'exists' }];\n    } else if (Models.isIntervalField(field) || Models.isDateTimeField(field)) {\n      return [{ title: 'greaterthan', _id: 'gte', interval: true }, { title: 'between', _id: 'between', interval: true }, { title: 'lessthan', _id: 'lte', interval: true }, { title: 'equals', _id: 'eq', interval: true }];\n    } else if (field.type === FormFieldType.autocomplete || field.type === FormFieldType.location) {\n      return [{ title: 'in', _id: 'inq' }, { title: 'notin', _id: 'nin' }, { title: 'all', _id: 'all' }];\n    } else {\n      return [{ title: 'like', _id: 'like' }, { title: 'notlike', _id: 'nlike' }, { title: 'equals', _id: 'eq' }, { title: 'notequals', _id: 'neq' }];\n    }\n  }\n\n  // public static getFormFieldFromMobileField(type) {\n  //     switch (type) {\n  //         case FormFieldType.photo:\n  //         case FormFieldType.signature:\n  //         case FormFieldType.image:\n  //         case FormFieldType.barcode:\n  //         case FormFieldType.video:\n  //         case FormFieldType.audio:\n  //         case FormFieldType.document:\n  //             return FormFieldType.photo;\n  //         case FormFieldType.date:\n  //             return FormFieldType.date;\n  //         default:\n  //             return FormFieldType[type] || FormFieldType.text;\n  //     }\n  // }\n\n  public static getMobileFieldIcon(type: string) {\n    let fields = [].concat(MOBILE_FORM_FIELDS_ALL).filter(field => field.type === type);\n    if (fields && fields.length > 0) {\n      return fields[0].icon;\n    }\n    return '';\n  }\n\n  public static exportWhere(collectionName: string, filters?: Filters, excludedFields = []) {\n    let retVal = filters.map(fs => {\n      let simplifiedFilters = [];\n      fs.forEach(f => {\n        if ((!f.subQuery || f.collectionName === collectionName) && (!excludedFields || excludedFields.indexOf(f.field) < 0)) {\n          //&& !f.isFieldSelector\n          let filter = Models.exportFilterField(f);\n          if (filter && !isEmpty(filter)) {\n            simplifiedFilters.push(filter);\n          }\n        }\n      });\n      if (simplifiedFilters.length === 0) {\n        return null;\n      } else if (simplifiedFilters.length === 1) {\n        return simplifiedFilters[0];\n      } else {\n        return { and: simplifiedFilters };\n      }\n    });\n\n    if (retVal) {\n      pull(retVal, null);\n    }\n\n    if (retVal && retVal.length === 1) {\n      return retVal[0];\n    } else if (retVal && retVal.length > 0) {\n      return { or: retVal };\n    }\n    return null;\n  }\n\n  public static exportSubQuery(collectionName: string, filters?: Filters | Object, isAggregationQuery?: boolean): SubQuery | Array<SubQuery> {\n    let retVal: Array<SubQuery> = [];\n    if (filters && isArray(filters) && (<Filters>filters).length > 0) {\n      (<Filters>filters).forEach(fs => {\n        fs.forEach(f => {\n          if (f.subQuery && f.collectionName !== collectionName) {\n            retVal.push({\n              collectionName: this.fixCollectionName(f.collectionName, isAggregationQuery),\n              where: Models.exportFilterField(f),\n              field: f.subQuery.field,\n              values: f.subQuery.values,\n              leftJoin: f.subQuery.leftJoin\n            });\n          }\n        });\n      });\n    }\n    return retVal.length === 1 ? retVal[0] : retVal.length > 1 ? retVal : null;\n  }\n\n  public static exportSearch(collectionName: string, search: string): any {\n    if (search && search.match && search.match(/^[0-9a-fA-F]{24}$/)) {\n      return { _id: search };\n    } else {\n      let retVal = Models.getModelByCollectionName(collectionName).searchableFields.map(field => {\n        let filter = {};\n        if (field === '_id' && collectionName !== 'groups') {\n          filter[field] = search;\n        } else {\n          filter[field] = { like: search, options: 'i' };\n        }\n        return filter;\n      });\n      if (retVal.length === 1) {\n        return retVal[0];\n      } else if (retVal.length > 0) {\n        return { or: retVal };\n      }\n      return null;\n    }\n  }\n\n  public static fixCollectionName(collectionName: string, isAggregationQuery?: boolean) {\n    switch (collectionName) {\n      case 'missiondescriptions':\n        return isAggregationQuery ? 'missiondescription' : collectionName;\n      case 'groups':\n        return isAggregationQuery ? 'group' : collectionName;\n      case 'feedsComments':\n        return isAggregationQuery ? 'feedsComment' : collectionName;\n      case 'users':\n        return 'user';\n      default:\n        return collectionName;\n    }\n  }\n\n  public static getPublicCollectionName(collectionName: string) {\n    switch (collectionName) {\n      case 'locations':\n        return 'stores';\n      case 'user':\n      case 'users':\n        return 'users';\n      case 'locationtypes':\n        return 'store-types';\n      case 'missiondescriptions':\n        return 'campaigns';\n      case 'feeds':\n        return 'news';\n      default:\n        return collectionName;\n    }\n  }\n\n  public static getPhotoFromParams(params) {\n    if (params && params.node && params.node.data) {\n      let row = params.node.data.toJS ? params.node.data.toJS() : params.node.data;\n      let f = params.colDef.field.replace('.value', '');\n      let photo = Models.extractPhoto(row[f], row, {}, f);\n      return photo;\n    }\n    return null;\n  }\n\n  // get photos for multiphoto component\n  public static getPhotosFromParams(params) {\n    if (params && params.node && params.node.data) {\n      let row = params.node.data.toJS ? params.node.data.toJS() : params.node.data;\n      let f = params.colDef.field.replace('.value', ''); // field name\n      let photos = [];\n      if (row && f && row[f] && row[f].value && isArray(row[f].value)) {\n        row[f].value.forEach((v, multiIndex) => {\n          photos.push(Models.extractPhoto(v, row, {}, f, FormFieldType.multiphotos, null, multiIndex));\n        });\n      }\n      return photos;\n    }\n    return null;\n  }\n\n  public static getEmptyUrl(collectionName: string) {\n    switch (collectionName) {\n      case 'dashboards':\n      case 'dashboard':\n        return 'dashboard.svg';\n\n      case 'missions':\n      case 'mission':\n        return 'mission.svg';\n\n      case 'missiondescriptions':\n      case 'missiondescription':\n      case 'campaign':\n        return 'campaign.svg';\n\n      case 'photos':\n      case 'photo':\n        return 'photo.svg';\n\n      case 'feeds':\n      case 'feed':\n        return 'feed.svg';\n\n      case 'files':\n      case 'file':\n        return 'file.svg';\n\n      case 'locations':\n      case 'location':\n        return 'location.svg';\n\n      case 'notes':\n      case 'note':\n        return 'note.svg';\n\n      case 'users':\n      case 'user':\n        return 'user.svg';\n    }\n    return 'empty.svg';\n  }\n\n  public static extractPhoto(data, missiondata, field, name, type?: string, hideUser: boolean = false, multiIndex?: number) {\n    let photo: any = {};\n    if (data || (field && field.type === 'image' && field.image && field.image._downloadURL)) {\n      if (data && data.value && ((data.value.indexOf && data.value.indexOf('http') === 0) || isImageFile(data.value)) && (!type || !data.fieldType || data.fieldType === type)) {\n        photo = {\n          value: data.value,\n          comments: data.comments,\n          tags: data.tags,\n          flagged: data.flagged,\n          edit: data.edit,\n          stitch: data.stitch,\n          editBy: data.editBy,\n          editWidth: data.editWidth,\n          editHeight: data.editHeight,\n          texts: data.texts,\n          svgData: data.svgData\n        };\n      } else if (data && ((data.indexOf && data.indexOf('http') === 0) || isImageFile(data))) {\n        if (type && type === FormFieldType.multiphotos) {\n          let fieldData = get(missiondata, field.name || name);\n          let extraData = fieldData && (<any>fieldData).extraData ? (<any>fieldData).extraData : {};\n          photo = {\n            value: data,\n            tags: extraData[multiIndex] ? extraData[multiIndex].tags : null,\n            flagged: extraData[multiIndex] ? extraData[multiIndex].flagged : null,\n            edit: extraData[multiIndex] ? extraData[multiIndex].edit : null,\n            stitch: extraData[multiIndex] ? extraData[multiIndex].stitch : null,\n            editBy: extraData[multiIndex] ? extraData[multiIndex].editBy : null,\n            editWidth: extraData[multiIndex] ? extraData[multiIndex].editWidth : null,\n            editHeight: extraData[multiIndex] ? extraData[multiIndex].editHeight : null,\n            texts: extraData[multiIndex] ? extraData[multiIndex].texts : [],\n            svgData: extraData[multiIndex] ? extraData[multiIndex].svgData : null,\n            isMulti: true\n          };\n        } else {\n          photo = { value: data };\n        }\n      } else if (field && field.type === 'image' && field.image && field.image._downloadURL) {\n        photo = {\n          name: field.name || name,\n          title: field.title,\n          value: field.image._downloadURL,\n          isImage: true\n        };\n      }\n      if (!isEmpty(photo)) {\n        if (!field || field.type !== 'image') {\n          assign(photo, {\n            title: field.title,\n            name: field.name || name,\n            multiIndex: multiIndex,\n            _id: missiondata._id + ' _' + (field.name || name),\n            missiondescriptionRef: missiondata.missiondescriptionRef,\n            missiondescription: missiondata.missiondescription,\n            missiondata: missiondata,\n            missiondataRef: missiondata._id,\n            mission: missiondata.mission,\n            missionRef: missiondata.missionRef,\n            userRef: missiondata.userRef,\n            userDisplayname: hideUser ? '' : missiondata.userDisplayname,\n            address: missiondata.address,\n            location: missiondata.location,\n            validated: missiondata.validated,\n            _acl: missiondata._acl\n          });\n        }\n\n        if (field.isImageRecognition && photo.stitch) {\n          photo.value = photo.stitch;\n        }\n        return photo;\n      }\n    }\n    return null;\n  }\n\n  /*\n       Return the transform to extract the fields from a mission description\n   */\n  public static getFieldTransform(types: Array<string> = []) {\n    function getFieldTransformInternal(res: ResponseObject) {\n      if (res.data && res.data.forEach) {\n        let fields = [];\n        res.data.forEach((missiondescription: any) => {\n          let missionFields = Models.getFields(missiondescription, types);\n          missionFields = missionFields.map((field: IFormField) => {\n            return assign(field, {\n              _id: field.name,\n              name: field.name + '.value',\n              operators: Models.getFieldOperator(field),\n              slideTitle: missiondescription.title\n            });\n          });\n          fields = fields.concat(missionFields);\n        });\n        res.data = fields;\n      }\n      return res;\n    }\n\n    return getFieldTransformInternal;\n  }\n\n  /*\n        Return the list of slide items fields from a mission description (mobile type)\n    */\n  public static getFields(missiondescription: any, types: Array<string> = [], excludedTypes: Array<string> = []) {\n    return Models.getFieldsFromSlides(missiondescription.slides, types, excludedTypes);\n  }\n\n  /*\n        Return the list of slide items fields from an array of slides (mobile type)\n    */\n  public static getFieldsFromSlides(slides: Array<any>, types: Array<string> = [], excludedTypes: Array<string> = []) {\n    let fields: Array<IFormField> = [];\n    if (slides) {\n      slides.forEach((slide, index) => {\n        if (slide.items) {\n          slide.items.forEach(item => {\n            item.slideTitle = slide.title;\n            if (!types || types.length === 0 || types.indexOf(item.type) >= 0) {\n              if (!excludedTypes || excludedTypes.length === 0 || excludedTypes.indexOf(item.type) < 0) {\n                item.slideIndex = index;\n                fields.push(item);\n              }\n            }\n          });\n        }\n      });\n    }\n    return fields;\n  }\n\n  private static exportFilterField(f: FilterField) {\n    let filter = {};\n    if (isArray(f.value) && f.value.length === 0) {\n      return filter;\n    }\n\n    if (f.handleUndefined && isPresent(f.value) && isArray(f.value)) {\n      if (f.value.indexOf(undefined) < 0 && f.value.indexOf('undefined') < 0) {\n        filter[f.field] = {};\n        filter[f.field][f.operator._id] = f.value;\n      } else {\n        let def = filter;\n        def[f.field] = {};\n        def[f.field][f.operator._id] = map(f.value, v => {\n          return v === undefined || v === 'undefined' ? null : v;\n        });\n      }\n    } else {\n      filter[f.field] = {};\n      if (f.type === FormFieldType.address && f.value && (isArray(f.value) || isArray(f.value._geoloc))) {\n        filter[f.field] = {\n          nearSphere: {\n            $geometry: {\n              type: 'Point',\n              coordinates: f.value && f.value._geoloc ? f.value._geoloc : f.value\n            },\n            $maxDistance: f.radius * 1000 || 40000\n          }\n        };\n      } else if (f.operator._id === 'nearSphere' && f.value && (isArray(f.value) || isArray(f.value._geoloc))) {\n        filter[f.field] = {\n          nearSphere: {\n            $geometry: {\n              type: 'Point',\n              coordinates: f.value && f.value._geoloc ? f.value._geoloc : f.value\n            },\n            $maxDistance: f.max || 40000\n          }\n        };\n      } else if (f.type === FormFieldType.date && f.operator._id === 'eq') {\n        filter[f.field]['between'] = [f.value, dateFormat(dateAdd(f.value, 'days', 1), 'YYYY-MM-dd')];\n      } else if (isPresent(f.value)) {\n        let value = isArray(f.value) && isObject(f.value[0]) ? map(f.value, '_id') : isArray(f.value) ? f.value : isObject(f.value) ? f.value._id : f.value;\n        if (f.operator && f.operator._id === 'eq') {\n          filter[f.field] = value;\n          // } else if (f.operator && f.operator._id === 'between' && isArray(f.value) && f.value.length > 1) {\n          //     filter[f.field] = { 'gte': f.value[0], 'lt': f.value[1] };\n        } else {\n          filter[f.field][f.operator._id] = value;\n        }\n      }\n      if (f.operator && (f.operator._id === 'like' || f.operator._id === 'nlike')) {\n        filter[f.field].options = 'i';\n      }\n    }\n    return filter;\n  }\n\n  private static createOrGetModel(className: string, override?: boolean): IModel {\n    Models._models = Models._models || new Map<string, IModel>();\n    if (Models._models.has(className) && override !== true) {\n      return Models._models.get(className);\n    } else {\n      let model = new IModel(className);\n      Models._models.set(className, model);\n      return model;\n    }\n  }\n\n  private static updateModel(className: string, model: IModel) {\n    let formFields = model.formFields || [];\n    if (formFields.findIndex(f => f.name === '_tenant') < 0 && model.collectionName && model.collectionName !== 'tenants') {\n      formFields.push({\n        required: true,\n        name: '_tenant',\n        title: 'TENANT',\n        type: FormFieldType.autocomplete,\n        condition: [ROLES_CONDITIONS.isAdmin],\n        collectionName: 'tenants',\n        multiple: false,\n        columnDefinition: { name: 'name' },\n        suppressExport: true,\n        visible: false\n      });\n    }\n    model.formFields = formFields;\n    Models._models.set(className, model);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Config } from '../config/config.service';\nimport { Requestor } from '../requestor/requestor.service';\nimport { Session } from '../session/session.service';\nimport { GeoLocation, Position } from '@shared/common';\n\n@Injectable()\nexport class Smartloc {\n  constructor(private session: Session, private geoLoc: GeoLocation, private config: Config, private rq: Requestor) {}\n\n  get defaultPosition() {\n    return this.geoLoc.defaultPosition;\n  }\n\n  getLocation(forceRefresh = false): Promise<Position> {\n    if (this.hasRole('store') && !this.hasRole('admin')) {\n      let promise;\n      if (this.session.user && this.session.user.location && this.session.user.location._geoloc) {\n        promise = Promise.resolve(this.session.user.location);\n      } else if (this.session.user && this.session.user.locationRef) {\n        promise = this.getLocationEntity(this.session.user.locationRef); //, ['_id', 'title', '_geoloc', 'address']\n      } else if (this.session.user && this.session.user.address && this.session.user.address._geoloc) {\n        promise = Promise.resolve(this.session.user.address);\n      }\n      if (promise) {\n        return promise.then(loc => {\n          if (loc && loc._geoloc && loc._geoloc.length > 1) {\n            this.session.user.location = loc;\n            let position = new Position({ latitude: loc._geoloc[1], longitude: loc._geoloc[0] });\n            return position;\n          }\n          return null;\n        });\n      }\n    }\n    return this.geoLoc.getLocation(forceRefresh);\n  }\n\n  getDistance(lat1: number, lon1: number, lat2: number, lon2: number, unit = 'K') {\n    return this.geoLoc.getDistance(lat1, lon1, lat2, lon2, unit);\n  }\n\n  getLocationEntity(id) {\n    let url = this.config.apiUrl + 'locations' + '/' + id;\n    return this.rq.get(url).toPromise();\n  }\n\n  hasRole(role: string) {\n    return this.session.roles && this.session.roles.indexOf(role) >= 0;\n  }\n}\n","/* tslint:disable:variable-name */\nimport { Injectable, Injector } from '@angular/core';\n\nimport { Position, Network } from '@shared/common';\nimport { Translate } from '@shared/translate';\n\nimport { Config } from '../config/config.service';\nimport { Requestor } from '../requestor/requestor.service';\nimport { Cache } from '../cache/cache.service';\nimport { Smartloc } from '../smartloc/smartloc.service';\nimport { CACHE_KEYS } from '../../interfaces/cache/cache.interface';\n\nimport { IAutocompleteInput, IAutocompletePrediction, IAutocompleteResponse, IBounds, IGeocodeInput, IGeocodeResult, IGeocodeResponse, INearbySearchInput, INearbySearchResponse, IReverseGeocodeInput, IReverseGeocodeResponse, IResolvedAddressLocationInput, IResolvedAddressLocationResult } from '../../interfaces/googlemaps/googlemaps.interface';\n\nimport { concatMap, map } from 'rxjs/operators';\nimport { Observable, from, combineLatest } from 'rxjs';\nimport { isString, uniqBy } from 'lodash-es';\n\nfunction normalizeBounds(b: string | IBounds): string {\n  return b ? (typeof b === 'string' ? b : b.southwest.lat + ',' + b.southwest.lng + '|' + b.northeast.lat + ',' + b.northeast.lng) : '';\n}\n\nfunction normalizeLocation(p: string | Position): string {\n  return p ? (typeof p === 'string' ? p : p.toStringLoc()) : '';\n}\n\nfunction pipeJoin(p: string | string[]): string {\n  return p ? (typeof p === 'string' ? p : p.join('|')) : '';\n}\n\nfunction normalizeObservable<T>(o: Observable<T> | Promise<T> | T): Observable<T> {\n  return o instanceof Observable ? o : from(Promise.resolve(o));\n}\n\n@Injectable()\nexport class Googlemaps {\n  private translate: Translate;\n  constructor(private rq: Requestor, private geo: Smartloc, private config: Config, protected injector: Injector, protected network: Network, protected cache: Cache) {\n    this.translate = this.injector.get<Translate>(Translate);\n  }\n\n  public autocompleteFromSync(input: string, location: string | Position, offset: number = input.length, radius = 100000, language: string = this.translate.getCurrentLanguage(), types?: string, components?: string, query = false): Observable<IAutocompletePrediction[]> {\n    return this._autocomplete(\n      {\n        input,\n        offset,\n        location: normalizeLocation(location),\n        radius,\n        language,\n        types,\n        components\n      },\n      query\n    );\n  }\n\n  public autocompleteLocationObserver(input: string, offset: number = input.length, location: Observable<string | Position> | Promise<string | Position> | string | Position = from(this.geo.getLocation().then(pos => pos.toStringLoc())), radius = 1000, language: string = this.translate.getCurrentLanguage(), types?: string, components?: string, query = false): Observable<IAutocompletePrediction[]> {\n    return normalizeObservable(location).pipe(\n      map(\n        (loc): IAutocompleteInput => {\n          return {\n            input,\n            offset,\n            location: normalizeLocation(loc),\n            radius,\n            language,\n            types,\n            components\n          };\n        }\n      ),\n      concatMap(i => this._autocomplete(i, query))\n    );\n  }\n\n  public autocompleteMultiObserver(inputO: Observable<string>, offsetO: Observable<number> = inputO.pipe(map(s => s.length)), locationO: Observable<string | Position> = from(this.geo.getLocation().then(pos => pos.toStringLoc())), radius = 1000, language: string = this.translate.getCurrentLanguage(), types?: string, components?: string, query = false): Observable<IAutocompletePrediction[]> {\n    return combineLatest(inputO, offsetO, locationO).pipe(concatMap((i: any) => this._autocomplete(i, query)));\n  }\n\n  public nearbySearchFromSync(location: string | Position, radius = 1000, keyword?: string, language: string = this.translate.getCurrentLanguage(), name?: string | string[], minprice?: number, maxprice?: number, opennow?: boolean, rankby?: string, type?: string, types?: string | string[]): Observable<INearbySearchResponse> {\n    return this._nearbySearch({\n      location: normalizeLocation(location),\n      radius,\n      keyword,\n      language,\n      name: pipeJoin(name),\n      minprice,\n      maxprice,\n      opennow,\n      rankby,\n      type,\n      types: pipeJoin(types)\n    });\n  }\n\n  public nearbySearchNextResults(next_page_token: string): Observable<INearbySearchResponse> {\n    return this._nextSearchResults(next_page_token);\n  }\n\n  public nearbySearchLocationObserver(location: Observable<string | Position> | Promise<string | Position> | string | Position = from(this.geo.getLocation().then(pos => pos.toStringLoc())), radius = 1000, keyword?: string, language: string = this.translate.getCurrentLanguage(), name?: string | string[], minprice?: number, maxprice?: number, opennow?: boolean, rankby?: string, type?: string, types?: string | string[]): Observable<INearbySearchResponse> {\n    return normalizeObservable(location).pipe(\n      map(\n        (loc): INearbySearchInput => {\n          return {\n            location: normalizeLocation(loc),\n            radius,\n            keyword,\n            language,\n            name: pipeJoin(name),\n            minprice,\n            maxprice,\n            opennow,\n            rankby,\n            type,\n            types: pipeJoin(types)\n          };\n        }\n      ),\n      concatMap(input => this._nearbySearch(input))\n    );\n  }\n\n  public nearbySearchMultiObserver(locationO: Observable<string | Position> = from(this.geo.getLocation().then(pos => pos.toStringLoc())), keywordO?: Observable<string>, radius = 1000, language: string = this.translate.getCurrentLanguage(), nameO?: Observable<string | string[]>, minprice?: number, maxprice?: number, opennow?: boolean, rankby?: string, type?: string, types?: string | string[]): Observable<INearbySearchResponse> {\n    return combineLatest(keywordO, nameO, locationO).pipe(concatMap((i: any) => this._nearbySearch(i)));\n  }\n\n  public geocodeFromSync(address?: string, components?: string | string[], bounds?: string | IBounds, language: string = this.translate.getCurrentLanguage(), region?: string): Observable<IGeocodeResult[]> {\n    return this._geocode({\n      address,\n      components: pipeJoin(components),\n      bounds: normalizeBounds(bounds),\n      language,\n      region\n    });\n  }\n\n  public geocodeAddressObserver(address: Observable<string>, components?: string | string[], bounds?: string | IBounds, language: string = this.translate.getCurrentLanguage(), region?: string): Observable<IGeocodeResult[]> {\n    return address.pipe(\n      map(\n        (addr): IGeocodeInput => {\n          return {\n            address: addr,\n            components: pipeJoin(components),\n            bounds: normalizeBounds(bounds),\n            language,\n            region\n          };\n        }\n      ),\n      concatMap(i => this._geocode(i))\n    );\n  }\n\n  public reverseGeocodeFromSyncLocation(latlng: string | Position, language: string = this.translate.getCurrentLanguage(), result_type?: string, location_type?: string): Observable<IGeocodeResult[]> {\n    return this._reverseGeocode({\n      latlng: normalizeLocation(latlng),\n      language,\n      result_type,\n      location_type\n    });\n  }\n\n  public reverseGeocodeLatLngObserver(latlng: Observable<string | Position> | Promise<string | Position> | string | Position = from(this.geo.getLocation().then(pos => pos.toStringLoc())), language: string = this.translate.getCurrentLanguage(), result_type?: string, location_type?: string): Observable<IGeocodeResult[]> {\n    return normalizeObservable(latlng).pipe(\n      map(\n        (loc): IReverseGeocodeInput => {\n          return {\n            latlng: normalizeLocation(loc),\n            language,\n            result_type,\n            location_type\n          };\n        }\n      ),\n      concatMap(i => this._reverseGeocode(i))\n    );\n  }\n\n  public reverseGeocodeFromSyncPlaceID(place_id: string, language: string = this.translate.getCurrentLanguage(), result_type?: string, location_type?: string): Observable<IGeocodeResult> {\n    return this._reverseGeocode({\n      place_id,\n      language,\n      result_type,\n      location_type\n    }).pipe(map(results => results[0]));\n  }\n\n  public reverseGeocodePlaceIDObserver(place_idO: Observable<string>, language: string = this.translate.getCurrentLanguage(), result_type?: string, location_type?: string): Observable<IGeocodeResult> {\n    return place_idO.pipe(\n      map(\n        (place_id): IReverseGeocodeInput => {\n          return {\n            place_id,\n            language,\n            result_type,\n            location_type\n          };\n        }\n      ),\n      concatMap(i => this._reverseGeocode(i)),\n      map(results => results[0])\n    );\n  }\n\n  public placePredictionsLocationObserver(\n    input?: string,\n    location: Observable<string | Position> | Promise<string | Position> | string | Position = from(this.geo.getLocation().then(pos => pos.toStringLoc())),\n    language: string = this.translate.getCurrentLanguage(),\n    offset: number = input.length,\n    radius?: number,\n    types?: string,\n    components?: string,\n    address?: string,\n    search?: string,\n    type?: string,\n    limit?: number,\n    nearbyRadius?: number,\n    skipName?: boolean,\n    debug?: boolean\n  ): Observable<IGeocodeResult[]> {\n    return normalizeObservable(location).pipe(\n      map(\n        (loc): IAutocompleteInput | IResolvedAddressLocationInput => {\n          return {\n            input,\n            offset,\n            location: normalizeLocation(loc),\n            radius,\n            language,\n            types,\n            components,\n            address,\n            search,\n            type,\n            limit,\n            nearbyRadius,\n            skipName,\n            debug\n          };\n        }\n      ),\n      concatMap(i => this._placePredictions(i))\n    );\n  }\n  public placePredictionsFromSync(location: string | Position, input?: string, language: string = this.translate.getCurrentLanguage(), offset: number = input.length, radius?: number, types?: string, components?: string, address?: string, search?: string, type?: string, limit?: number, nearbyRadius?: number, skipName?: boolean, debug?: boolean): Observable<IGeocodeResult[]> {\n    return this._placePredictions({\n      input,\n      offset,\n      location: normalizeLocation(location),\n      radius,\n      language,\n      types,\n      components,\n      address,\n      search,\n      type,\n      limit,\n      nearbyRadius,\n      skipName,\n      debug\n    });\n  }\n\n  public nearbyPlaceCodesFromSync(location: string | Position, radius?: number, keyword?: string, language: string = this.translate.getCurrentLanguage(), name?: string | string[], minprice?: number, maxprice?: number, opennow?: boolean, rankby?: string, types?: string | string[], address?: string, search?: string, type?: string, limit?: number, nearbyRadius?: number, skipName?: boolean, debug?: boolean): Observable<IGeocodeResult[]> {\n    return this._nearbyPlaceCodes({\n      location: normalizeLocation(location),\n      radius,\n      keyword,\n      language,\n      name,\n      minprice,\n      maxprice,\n      opennow,\n      rankby,\n      types,\n      address,\n      search,\n      type,\n      limit,\n      nearbyRadius,\n      skipName,\n      debug\n    });\n  }\n\n  public resolveAddressLocation(address: string, language: string = this.translate.getCurrentLanguage(), search?: string, type?: string, limit?: number, nearbyRadius?: number, skipName?: boolean, debug?: boolean): Observable<IResolvedAddressLocationResult> {\n    return this._resolveAddressLocation({\n      address,\n      language,\n      search,\n      type,\n      limit,\n      nearbyRadius,\n      skipName,\n      debug\n    });\n  }\n\n  public getCurrentAddresses(forceRefresh = false) {\n    if (this.network.isOffline()) {\n      return this.cache.get(CACHE_KEYS.addresses, CACHE_KEYS.addresses).toPromise();\n    } else {\n      return this.geo\n        .getLocation(forceRefresh)\n        .then((p: Position) => {\n          return this.reverseGeocodeFromSyncLocation(p).toPromise();\n        })\n        .then(res => {\n          let retVal = [];\n          if (res && res.length > 0) {\n            retVal = res.map(d => {\n              let position = new Position(d.geometry.location);\n              return {\n                address: d.formatted_address,\n                _id: d.id || d.formatted_address,\n                _geoloc: position.toGeoLoc(true),\n                coords: position.toJson()\n              };\n            });\n          }\n          this.cache.add(CACHE_KEYS.addresses, CACHE_KEYS.addresses, retVal);\n          return retVal;\n        });\n    }\n  }\n\n  // public getStreetView(lat: number, lng: number) {\n  //   let url= this.apiUrl+'streetView?'\n  // }\n\n  private get apiUrl() {\n    return this.config.apiUrl + 'GoogleMaps/';\n  }\n\n  private _autocomplete(input: IAutocompleteInput, query: boolean): Observable<IAutocompletePrediction[]> {\n    return this.rq.post(`${this.apiUrl}place/autocomplete?query=${query}`, input).pipe(\n      map((res: IAutocompleteResponse) => {\n        return res.predictions;\n      })\n    );\n  }\n\n  private _placePredictions(input: IResolvedAddressLocationInput | IAutocompleteInput): Observable<IGeocodeResult[]> {\n    return this.rq.post(this.apiUrl + 'place/predictions', input);\n  }\n\n  private _nearbyPlaceCodes(input: IResolvedAddressLocationInput | INearbySearchInput): Observable<IGeocodeResult[]> {\n    return this.rq.post(this.apiUrl + 'place/nearby-place-codes', input);\n  }\n\n  private _resolveAddressLocation(input: IResolvedAddressLocationInput): Observable<IResolvedAddressLocationResult> {\n    return this.rq.post(this.apiUrl + 'resolve-address-location', input);\n  }\n\n  private _nearbySearch(input: INearbySearchInput): Observable<INearbySearchResponse> {\n    return this.rq.post(this.apiUrl + 'place/nearby', input);\n  }\n\n  private _nextSearchResults(next_page_token: string): Observable<INearbySearchResponse> {\n    return this.rq.post(this.apiUrl + 'place/nearby', { next_page_token });\n  }\n\n  private _geocode(input: IGeocodeInput): Observable<IGeocodeResult[]> {\n    return this.rq.post(this.apiUrl + 'geocode', input).pipe(\n      map((res: IGeocodeResponse) => {\n        return res.results;\n      })\n    );\n  }\n\n  private _reverseGeocode(input: IReverseGeocodeInput): Observable<IGeocodeResult[]> {\n    return this.rq.post(this.apiUrl + 'reverse-geocode', input).pipe(\n      map((res: IReverseGeocodeResponse) => {\n        if (isString(res)) {\n          res = JSON.parse(res);\n        }\n        return uniqBy(res.results, t => t.formatted_address);\n      })\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Requestor } from '../requestor/requestor.service';\nimport { Config } from '../config/config.service';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n@Injectable()\nexport class Workplace {\n  private get apiUrl() {\n    return this.config.apiUrl + 'workplace/';\n  }\n\n  constructor(private rq: Requestor, private config: Config) {}\n\n  getAllGroups() {\n    let url = this.apiUrl + 'getGroups';\n    return this.rq\n      .post(url, {\n        query: {\n          limit: 20,\n          fields: 'icon, name, cover, description'\n        }\n      })\n      .pipe(\n        map(res => {\n          res.data.forEach(g => (g._id = g.id));\n          return res;\n        })\n      );\n  }\n\n  postOnGroup(groupIds: Array<string>, options: any): Observable<any> {\n    let url = this.apiUrl + 'post';\n    return this.rq.post(url, {\n      groupIds,\n      options\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CoreConfig, Log } from '@shared/common';\n\nimport { File } from '../../interfaces/file/file.interface';\nimport { Requestor } from '../requestor/requestor.service';\nimport { Config } from '../config/config.service';\n\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport {\n  IFilesService,\n  isFile as _isFile,\n  isBase64 as _isBase64,\n  isFileUri as _isFileUri,\n  isImageFile as _isImageFile,\n  read as _read,\n  getExtension as _getExtension,\n  changeExtension as _changeExtension,\n  getMaxSize as _getMaxSize,\n  toPng as _toPng,\n  isValid as _isValid,\n  isImage as _isImage,\n  isVideo as _isVideo,\n  isAudio as _isAudio,\n  isDocument as _isDocument,\n  getType as _getType,\n  getMimeType as _getMimeType,\n  getIcon as _getIcon,\n  getVideoPoster as _getVideoPoster,\n  b64toBlob as _b64toBlob,\n  blobToFile as _blobToFile,\n  b64ToFile as _b64ToFile,\n  saveBase64AsImageFile as _saveBase64AsImageFile,\n  resizeBase64Image as _resizeBase64Image,\n  getBase64MimeType as _getBase64MimeType,\n  getBase64Extension as _getBase64Extension,\n  resizeImage as _resizeImage,\n  getNativeDirectory as _getNativeDirectory,\n  resolveFilePath as _resolveFilePath,\n  fixImageOrientation as _fixImageOrientation,\n  moveToImageDirectory as _moveToImageDirectory,\n  moveToImageDirectoryBase as _moveToImageDirectoryBase,\n  fileNativeWriteFile as _fileNativeWriteFile,\n  fileNativeCheckFile as _fileNativeCheckFile,\n  fixAbsolutePath as _fixAbsolutePath,\n  getCloudinaryUrl as _getCloudinaryUrl,\n  getLocalFilePath as _getLocalFilePath,\n  getLocalFileName as _getLocalFileName,\n  saveToLocalFile as _saveToLocalFile,\n  cleanFileName as _cleanFileName,\n  getUrlWithAnnotations as _getUrlWithAnnotations,\n  showPdfOnDevice as _showPdfOnDevice,\n  downloadFileToDevice as _downloadFileToDevice,\n  openBlob as _openBlob,\n  afterOpenBlob as _afterOpenBlob\n} from '@shared/stencil';\n\n@Injectable()\nexport class Files implements IFilesService {\n  constructor(private rq: Requestor, private coreConfig: CoreConfig, private log: Log, protected config: Config) {}\n\n  isFile(file) {\n    return _isFile(file);\n  }\n\n  isBase64(file) {\n    return _isBase64(file);\n  }\n\n  isFileUri(file) {\n    return _isFileUri(file);\n  }\n\n  isImageFile(file) {\n    return _isImageFile(file);\n  }\n\n  read(nativeFile: File | Blob, type = 'blob', encoding?: string): Promise<string> {\n    return _read(<any>nativeFile, type, encoding);\n  }\n\n  getExtension(file: File | any) {\n    return _getExtension(file);\n  }\n\n  changeExtension(filename: string, extension: string): string {\n    return _changeExtension(filename, extension);\n  }\n\n  getMaxSize(extension) {\n    return _getMaxSize(extension);\n  }\n\n  toPng(value: string) {\n    return _toPng(value);\n  }\n\n  isValid(file: File) {\n    return _isValid(<any>file);\n  }\n\n  isImage(file: File | any) {\n    return _isImage(file);\n  }\n\n  isVideo(file: File | any) {\n    return _isVideo(file);\n  }\n\n  isAudio(file: File | any) {\n    return _isAudio(file);\n  }\n\n  isDocument(file: File | any) {\n    return _isDocument(file);\n  }\n\n  getType(file: File | any) {\n    return _getType(file);\n  }\n\n  getMimeType(file: File | any) {\n    return _getMimeType(file);\n  }\n\n  getIcon(file: File) {\n    return _getIcon(file);\n  }\n\n  getVideoPoster(value: string) {\n    return _getVideoPoster(value);\n  }\n\n  b64toBlob(b64Data, contentType = null, sliceSize = 512) {\n    return _b64toBlob(b64Data, contentType, sliceSize);\n  }\n\n  blobToFile(blob): any {\n    return _blobToFile(blob);\n  }\n\n  b64ToFile(data: string, file: File): any {\n    return _b64ToFile(data, file as any);\n  }\n\n  saveBase64AsImageFile(data: string) {\n    return _saveBase64AsImageFile(data);\n  }\n\n  resizeBase64Image(base64, maxWidth, maxHeight) {\n    return _resizeBase64Image(base64, maxWidth, maxHeight);\n  }\n\n  getBase64MimeType(base64: string) {\n    return _getBase64MimeType(base64);\n  }\n\n  getBase64Extension(base64: string) {\n    return _getBase64Extension(base64);\n  }\n\n  resizeImage(file: File, maxWidth: Number, maxHeight: Number): Promise<any> {\n    return _resizeImage(file as any, maxWidth, maxHeight);\n  }\n\n  getNativeDirectory(subfolder) {\n    return _getNativeDirectory(subfolder);\n  }\n\n  resolveFilePath(filePath: string) {\n    return _resolveFilePath(filePath);\n  }\n\n  fixImageOrientation(path, fileName) {\n    return _fixImageOrientation(path, fileName);\n  }\n\n  //should only be called in cordova\n  moveToImageDirectory(originalFilePath: string, disableOrientationFix: boolean = false): Promise<string> {\n    return _moveToImageDirectory(originalFilePath, disableOrientationFix);\n  }\n\n  moveToImageDirectoryBase(fileDirPath: string, fileEntry: any, newName: string, originalFilePath: string) {\n    return _moveToImageDirectoryBase(fileDirPath, fileEntry, newName, originalFilePath);\n  }\n\n  fileNativeWriteFile(path, fileName, text, options) {\n    return _fileNativeWriteFile(path, fileName, text, options);\n  }\n\n  fileNativeCheckFile(path, fileName) {\n    return _fileNativeCheckFile(path, fileName);\n  }\n\n  fixAbsolutePath(data: string) {\n    return _fixAbsolutePath(data);\n  }\n\n  getCloudinaryUrl(retVal) {\n    return _getCloudinaryUrl(retVal);\n  }\n\n  downloadFile(filename, mediaType, url, options) {\n    return this.rq.downloadFile(filename, mediaType, url, options);\n  }\n\n  getLocalFilePath() {\n    return _getLocalFilePath();\n  }\n\n  getLocalFileName(fileName: string) {\n    return _getLocalFileName(fileName);\n  }\n\n  saveToLocalFile(blob, fileName) {\n    return _saveToLocalFile(blob, fileName);\n  }\n\n  getUrlWithAnnotations(src: string, photo?: any) {\n    return _getUrlWithAnnotations(src, photo);\n  }\n\n  cleanFileName(fileName: string) {\n    return _cleanFileName(fileName);\n  }\n\n  downloadFileToDevice(source, target) {\n    return _downloadFileToDevice(source, target);\n  }\n\n  showPdfOnDevice(filePath: string, fileName: string = null) {\n    return _showPdfOnDevice(filePath, fileName);\n  }\n\n  uploadProxy(photoUrl: string): Observable<any> {\n    let url = this.config.uploadProxyUrl;\n    return this.rq.post(url, { url: photoUrl }).pipe(\n      map(retVal => {\n        return this.getCloudinaryUrl({ cloudinary: retVal });\n      })\n    );\n  }\n\n  exportToFile(content, type, encoding, filename) {\n    encoding = encoding || 'charset=ISO-8859-1';\n    filename = filename || 'data.csv';\n    type = type || 'data:application/csv;charset=ISO-8859-1;';\n\n    if (encoding === 'base64') {\n      content = this.b64toBlob(content, type);\n    }\n    let blob = new Blob([content], {\n      type: type\n    });\n    return this.rq.saveBlob(blob, filename);\n  }\n\n  openBlob(blob, fileName: string, mimeType: string) {\n    return _openBlob(blob, fileName, mimeType);\n  }\n\n  afterOpenBlob(filePath, mimeType) {\n    return _afterOpenBlob(filePath, mimeType);\n  }\n\n  _requestExternalStoragePermission() {\n    return new Promise((resolve, reject) => {\n      if (this.coreConfig.isAndroid() && this.coreConfig.isCordova()) {\n        let permissions = (<any>window.cordova.plugins).permissions;\n        permissions.hasPermission(permissions.READ_EXTERNAL_STORAGE, initialStatus => {\n          if (!initialStatus.hasPermission) {\n            let errorCallback = () => {\n              this.log.error('Storage permission is not turned on');\n              reject(false);\n            };\n            permissions.requestPermission(\n              permissions.READ_EXTERNAL_STORAGE,\n              status => {\n                if (!status.hasPermission) {\n                  errorCallback();\n                } else {\n                  resolve(true);\n                }\n              },\n              errorCallback\n            );\n          } else {\n            resolve(true);\n          }\n        });\n      } else {\n        resolve(true);\n      }\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Config } from '../config/config.service';\nimport { Requestor } from '../requestor/requestor.service';\nimport { Observable } from 'rxjs';\nimport { CoreConfig } from '@shared/common';\nimport { map } from 'rxjs/operators';\n\n@Injectable()\nexport class Box {\n  constructor(private config: Config, private rq: Requestor, private coreConfig: CoreConfig) {}\n\n  upload(documentUrl: string): Observable<any> {\n    let url = this.config.apiUrl + 'businesslogic/uploadToBox';\n    return this.rq.post(url, { params: { documentUrl } }).pipe(\n      map(retVal => {\n        if (retVal && retVal.data) {\n          return retVal.data.id;\n        }\n        return null;\n      })\n    );\n  }\n\n  createViewingSession(boxId: string): Observable<any> {\n    let url = this.config.apiUrl + 'businesslogic/createViewingSessionBox';\n    return this.rq.post(url, { params: { boxId } }).pipe(\n      map(retVal => {\n        if (retVal && retVal.data) {\n          return retVal.data;\n        }\n        return null;\n      })\n    );\n  }\n\n  getViewingContent(contentUrl: string): Observable<any> {\n    let url = this.config.apiUrl + 'businesslogic/getViewingContentBox';\n    return this.rq.post(url, { params: { contentUrl } }).pipe(\n      map(retVal => {\n        if (retVal && retVal.data) {\n          let content = retVal.data;\n          let headIndex = content.indexOf('<head>') + 6;\n          let overwriteStyle = '<style type=\"text/css\">';\n          overwriteStyle += '.controls-center .scroll-previous-btn, .controls-center .scroll-next-btn, .controls-right .zoom-in-btn, .controls-right .zoom-out-btn, .controls-right {';\n          overwriteStyle += '  display: initial !important;';\n          overwriteStyle += '}';\n          overwriteStyle += '.fullscreen-btn {';\n          overwriteStyle += '  display: none !important;';\n          overwriteStyle += '}';\n          overwriteStyle += '</style>';\n          let protocol = this.coreConfig.getProtocol();\n          content = [content.slice(0, headIndex), overwriteStyle, content.slice(headIndex)].join('');\n          content = content.replace(new RegExp('href=\"//', 'g'), 'href=\"' + protocol + '//');\n          content = content.replace(new RegExp('src=\"//', 'g'), 'src=\"' + protocol + '//');\n          return content;\n        }\n        return null;\n      })\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CoreConfig } from '@shared/common';\n\nimport { Requestor } from '../requestor/requestor.service';\nimport { map } from 'rxjs/operators';\n\n@Injectable()\nexport class Unsplash {\n  constructor(protected rq: Requestor, protected coreConfig: CoreConfig) {}\n\n  getAll(search?: string, skip?: number, limit?: number) {\n    let url;\n    if (search) {\n      url = 'https://api.unsplash.com/search/photos?client_id=' + this.coreConfig.getKey('unsplashAccessKey');\n      url += '&query=' + search;\n      url += '&page=' + (skip / limit + 1);\n      url += '&per_page=' + limit;\n    } else {\n      url = 'https://api.unsplash.com/photos?page=1&per_page=20&client_id=' + this.coreConfig.getKey('unsplashAccessKey');\n    }\n    return this.rq.get(url, null, null, null, true).pipe(\n      map(ret => {\n        //{\n        //count: search ? ret.total : 100,\n        //data:\n        return (search ? ret.results : ret).map(r => ({\n          _id: r.id,\n          title: r.description,\n          value: r.urls.raw,\n          thumb: r.urls.thumb\n        }));\n        //};\n      })\n    );\n  }\n}\n","export class ResponseObject {\n  data: Array<any>;\n  count: number;\n}\n","import { Injectable, EventEmitter, Injector } from '@angular/core';\nimport { Cache } from '../cache/cache.service';\nimport { Requestor } from '../requestor/requestor.service';\nimport { Models } from '../models/models.service';\nimport { Googlemaps } from '../googlemaps/googlemaps.service';\nimport { Workplace } from '../workplace/workplace.service';\nimport { Session } from '../session/session.service';\nimport { Files } from '../files/files.service';\nimport { Box } from '../box/box.service';\nimport { Config } from '../config/config.service';\nimport { Smartloc } from '../smartloc/smartloc.service';\nimport { Unsplash } from '../unsplash/unsplash.service';\n\nimport { ResponseObject } from '../../interfaces/response-object/response-object.interface';\nimport { Location } from '../../interfaces/location/location.interface';\nexport * from '../../interfaces/response-object/response-object.interface';\n\nimport { Filters, Query, SubQuery, IEntity, ICustomModel, ISort, toDate, utc, dateAdd, startOf, cacheFile, isNullOrUndefined } from '@shared/stencil';\nimport { Position, CoreConfig, PromiseService, Log, LocalForageService, Network } from '@shared/common';\nimport { Translate } from '@shared/translate';\n\nimport { FileUploader } from 'ng2-file-upload';\nimport { FileTransfer } from '@ionic-native/file-transfer/ngx';\nimport { uniq, compact, get, set, assign, isArray, isString, isObject, isEmpty, flatten, forEach, concat, remove, cloneDeep, uniqBy, isEqual, intersection, orderBy, keys, map as lodashMap } from 'lodash-es';\n\nimport { Observable, Observer, forkJoin, from, of, combineLatest } from 'rxjs';\nimport { map, mergeMap } from 'rxjs/operators'; //, groupBy, flatMap, reduce\n\n@Injectable()\nexport class Broker {\n  private isUploadingDatabase: boolean;\n\n  constructor(\n    private rq: Requestor,\n    private box: Box,\n    private googlemaps: Googlemaps,\n    private workplace: Workplace,\n    private session: Session,\n    private files: Files,\n    private promise: PromiseService,\n    private coreConfig: CoreConfig,\n    private log: Log,\n    private network: Network,\n    private transfer: FileTransfer,\n    private localForage: LocalForageService,\n    public config: Config,\n    protected injector: Injector,\n    protected cache: Cache,\n    protected geoloc: Smartloc,\n    protected translate: Translate,\n    protected unsplash: Unsplash\n  ) {\n    this.init();\n  }\n\n  init() {}\n\n  getApiUrl() {\n    return this.config.apiUrl;\n  }\n\n  getServerUrl() {\n    return this.config.serverUrl;\n  }\n\n  getCollectionName(collectionName: string) {\n    let model = Models.getModelByCollectionName(collectionName);\n    if (model && model.isCustom) {\n      return 'custommodelinstances';\n    }\n    return collectionName;\n  }\n\n  getById(collectionName: string, id: string, fields?: Array<string>, include?: Array<string>, idAttributeName?: string) {\n    let query = this.getQuery(collectionName, fields, include);\n    delete query.limit;\n    delete query.skip;\n    delete query.order;\n    delete query.subQuery;\n    if (this.network.isOffline()) {\n      return from(this.cache.getByIdFromDatabaseCollection(collectionName, id, idAttributeName));\n    } else if (!idAttributeName || idAttributeName === '_id') {\n      let url = this.config.apiUrl + this.getCollectionName(collectionName) + '/' + id + '?filter=' + encodeURIComponent(JSON.stringify(query));\n      return this.rq.get(url);\n    } else {\n      let filters: Filters = [[{ field: idAttributeName, operator: { _id: 'eq' }, value: id }]];\n      return this.getAll(collectionName, fields, include, null, filters).pipe(\n        map(res => {\n          if (res.data && res.data.length > 0) {\n            return res.data[0];\n          }\n          return null;\n        })\n      );\n    }\n  }\n\n  create(collectionName: string, entity: any) {\n    let url = this.config.apiUrl + this.getCollectionName(collectionName);\n    this.updateCustomModel(collectionName, entity);\n    if (this.network.isOffline()) {\n      return from(this.cache.upsertInDatabaseCollection(collectionName, entity));\n    } else {\n      return this.rq.post(url, entity);\n    }\n  }\n\n  update(collectionName: string, entity: any) {\n    if (this.network.isOffline() || this.isOfflineEntity(entity)) {\n      return from(this.cache.upsertInDatabaseCollection(collectionName, entity));\n    } else if (collectionName === 'groups') {\n      let url = this.config.apiUrl + this.getCollectionName(collectionName);\n      this.updateCustomModel(collectionName, entity);\n      return this.rq.put(url, entity);\n    } else {\n      if (entity._id) {\n        return this.patch(collectionName, entity);\n      } else {\n        return this.create(collectionName, entity);\n      }\n    }\n  }\n\n  save(collectionName: string, entity: any, fields?: Array<string>) {\n    if (this.network.isOffline() || this.isOfflineEntity(entity)) {\n      return from(this.cache.upsertInDatabaseCollection(collectionName, entity));\n    } else {\n      return this.upsert(collectionName, entity).pipe(mergeMap(res => this.getById(collectionName, res._id, fields)));\n    }\n  }\n\n  patch(collectionName: string, entity: any) {\n    if (!entity || !entity._id) {\n      throw new Error('Cant patch an empty entity or an entity without an id');\n    }\n    this.updateCustomModel(collectionName, entity);\n    if (this.network.isOffline() || this.isOfflineEntity(entity)) {\n      return from(this.cache.upsertInDatabaseCollection(collectionName, entity, true));\n    } else {\n      let url = this.config.apiUrl + this.getCollectionName(collectionName) + '/' + entity._id;\n      return this.rq.patch(url, entity);\n    }\n  }\n\n  upsert(collectionName: string, entity: Object, previousEntity?: Object, skipAcl?: boolean): Observable<any> {\n    if (!skipAcl) {\n      this.setAcl(entity, (<any>entity).group, false, collectionName);\n    }\n    this.incrementTags(collectionName, entity).subscribe(() => {});\n    let suffixs = collectionName === 'missiondatas' ? ['.value', '.edit', '.value.fieldValue'] : ['._downloadURL', '.edit'];\n    let hasFiles = this._hasFiles(entity, suffixs);\n    if (this.network.isOffline() || !hasFiles) {\n      return this.update(collectionName, entity);\n    } else {\n      return new Observable<ResponseObject>((observer: Observer<any>) => {\n        this.uploadEntityFiles(entity, suffixs).then(\n          () => {\n            this.update(collectionName, entity).subscribe(ret => {\n              if (ret._downloadURL && this.files.isDocument(ret._downloadURL)) {\n                this.box.upload(ret._downloadURL).subscribe(boxId => {\n                  if (boxId) {\n                    ret.boxId = boxId;\n                  }\n                  this.update(collectionName, ret).subscribe(retval => {\n                    observer.next(retval);\n                    observer.complete();\n                  });\n                });\n              } else {\n                observer.next(ret);\n                observer.complete();\n              }\n            });\n          },\n          err => {}\n        );\n      });\n    }\n  }\n\n  upsertAll(collectionName: string, entities: Array<Object>): Observable<any> {\n    let obs = entities.map(entity => this.upsert(collectionName, entity));\n    return forkJoin(obs);\n  }\n\n  uploadEntityFiles(entity, suffixs: Array<string> = [], progressEmitter?: EventEmitter<any>, tags?: Array<string>, promisesOnly = false, totalOffset = 0): Promise<any> {\n    let properties = this._getFileProperties(entity, suffixs);\n    let count = 0;\n    let promises: Array<Promise<any>> = properties.map(prop => {\n      let promise;\n      let file = get(entity, prop);\n      promise = ((offsetIndex, total) => {\n        return () =>\n          this.prepareUpload(file)\n            .then(f => {\n              return this.upload(f, progressEmitter, offsetIndex, total, tags, totalOffset);\n            })\n            .then(url => {\n              set(entity, prop, url);\n            })\n            .catch((err: any) => Promise.reject(err));\n      })(count, properties.length);\n      count += 1;\n      return promise;\n    });\n    if (promisesOnly) {\n      return promises.length > 0 ? promises : <any>[() => Promise.resolve('empty')];\n    }\n    return this.promise.sequential(promises);\n  }\n\n  uploadEntitiesFiles(entities: Array<any>, suffixs: Array<string> = [], progressEmitter?: EventEmitter<any>, tags?: Array<string>) {\n    let promises = entities.map(entity => {\n      return () => this.uploadEntityFiles(entity, suffixs, progressEmitter, tags, false);\n    });\n    return this.promise.sequential(promises);\n  }\n\n  prepareUpload(file) {\n    return this.files._requestExternalStoragePermission().then(() => {\n      if (this.files.isBase64(file)) {\n        return Promise.resolve(this.files.b64toBlob(file));\n      } else if (this.files.isFileUri(file)) {\n        return this.files.resolveFilePath(<string>file);\n      } else {\n        return Promise.resolve(file);\n      }\n    });\n  }\n\n  updateAll(collectionName: string, query: Query, entity: any) {\n    let rawQuery: any = assign({}, query.where);\n    if (query.subQuery) {\n      rawQuery.__options = { subQuery: query.subQuery };\n    }\n    if (entity.group) {\n      entity['_acl.groups.r'] = entity.group;\n    }\n    let url = this.config.apiUrl + this.getCollectionName(collectionName) + '/update?where=' + encodeURIComponent(JSON.stringify(rawQuery));\n    return this.rq.post(url, entity);\n  }\n\n  setAcl(entity, group?: string | Array<string>, addWrite: boolean = false, collectionName?: string, users?: Array<string>) {\n    //entity._acl = entity._acl || { groups: { r: ['admin'], w: ['admin', 'manager'] } };\n    entity._acl = entity._acl || { groups: { r: [], w: [] } };\n    entity._acl.creator = entity._acl && entity._acl.creator ? entity._acl.creator : this.session.user ? this.session.user._id : null;\n    entity._acl.groups = entity._acl && entity._acl.groups ? entity._acl.groups : {};\n    if (group) {\n      entity._acl.groups.r = uniq([].concat(group).concat(entity._acl.groups.r));\n    }\n    entity._acl.groups.r = compact(entity._acl.groups.r);\n    //entity._acl.groups.w = compact(uniq(['admin', 'manager'].concat(entity._acl.groups.w || [])));\n    entity._acl.groups.w = compact(uniq([].concat(entity._acl.groups.w || [])));\n\n    if (collectionName === 'translations' && group) {\n      entity._acl.groups.r = uniq([].concat(group));\n      entity._acl.groups.w = uniq([].concat(group));\n    }\n    if (addWrite && group) {\n      entity._acl.groups.w = compact(uniq([].concat(group).concat(entity._acl.groups.w)));\n    }\n    if (users && users.length > 0) {\n      //entity._acl.users = { r: users, w: users };\n      entity._acl.groups.r = entity._acl.groups.r.concat(users);\n    }\n  }\n\n  getCurrentGroups() {\n    if (this.session.roles.indexOf('admin') < 0) {\n      return this.session.groups;\n    } else {\n      return ['debug_v2'];\n    }\n  }\n\n  updateCustomModel(collectionName: string, entity: any) {\n    let model = Models.getModelByCollectionName(collectionName);\n    if (model && model.isCustom) {\n      entity._modelName = collectionName;\n      if (entity.location && entity.location._id) {\n        entity.locationRef = entity.location._id;\n      }\n    }\n  }\n\n  upload(file: any, progressEmitter?: EventEmitter<any>, offsetIndex = 0, total = 1, tags: Array<string> = [], totalOffset = 0): Promise<string> {\n    tags = concat([this.session.userId], tags);\n    //check for file created from base64 if we can send them through cordova transfert plugin.\n    if (this.coreConfig.isCordova() && file.nativeURL) {\n      let fileTransfer = this.transfer.create();\n      if (progressEmitter) {\n        fileTransfer.onProgress(ev => {\n          if (ev.lengthComputable) {\n            let percentage = ((ev.loaded / ev.total) * 100) / (total + totalOffset) + (offsetIndex * 100) / (total + totalOffset);\n            progressEmitter.next(percentage);\n          }\n        });\n      }\n      return fileTransfer\n        .upload(file.nativeURL, this.config.uploadUrl, {\n          fileKey: 'file',\n          fileName: file.name,\n          chunkedMode: false,\n          params: { tags: tags }\n        })\n        .then((result: any) => {\n          let retVal = JSON.parse(result.response);\n          return this.files.getCloudinaryUrl(retVal);\n        })\n        .catch((err: any) => {\n          let fileError = err && err.message ? err.message : 'File Error';\n          return Promise.reject(fileError);\n        });\n    } else {\n      let fileUploader = this.getFileUploader(null);\n      return new Promise((resolve, reject) => {\n        fileUploader.onBuildItemForm = (fileItem: any, form: any) => {\n          form.append('tags', JSON.stringify(tags));\n        };\n        fileUploader.onCompleteItem = (item: any, response: any, status: any, headers: any): any => {\n          this.log.log('upload finish');\n          fileUploader.clearQueue();\n          if (status === 200) {\n            let retVal = JSON.parse(response);\n            resolve(this.files.getCloudinaryUrl(retVal));\n          } else {\n            reject(response ? JSON.parse(response) : 'error');\n          }\n        };\n        if (progressEmitter) {\n          fileUploader.onProgressItem = (item: any, progress: any) => {\n            let percentage = progress / (total + totalOffset) + (offsetIndex * 100) / (total + totalOffset);\n            progressEmitter.next(percentage);\n          };\n        }\n        fileUploader.addToQueue([file]);\n        fileUploader.queue[0].alias = 'undefined';\n        //fileItem.alias = 'undefined';\n        this.log.log('upload begin');\n        fileUploader.uploadAll();\n      });\n    }\n  }\n\n  uploadData(data, progressEmitter?: EventEmitter<any>, offsetIndex = 0, total = 1) {\n    let file = this.files.b64toBlob(data);\n    return this.upload(file, progressEmitter, offsetIndex, total);\n  }\n\n  incrementTags(collectionName: string, entity: any): Observable<any> {\n    if (entity.tags && entity.tags.length > 0) {\n      entity.tags = uniq(compact([].concat(entity.tags)));\n      if (entity.tags.length > 0 && !this.network.isOffline()) {\n        let url = this.config.apiUrl + 'tags/incrementTags';\n        return this.rq.post(url, {\n          params: {\n            collectionName: Models.fixCollectionName(collectionName),\n            tags: entity.tags,\n            groups: [].concat(entity.group || entity._acl.groups.r),\n            entity\n          }\n        });\n      }\n    }\n    return of(null);\n  }\n\n  updateTags(collectionName: string) {\n    let url = this.config.apiUrl + 'tags/updateTags';\n    return this.rq.post(url, { params: { collection: collectionName } });\n  }\n\n  createAllTags() {\n    let url = this.config.apiUrl + 'businessLogic/createAllTags';\n    return this.rq.post(url, { params: {} });\n  }\n\n  delete(collectionName: string, id: string) {\n    if (this.isOfflineId(id)) {\n      return from(this.cache.removeFromDatabaseCollection(collectionName, id));\n    } else {\n      let url = this.config.apiUrl + this.getCollectionName(collectionName) + '/' + encodeURIComponent(id);\n      return this.rq.delete(url);\n    }\n  }\n\n  deleteAll(collectionName: string, query: Query) {\n    let url = this.config.apiUrl + this.getCollectionName(collectionName);\n    let rawQuery: any = assign({}, query.where || { _id: { exists: true } });\n    if (query.subQuery) {\n      rawQuery.__options = { subQuery: query.subQuery };\n    }\n    return this.rq.delete(url, rawQuery);\n  }\n\n  getQuery(collectionName: string, fields?: Array<string>, include?: Array<string>, search?: string, filters?: Filters | Object, sorts?: Array<ISort>, skip = 0, limit = 20, subQuery: SubQuery = null, customFilter = null): Query {\n    let model = Models.getModelByCollectionName(collectionName);\n    if (model) {\n      fields = fields && fields.length > 0 ? fields : model.fields;\n      include = include || model.include;\n      if (model && model.isCustom) {\n        if (!filters || (isArray(filters) && (<Array<any>>filters).length < 1)) {\n          filters = [[]];\n        }\n        if (isArray(filters)) {\n          filters = cloneDeep(filters);\n          (<any>filters).forEach(f => {\n            f.push({ field: '_modelName', operator: { _id: 'eq' }, value: model.collectionName });\n          });\n        }\n      }\n    }\n\n    let query: Query = {};\n    if (skip && skip > 0) {\n      query.skip = skip;\n    }\n\n    if (limit && limit > 0) {\n      query.limit = limit;\n    }\n\n    if (sorts && sorts.length > 0) {\n      query.order = sorts.filter(s => isString(s) || (s.colId && s.sort)).map(s => (isString(s) ? s : s.colId + ' ' + (s.sort ? s.sort.toUpperCase() : 'ASC')));\n    } else if (sorts && sorts.length === 0) {\n      query.order = [];\n    } else {\n      query.order = ['_lmt DESC'];\n    }\n    let searchWhere = null;\n    let filterWhere = null;\n    if (search && model && !model.searchSubquery) {\n      searchWhere = Models.exportSearch(collectionName, search);\n    }\n\n    if (filters && isArray(filters) && (<Array<any>>filters).length > 0) {\n      filterWhere = Models.exportWhere(collectionName, <Filters>filters);\n    } else if (filters && !isArray(filters) && isObject(filters)) {\n      filterWhere = filters;\n    }\n    if (searchWhere && filterWhere) {\n      query.where = { and: [searchWhere, filterWhere] };\n    } else if (searchWhere) {\n      query.where = searchWhere;\n    } else if (filterWhere) {\n      query.where = filterWhere;\n    }\n\n    if (customFilter && query.where) {\n      query.where = { and: [query.where, customFilter] };\n    } else if (customFilter) {\n      query.where = customFilter;\n    }\n\n    if (fields && fields.length > 0) {\n      query.fields = fields;\n    }\n\n    if (!isEmpty(include)) {\n      query.include = include;\n    }\n\n    if (subQuery) {\n      query.subQuery = subQuery;\n    }\n\n    let filterSubquery = Models.exportSubQuery(collectionName, filters);\n    if (filterSubquery) {\n      if (query.subQuery) {\n        query.subQuery = [].concat(query.subQuery, filterSubquery);\n      } else {\n        query.subQuery = filterSubquery;\n      }\n    }\n    //this is mainly used in the channel model because we want to filter on users properties\n    if (search && model && model.searchSubquery) {\n      searchWhere = Models.exportSearch(model.searchSubquery.collectionName, search);\n      if (!query.subQuery) {\n        query.subQuery = {\n          collectionName: model.searchSubquery.collectionName,\n          field: model.searchSubquery.field,\n          values: model.searchSubquery.values,\n          where: searchWhere\n        };\n      } else if (query.subQuery && !isArray(query.subQuery) && (<SubQuery>query.subQuery).where) {\n        (<SubQuery>query.subQuery).where = { and: [searchWhere, (<SubQuery>query.subQuery).where] };\n      }\n    }\n    return query;\n  }\n\n  getCount(collectionName: string, search?: string, filters?: Filters, subQuery: SubQuery = null, customFilter = null, noOffline: boolean = false): Observable<ResponseObject> {\n    if (this.network.isOffline()) {\n      return this.getAllOffline(collectionName, false, search, filters, null, null, null, customFilter, false).pipe(\n        map(ret => {\n          return { count: ret.count, data: [] };\n        })\n      );\n    } else {\n      let query = this.getQuery(collectionName, null, null, search, filters, null, null, null, subQuery, customFilter);\n      let url = this.config.apiUrl + this.getCollectionName(collectionName) + '/count'; //?where=' + encodeURIComponent(JSON.stringify(query.where || {}));\n      let finalQuery: any = {};\n      if (query.where) {\n        finalQuery.where = query.where;\n      }\n      if (query.subQuery) {\n        finalQuery.subQuery = query.subQuery;\n      }\n\n      let finalRes;\n      return this.rq\n        .post(url, finalQuery)\n        .pipe(\n          mergeMap(res => {\n            finalRes = res;\n            if (noOffline) {\n              return of([]);\n            } else {\n              return from(this.getAllOffline(collectionName, true, search, filters, null, null, null, customFilter));\n            }\n          })\n        )\n        .pipe(\n          map(offlineRes => {\n            let count = finalRes || 0;\n            if (offlineRes && offlineRes.count > 0) {\n              count += offlineRes.count;\n            }\n            return { count: count, data: [] };\n          })\n        );\n    }\n  }\n\n  getAll(collectionName: string, fields?: Array<string>, include?: Array<string>, search?: string, filters?: Filters, sorts?: Array<ISort>, skip = 0, limit = 20, tag = false, subQuery: SubQuery = null, customFilter = null, cacheId: string = null, looseCount: boolean = null, noCount: boolean = false, noOffline: boolean = false): Observable<ResponseObject> {\n    if (collectionName === 'googlemaps') {\n      return this.getAllGoogleMaps(search);\n    }\n    if (collectionName.indexOf('workplace_') >= 0) {\n      return this.getAllWorkplace(collectionName, search);\n    }\n    if (collectionName === 'unsplash') {\n      return this.getAllUnsplash(search, skip, limit);\n    }\n    if (tag === true) {\n      return this.getAllTags(collectionName, search, filters, skip, limit);\n    } else {\n      let query = this.getQuery(collectionName, fields, include, search, filters, sorts, skip, limit, subQuery, customFilter);\n      if (collectionName.indexOf('_store') >= 0) {\n        return this.getAllOperation(collectionName, query);\n      }\n      let obs;\n      if (this.network.isOffline()) {\n        if (cacheId) {\n          obs = from(this.localForage.get(cacheId)).pipe(\n            map(res => {\n              return res || (noCount ? [] : { count: 0, data: [] });\n            })\n          );\n        } else {\n          obs = this.getAllOffline(collectionName, false, search, filters, sorts, skip, limit, customFilter, noCount);\n        }\n      } else {\n        let finalRes;\n        obs = this.getAllQuery(collectionName, query, looseCount, noCount)\n          .pipe(\n            mergeMap(res => {\n              finalRes = res;\n              if (cacheId) {\n                this.localForage.set(cacheId, res);\n              }\n              if (noOffline) {\n                return of([]);\n              } else {\n                return from(this.getAllOffline(collectionName, true, search, filters, sorts, skip, limit, customFilter, noCount));\n              }\n            })\n          )\n          .pipe(\n            map((offlineRes: any) => {\n              if (noCount) {\n                finalRes = [...(offlineRes || []), ...(finalRes || [])];\n              } else {\n                finalRes.data = [...(offlineRes.data || []), ...(finalRes.data || [])];\n              }\n              return finalRes;\n            })\n          );\n      }\n      return obs;\n    }\n  }\n\n  getAllTags(collectionName: string, search?: string, filters?: Filters, skip = 0, limit = 20, useTagsCollection = false) {\n    filters = filters || [[]];\n    //fix for \"MongoError\",\"message\":\"$geoNear, $near, and $nearSphere are not allowed in this context\"\n    if (collectionName === 'locations') {\n      filters = filters.map(ff => {\n        return ff.filter(f => f.field !== '_geoloc');\n      });\n    }\n    if (this.network.isOffline()) {\n      return this.getAllTagsOffline({ collectionName, search, filters });\n    } else if (useTagsCollection) {\n      //this is not used anymore\n      let aggregateOptions = [{ $match: { collectionName: Models.fixCollectionName(collectionName) } }, { $group: { _id: '$tag', count: { $max: '$count' } } }, { $sort: { count: -1 } }, { $project: { _id: 1, tag: '$_id', count: 1 } }, { $group: { _id: 1, total: { $sum: 1 }, data: { $push: '$$ROOT' } } }, { $project: { count: '$total', data: { $slice: ['$data', skip, skip + limit] } } }];\n      return this.aggregateQuery('tags', filters, aggregateOptions, search).pipe(map((res: any) => (res && res.length > 0 ? { data: res[0].data, count: res[0].count } : { data: [], count: 0 })));\n    } else {\n      let aggregateOptions: Array<any> = [{ $unwind: '$tags' }];\n      if (search) {\n        aggregateOptions.push({\n          $match: { tags: { $regex: search.replace(/([^a-z0-9]+)/gi, ''), $options: 'i' } }\n        });\n      }\n\n      aggregateOptions = aggregateOptions.concat([{ $group: { _id: '$tags', count: { $sum: 1 } } }, { $sort: { count: -1 } }, { $project: { _id: 1, tag: '$_id', count: 1 } }, ...(skip > 0 ? [{ $skip: skip }] : []), ...(limit > 0 ? [{ $limit: limit }] : [])]);\n      return this.aggregateQuery(collectionName, filters, aggregateOptions).pipe(map((res: Array<any> = []) => ({ data: res, count: res.length })));\n    }\n  }\n\n  getAllTagsOffline(config: { collectionName: string; search?: string; filters?: Filters }) {\n    return this.getAllOffline(config.collectionName, false, config.search, config.filters, null, null, null, null, true).pipe(\n      map((res: Array<IEntity>) => {\n        let data = [];\n        let count: any = {};\n        if (res && res.length > 0) {\n          res.forEach(t => {\n            if (t.tags) {\n              [].concat(t.tags).forEach(tag => {\n                count[tag] = count[tag] > 0 ? count[tag] + 1 : 1;\n              });\n            }\n          });\n          keys(count).forEach(key => {\n            data.push({ _id: key, tag: key, count: count[key] });\n          });\n          data = orderBy(data, d => -d.count);\n        }\n        return { data, count: data.length, config };\n      })\n    );\n  }\n\n  getMultipleAllTags(config: { collectionName: string; search?: string; filters?: Filters; subQuery?: SubQuery }[], skip = 0, limit = 20) {\n    if (this.network.isOffline()) {\n      let obs = config.map(c => this.getAllTagsOffline(c));\n      return combineLatest(obs).pipe(\n        map(ret => {\n          return ret;\n        })\n      );\n    } else {\n      let aggregateOptions = [{ $unwind: '$tags' }, { $group: { _id: '$tags', count: { $sum: 1 } } }, { $sort: { count: -1 } }, { $project: { _id: 1, tag: '$_id', count: 1 } }, ...(skip > 0 ? [{ $skip: skip }] : []), ...(limit > 0 ? [{ $limit: limit }] : [])];\n      let queries: Query[] = config.map(conf => {\n        let filters = conf.filters || [];\n        if (conf.collectionName === 'locations') {\n          filters = filters.map(ff => {\n            return ff.filter(f => f.field !== '_geoloc');\n          });\n        }\n        return this.getAggregateQuery(conf.collectionName, filters, aggregateOptions, conf.search, null, null, null, conf.subQuery);\n      });\n      return this.aggregateQueries(queries).pipe(\n        map(rets => {\n          let retVal = rets.map((res, i) => ({ data: res, count: res.length, config: config[i] }));\n          return retVal;\n        })\n      );\n    }\n  }\n\n  getAllQuery(collectionName, query: Query, looseCount?: boolean, noCount?: boolean) {\n    let url = this.config.apiUrl + this.getCollectionName(collectionName) + '/find';\n    return this.rq.post(url, { filter: query }, null, !noCount, false, looseCount);\n    //let url = this.config.apiUrl + collectionName + '?filter=' + encodeURIComponent(JSON.stringify(query));\n    //return this.rq.get(url, true);\n  }\n\n  getAllGoogleMaps(search?: string) {\n    if (search) {\n      return this.googlemaps.placePredictionsLocationObserver(search).pipe(\n        map(predictions => {\n          let details = flatten(predictions).filter(d => d.geometry && d.geometry.location);\n          return {\n            count: details.length,\n            data: details.map(d => {\n              let position = new Position(d.geometry.location);\n              return {\n                address: d.formatted_address,\n                _id: d.id,\n                _geoloc: position.toGeoLoc(true),\n                coords: position.toJson()\n              };\n            })\n          };\n        })\n      );\n    } else {\n      return from(this.googlemaps.getCurrentAddresses(true)).pipe(\n        map(addresses => {\n          return { count: addresses.length, data: addresses };\n        })\n      );\n    }\n  }\n\n  getAllUnsplash(search?: string, skip?: number, limit?: number) {\n    return this.unsplash.getAll(search, skip, limit);\n  }\n\n  getAllWorkplace(collectionName: string, search?: string): Observable<ResponseObject> {\n    let graphEntity = collectionName.replace('workplace_', '');\n    switch (graphEntity) {\n      case 'groups':\n        return <any>this.workplace.getAllGroups();\n    }\n    return of({ count: 0, data: [] });\n  }\n\n  getAllOperation(collectionName: string, query: Query) {\n    let url = this.config.apiUrl + 'Operation/findDocument';\n    return this.rq\n      .post(\n        url,\n        {\n          collectionName: Models.fixCollectionName(collectionName.replace('_store', ''), true),\n          where: query.where,\n          //operationId: (<any>query.where).operationId.inq[0],\n          limit: query.limit,\n          skip: query.skip\n        },\n        null,\n        true\n      )\n      .pipe(\n        map(res => {\n          if (res.data && res.data.map) {\n            res.data = res.data; //.map(r => r.doc);\n          }\n          return res;\n        })\n      );\n  }\n\n  syncDatabase(lastSync?: Date, progressEvent?: EventEmitter<number>) {\n    let collections = this.coreConfig.getSyncedCollections();\n    if (collections && collections.length > 0) {\n      this.log.log('Syncing Database - Start');\n      let promises = collections.map((entry, i) => {\n        return () => {\n          if (entry.max <= 0) {\n            return;\n          }\n          this.log.log('Syncing Database - Syncing ' + entry.name);\n          return this.cache.getDatabaseCollection(entry.name).then(data => {\n            let filters: Filters = cloneDeep(entry.filters || [[]]);\n            filters.forEach(fs =>\n              fs.forEach(f => {\n                if (f.value && isArray(f.value) && f.value.indexOf('currentLanguage') >= 0) {\n                  f.value[f.value.indexOf('currentLanguage')] = this.translate.getCurrentLanguage();\n                }\n              })\n            );\n            if (lastSync && data.length > 0) {\n              // && ) {\n              filters.forEach(f => f.push({ field: '_lmt', operator: { _id: 'gte' }, value: lastSync }));\n            }\n\n            return (\n              this.getAll(entry.name, entry.fields, null, null, filters, null, 0, Math.min(entry.max || 1000, 1000), null, null, null, null, null, null, true)\n                .toPromise()\n                // let chunckNumber = (entry.max || 10000) / 100;\n                // let ps = [];\n                // for (let ii = 0; ii <= chunckNumber; ii++) {\n                //   ps.push(this.getAll(entry.name, entry.fields, null, null, filters, null, ii * 100, 100).toPromise());\n                //   //ps.push(this.aggregateQuery(entry.name, filters, [{ $skip: ii * 100 }, { $limit: 100 }], null, null, false, null, null).toPromise());\n                // }\n                // return Promise.all(ps)\n                // .then((ret: Array<ResponseObject>) => {\n                //   let d = [].concat.apply([], ret.map(r => r.data));\n                //   return {\n                //     count: d.length,\n                //     data: d\n                //   };\n                // })\n                .then(ret => {\n                  if (progressEvent) {\n                    progressEvent.emit((i / collections.length) * 100);\n                  }\n                  if (ret && ret.data) {\n                    let filePromises: Array<any> = [Promise.resolve(null)];\n                    let deletedKeys: Array<string>;\n                    if (lastSync) {\n                      filePromises = [\n                        this.getDeletedEntities(entry.name, data)\n                          .toPromise()\n                          .then((deletedkeys: Array<string>) => {\n                            deletedKeys = deletedkeys;\n                          })\n                      ];\n                    }\n                    if (entry.addToCache && entry.addToCache.length > 0) {\n                      entry.addToCache.forEach(key => {\n                        ret.data.forEach(item => {\n                          if (item[key]) {\n                            filePromises.push(() => cacheFile(item[key]));\n                          }\n                        });\n                      });\n                    }\n\n                    return Promise.all(filePromises).then(() => {\n                      return this.cache.updateDatabaseCollection(entry.name, ret.data, '_id', deletedKeys);\n                    });\n                  }\n                })\n            );\n          });\n        };\n      });\n      return this.promise.sequential(promises).then(ret => {\n        if (progressEvent) {\n          progressEvent.emit(100);\n        }\n        return ret;\n      });\n    }\n    return Promise.resolve(null);\n  }\n\n  clearDatabase() {\n    let collections = this.coreConfig.getSyncedCollections();\n    if (collections && collections.length > 0) {\n      let promises = collections.map(entry => {\n        return () => this.cache.clearDatabaseCollection(entry.name);\n      });\n      return this.promise.sequential(promises);\n    }\n    return Promise.resolve(null);\n  }\n\n  getDeletedEntities(collectionName: string, data: IEntity[]) {\n    data = data || [];\n    let url = this.config.apiUrl + 'businesslogic/getDeletedIds';\n    let modelName = Models.fixCollectionName(collectionName, true);\n    return this.rq.post(url, { modelName, ids: data.map(e => e._id) }).pipe(\n      map(retVal => {\n        if (retVal) {\n          return retVal || [];\n        }\n        return [];\n      })\n    );\n  }\n\n  getOfflineEntitiesCount() {\n    return this.uploadDatabaseOrGetCount(true);\n  }\n\n  uploadDatabase(progressEmitter?: EventEmitter<number>) {\n    return this.uploadDatabaseOrGetCount(false, progressEmitter);\n  }\n\n  uploadDatabaseOrGetCount(returnCount: boolean, progressEmitter?: EventEmitter<number>) {\n    let total = 0;\n    let count = 0;\n    let offlineData = {};\n\n    if (!this.isUploadingDatabase || this.network.isOffline()) {\n      this.isUploadingDatabase = true;\n      let collections = this.coreConfig.getSyncedCollections();\n\n      return this.cache.getDatabaseCollection<ICustomModel>('custommodels').then(custommodels => {\n        if (collections && collections.length > 0) {\n          collections = cloneDeep(collections);\n          collections = collections.concat(custommodels.map(c => ({ name: c.name })));\n          let promisesCount = collections.map(entry => {\n            return () =>\n              this.cache.getDatabaseCollection(entry.name).then(data => {\n                data = data.filter(e => this.isOfflineEntity(e) && (e as any).status !== 'draft');\n                offlineData[entry.name] = data;\n                total += data.length;\n              });\n          });\n          return this.promise.sequential(promisesCount).then(() => {\n            if (returnCount) {\n              this.isUploadingDatabase = false;\n              return total;\n            } else {\n              this.log.log('uploadDatabase', 'total', total);\n              if (progressEmitter) {\n                progressEmitter.emit(total > 0 ? (count / total) * 100 : 0);\n              }\n              let promises: Array<any> = [];\n              if (total > 0) {\n                collections.forEach(entry => {\n                  let data = offlineData[entry.name];\n                  data.forEach(entity => {\n                    promises.push(() => {\n                      let offlineId = entity._id;\n                      entity = { ...entity };\n                      delete entity._id;\n                      return this.upsert(entry.name, entity)\n                        .toPromise()\n                        .then(retVal => {\n                          count += 1;\n                          if (progressEmitter) {\n                            progressEmitter.emit((count / total) * 100);\n                          }\n                          this.log.log('uploadDatabase', 'count', count);\n                          return this.cache.replaceFromDatabaseCollection(entry.name, offlineId, retVal);\n                        });\n                    });\n                  });\n                });\n              }\n              return this.promise.sequential(promises).then(() => {\n                setTimeout(() => {\n                  if (progressEmitter) {\n                    progressEmitter.emit(100);\n                  }\n                }, 300);\n                this.isUploadingDatabase = false;\n                return total;\n              });\n            }\n          });\n        }\n      });\n    }\n    return Promise.resolve(returnCount ? 0 : null);\n  }\n\n  isOfflineEntity(entity: IEntity) {\n    return entity && entity._id && this.isOfflineId(entity._id);\n  }\n\n  isOfflineId(id: string) {\n    return id && id.startsWith && id.startsWith(Cache.OFFLINE_PREFIX);\n  }\n\n  getAllOffline(collectionName: string, offlineOnly: boolean, search?: string, filters?: Filters, sorts?: Array<ISort>, skip = 0, limit = 20, customFilter = null, noCount: boolean = false): Observable<any> {\n    return from(\n      this.cache.getDatabaseCollection(collectionName).then(data => {\n        let model = Models.getModelByCollectionName(collectionName);\n        if (offlineOnly) {\n          data = data.filter(d => this.isOfflineEntity(d));\n        }\n\n        if (filters && filters.length > 0) {\n          let newData: Array<IEntity> = [];\n          filters.forEach(fs => {\n            let subData = [...data];\n            fs.filter(f => f.removeFromOffline !== true).forEach(f => {\n              subData = subData.filter(e => {\n                let value = isArray(f.value) && isObject(f.value[0]) ? lodashMap(f.value, '_id') : isArray(f.value) ? f.value : isObject(f.value) ? f.value._id : f.value;\n                if (e && e[f.field] !== undefined && e[f.field] !== null) {\n                  switch (f.operator._id) {\n                    case 'eq':\n                      return isEqual(e[f.field], value);\n                    case 'neq':\n                      return !isEqual(e[f.field], value);\n                    case 'inq':\n                      return intersection([].concat(e[f.field]), [].concat(value)).length > 0;\n                    case 'nin':\n                      return intersection([].concat(e[f.field]), [].concat(value)).length <= 0;\n                    case 'gt':\n                      return e[f.field] > value;\n                    case 'gte':\n                      return e[f.field] >= value;\n                    case 'lt':\n                      return e[f.field] < value;\n                    case 'lte':\n                      return e[f.field] <= value;\n                    case 'nearSphere':\n                      (e as any).distance = this.geoloc.getDistance(e[f.field][1], e[f.field][0], value[1], value[0]);\n                      return (e as any).distance < f.max;\n                      break;\n                    case 'exists':\n                      return !isNullOrUndefined(e[f.field]);\n                      break;\n                  }\n                } else {\n                  switch (f.operator._id) {\n                    case 'neq':\n                    case 'nin':\n                      return true;\n\n                    case 'inq':\n                      return value && value.indexOf(null) >= 0;\n                  }\n                }\n              });\n            });\n            newData = [...newData, ...subData];\n          });\n          data = uniqBy(newData, e => e._id);\n        }\n\n        if (search && model && model.searchableFields) {\n          data = data.filter(d => {\n            if (\n              model.searchableFields.some(\n                name =>\n                  d[name] &&\n                  d[name]\n                    .toString()\n                    .toUpperCase()\n                    .indexOf(search.toUpperCase()) >= 0\n              )\n            ) {\n              return true;\n            }\n            return false;\n          });\n        }\n        if (filters && filters.some(fs => fs.some(f => f.operator._id === 'nearSphere'))) {\n          data = orderBy(data, ['distance']);\n        }\n        if (sorts) {\n          data = orderBy(data, sorts.map(s => s.colId), sorts.map(s => s.sort));\n        }\n        let total = data.length;\n        if (limit > 0) {\n          skip = skip || 0;\n          data = data.slice(skip, skip + limit);\n        }\n        return noCount ? data : { count: total, data: data };\n      })\n    );\n  }\n\n  aggregateQuery(collectionName: string, filters?: Filters, aggregateOptions?: Array<any>, search?: string, excludedFields?: Array<any>, includeCount = false, cacheId: string = null, customFilter?: any, subQuery?: SubQuery, aggregateOptionsOffline?: any) {\n    let obs: Observable<any>;\n    collectionName = Models.fixCollectionName(collectionName, true);\n    if (this.network.isOffline()) {\n      if (cacheId) {\n        obs = from(this.localForage.get(cacheId));\n      } else if (aggregateOptionsOffline) {\n        obs = from(\n          this.cache.getDatabaseCollection(collectionName).then(data => {\n            data = aggregateOptionsOffline(data);\n            if (includeCount) {\n              return { data: [{ count: data.length, data: data }] };\n            } else {\n              return { data: data };\n            }\n          })\n        );\n      } else {\n        obs = of({ count: 0, data: [] });\n      }\n    } else if (collectionName === 'aggregateLogs') {\n      return this.aggregateLogs(aggregateOptions);\n    } else {\n      let url = this.config.apiUrl + 'businesslogic/aggregateQuery';\n      let query: Query = this.getAggregateQuery(collectionName, filters, aggregateOptions, search, excludedFields, includeCount, customFilter, subQuery);\n      obs = this.rq.post(url, { params: query }).pipe(\n        map(retVal => {\n          if (cacheId) {\n            this.localForage.set(cacheId, retVal);\n          }\n          return retVal;\n        })\n      );\n    }\n\n    return obs.pipe(\n      map((retVal: any) => {\n        let data = [];\n        if (retVal && retVal.data && retVal.data.length > 0) {\n          if (includeCount) {\n            data = retVal.data[0];\n          } else {\n            data = retVal.data;\n          }\n        }\n        return data;\n      })\n    );\n  }\n\n  aggregateQueries(queries: Array<Query>, includeCount = false, cacheId: string = null) {\n    let obs: Observable<any>;\n    if (this.network.isOffline()) {\n      if (cacheId) {\n        obs = from(this.localForage.get(cacheId));\n      } else {\n        obs = of({ count: 0, data: [] });\n      }\n    } else {\n      let url = this.config.apiUrl + 'businesslogic/aggregateQueries';\n      obs = this.rq.post(url, queries).pipe(\n        map((retVal: { data: Array<any> }) => {\n          let finalArray = Array(queries.length);\n          for (let i = 0; i < finalArray.length; i++) {\n            finalArray[i] = [];\n          }\n          if (retVal && retVal.data && retVal.data.some(d => isObject(d.doc))) {\n            retVal.data.forEach((d: { index: number; doc: any }) => {\n              finalArray[d.index] = finalArray[d.index] || [];\n              finalArray[d.index].push(d.doc);\n            });\n            retVal.data = finalArray;\n          } else if (retVal && isArray(retVal.data) && retVal.data.length === 0) {\n            retVal.data = finalArray;\n          }\n\n          if (cacheId) {\n            this.localForage.set(cacheId, retVal);\n          }\n          return retVal;\n        })\n      );\n    }\n\n    return obs.pipe(\n      map((retVal: any) => {\n        let data = [];\n        if (retVal && retVal.data && retVal.data.length > 0) {\n          if (includeCount) {\n            data = retVal.data[0];\n          } else {\n            data = retVal.data;\n          }\n        }\n        return data;\n      })\n    );\n  }\n\n  getAggregateQuery(collectionName: string, filters?: Filters, aggregateOptions?: Array<any>, search?: string, excludedFields?: Array<any>, includeCount = false, customFilter?: any, subQuery?: SubQuery) {\n    let match = {};\n    let project = {};\n    let filterWhere = null;\n    let searchWhere = null;\n    let defaultFields = [];\n    let query: Query = <Query>{\n      collectionName: Models.fixCollectionName(collectionName, true),\n      includeCount\n    };\n    if (filters && filters.length > 0) {\n      filterWhere = Models.exportWhere(collectionName, filters, excludedFields);\n    }\n\n    if (search) {\n      searchWhere = Models.exportSearch(collectionName, search);\n    }\n\n    if (searchWhere && filterWhere) {\n      query.where = { and: [searchWhere, filterWhere] };\n    } else if (searchWhere) {\n      query.where = searchWhere;\n    } else if (filterWhere) {\n      query.where = filterWhere;\n    }\n\n    if (customFilter && query.where) {\n      query.where = { and: [query.where, customFilter] };\n    } else if (customFilter) {\n      query.where = customFilter;\n    }\n    query.where = query.where || {};\n\n    if (defaultFields && defaultFields.length > 0) {\n      defaultFields.forEach((field, i) => {\n        project[field] = 1;\n      });\n    }\n\n    if (!isEmpty(project)) {\n      aggregateOptions.unshift({ $project: project });\n    }\n    if (!isEmpty(match)) {\n      aggregateOptions.unshift({ $match: match });\n    }\n\n    query.options = aggregateOptions;\n    query.subQuery = Models.exportSubQuery(collectionName, filters, true);\n    if (subQuery) {\n      query.subQuery = subQuery;\n    }\n    return query;\n  }\n\n  aggregateLogs(stages?: Array<any>, groups?: Array<string>, userIds?: Array<string>) {\n    let url = this.config.apiUrl + 'AdminDashboard/aggregateLogs';\n    return this.rq.post(url, { stages, groups, userIds });\n  }\n\n  textSearch(query: string, collectionName: string) {\n    let url = this.config.apiUrl + 'businesslogic/textSearch';\n    return this.rq.post(url, { query, modelName: collectionName });\n  }\n\n  createFile(file: File, group: string | Array<string>, hideMobile = true, fileName?: string, tenantRef?: string) {\n    return this.upsert('files', {\n      _downloadURL: file,\n      _filename: file.name,\n      group: group,\n      hideMobile: hideMobile,\n      mimeType: file.type,\n      size: file.size,\n      _tenantRef: tenantRef\n    });\n  }\n\n  getFileUploader(fileTypes?, maxFileSize?) {\n    let options: any = {\n      maxFileSize: maxFileSize,\n      url: this.config.uploadUrl\n    };\n    // if (fileTypes && fileTypes.length > 0) {\n    //     options.allowedFileType = fileTypes;\n    // }\n    return new FileUploader(options);\n  }\n\n  execute(params) {\n    let url = this.config.apiUrl + 'Endpoints/execute';\n    return this.rq.post(url, { params });\n  }\n\n  undoOperation(operationId: string) {\n    let url = this.config.apiUrl + 'operation/undoDelete';\n    return this.rq.post(url, { operationId });\n  }\n\n  getMarkers(locations: Array<Location>) {\n    return locations\n      .filter((l: Location) => l._geoloc && l._geoloc.length > 1)\n      .map((l: Location) => {\n        return {\n          _id: l._id,\n          address: l.address,\n          latitude: l._geoloc[1],\n          longitude: l._geoloc[0],\n          title: l.title,\n          color: l.status === 'place' ? 'success' : l.status === 'file' ? 'info' : l.status === 'error' ? 'danger' : l.status === 'prediction' ? 'stable' : 'dark'\n        };\n      });\n  }\n\n  getUserOrLocationStat(\n    id: string | Array<string>,\n    mode: string,\n    customFilter?: any\n  ): Observable<\n    Array<{\n      _id: string;\n      booked: number;\n      count: number;\n      finished: number;\n      archived: number;\n      validated: number;\n      rejected: number;\n      tobevalidated: number;\n      available: number;\n    }>\n  > {\n    let value: Array<any> = <any>(isString(id) ? [{ _id: id }] : id);\n    let ref = mode === 'campaign' ? 'descriptionRef' : mode === 'location' ? 'locationRef' : 'ownerRef';\n    let filters = [[{ field: ref, operator: { _id: 'inq' }, value: value }]];\n\n    let options = [\n      {\n        $project: {\n          _id: '$' + ref,\n          booked: { $cond: { if: { $eq: ['$status', 'booked'] }, then: 1, else: 0 } },\n          finished: { $cond: { if: { $eq: ['$status', 'finished'] }, then: 1, else: 0 } },\n          archived: { $cond: { if: { $eq: ['$status', 'archived'] }, then: 1, else: 0 } },\n          validated: { $cond: { if: { $eq: ['$validated', true] }, then: 1, else: 0 } },\n          rejected: { $cond: { if: { $eq: ['$validated', false] }, then: 1, else: 0 } },\n          finishedDate: '$finishedDate'\n        }\n      },\n      {\n        $group: {\n          _id: '$_id',\n          booked: { $sum: '$booked' },\n          finished: { $sum: '$finished' },\n          archived: { $sum: '$archived' },\n          validated: { $sum: '$validated' },\n          rejected: { $sum: '$rejected' },\n          latest: { $max: '$finishedDate' },\n          count: { $sum: 1 }\n        }\n      }\n    ];\n    return this.aggregateQuery('missions', filters, options, null, null, false, null, customFilter).pipe(\n      map((stats: any) => {\n        if (stats && stats.length > 0) {\n          stats[0].available = (stats[0].count || 0) - (stats[0].finished || 0) - (stats[0].booked || 0) - (stats[0].archived || 0);\n          stats[0].tobevalidated = (stats[0].finished || 0) - (stats[0].validated || 0) - (stats[0].rejected || 0);\n        }\n        return stats;\n      })\n    );\n  }\n\n  setTimescale(filters: Filters, timescale: string, dateField = 'finishedDate', endDate?: Date | string, previous: boolean = false) {\n    if (timescale) {\n      filters = filters || [];\n      filters.forEach(fs => {\n        fs = fs || [];\n        remove(fs, (f: any) => f.field === dateField);\n        fs.push({\n          field: dateField,\n          operator: { _id: 'between', interval: true },\n          value: getStartAndEndDates(timescale, endDate, undefined, undefined, previous)\n        });\n      });\n    }\n  }\n\n  private _hasFiles(entity, suffixs: Array<string> = []): boolean {\n    let retVal = false;\n    for (let prop in entity) {\n      if (entity.hasOwnProperty(prop) && this.files.isImageFile(entity[prop])) {\n        retVal = true;\n      }\n      forEach(suffixs, suffix => {\n        if (suffix) {\n          let object = get(entity, prop + suffix);\n          if (isArray(object)) {\n            // for multiphoto field, value is an array;\n            let extraDataSuffix = '.extraData';\n            let extraData = get(entity, prop + extraDataSuffix);\n            object.forEach((v, index) => {\n              if (this.files.isImageFile(v)) {\n                retVal = true;\n              }\n              if (extraData && extraData[index] && extraData[index].edit) {\n                if (this.files.isImageFile(extraData[index].edit)) {\n                  retVal = true;\n                }\n              }\n            });\n          } else {\n            if (this.files.isImageFile(get(entity, prop + suffix))) {\n              retVal = true;\n            }\n          }\n        }\n      });\n    }\n    return retVal;\n  }\n\n  private _getFileProperties(entity, suffixs: Array<string> = []): Array<string> {\n    let retVal = [];\n    for (let prop in entity) {\n      if (entity.hasOwnProperty(prop) && this.files.isImageFile(entity[prop])) {\n        retVal.push(prop);\n      }\n      forEach(suffixs, suffix => {\n        if (suffix) {\n          let objectPath = get(entity, prop + suffix);\n          // for multiphoto field, value is an array; and for todo with linked multi photo we need to do it to\n          if (isArray(objectPath)) {\n            let extraDataSuffixs = ['.extraData', '.value.fieldExtra'];\n            extraDataSuffixs.forEach(extraDataSuffix => {\n              let extraData = get(entity, prop + extraDataSuffix);\n              objectPath.forEach((v, index) => {\n                if (this.files.isImageFile(v)) {\n                  retVal.push(prop + suffix + '[' + index + ']');\n                }\n                if (extraData && extraData[index] && extraData[index].edit) {\n                  if (this.files.isImageFile(extraData[index].edit)) {\n                    retVal.push(prop + extraDataSuffix + '[' + index + ']' + '.edit');\n                  }\n                }\n              });\n            });\n          } else {\n            if (this.files.isImageFile(objectPath)) {\n              retVal.push(prop + suffix);\n            }\n          }\n        }\n      });\n    }\n    retVal = uniq(retVal);\n    return retVal;\n  }\n}\n\nexport function getStartAndEndDates(timescale, endDate?: Date | string, amount?: number, notsliding?: boolean, previous: boolean = false) {\n  let lastDate = endDate || new Date();\n  amount = amount || 7;\n  let period = 'days';\n  let startof = 'day';\n  switch (timescale) {\n    case 'last30days':\n      amount = 30;\n      period = 'days';\n      break;\n    case 'last90days':\n      amount = 90;\n      period = 'days';\n      break;\n    case 'last365days':\n      amount = 365;\n      period = 'days';\n      break;\n    case 'lastweek':\n      amount = 0;\n      period = 'weeks';\n      break;\n    case 'lastmonth':\n      amount = 0;\n      period = 'months';\n      startof = 'month';\n      break;\n    case 'lastquarter':\n      amount = 2;\n      period = 'months';\n      startof = 'month';\n      break;\n    case 'lastyear':\n      amount = 0;\n      period = 'years';\n      startof = 'year';\n      break;\n    case 'last7days':\n      amount = 7;\n      period = 'days';\n      startof = 'day';\n      break;\n\n    default:\n      if (notsliding) {\n        amount = amount ? amount - 1 : 0;\n        period = timescale;\n        startof = timescale;\n      } else {\n        amount = amount || 1;\n        period = timescale;\n        startof = 'day';\n      }\n\n      break;\n  }\n\n  let dateFrom = startOf(dateAdd(utc(toDate(lastDate)), period, -amount), startof);\n  let dateTo = toDate(lastDate);\n\n  if (previous) {\n    dateFrom = dateAdd(dateFrom, period, -amount);\n    dateTo = dateAdd(dateTo, period, -amount);\n  }\n\n  //use .utc() to get the startOf with no offset issues\n  return [dateFrom.toISOString(), dateTo.toISOString()];\n}\n","import { Models } from '../../services/models/models.service';\nimport { IFormField } from '@shared/stencil';\n\nexport function Editable(className: string, config: IFormField) {\n  return function decoratorFactory(target: Object, decoratedPropertyName?: string): void {\n    config.name = config.name || decoratedPropertyName;\n    config.filterName = config.filterName || config.name;\n    if (!config.title) {\n      config.title = config.name.toUpperCase();\n    }\n    if (config.collectionName && !config.tag && config.name !== '_acl.groups.r' && config.collectionName !== 'groups') {\n      config.filterName += 'Ref';\n    }\n\n    if (Models) {\n      Models.addFormField(className, config);\n    }\n  };\n}\n","import { Models } from '../../services/models/models.service';\n\nexport function Searchable(className: string) {\n  return function decoratorFactory(target: Object, decoratedPropertyName: string): void {\n    if (Models) {\n      Models.addSearchableField(className, decoratedPropertyName);\n    }\n  };\n}\n","import { Entity } from '../../interfaces/entity/entity.interface';\nimport { Models } from '../../services/models/models.service';\n\nexport interface IModelConfig {\n  collectionName?: string;\n  className: string;\n  fields?: Array<string>;\n  include?: any;\n  searchSubquery?: { collectionName: string; field: string; values: string };\n  feathersService?: string;\n  detailComponent?: string;\n  icon?: string;\n}\n\nexport function Model(config: IModelConfig) {\n  return function(target: typeof Entity) {\n    if (Models) {\n      Models.setCollectionName(config.className, config.collectionName, config.fields, config.include, config.searchSubquery, config.feathersService, target, null, config.detailComponent, config.icon);\n    }\n  };\n}\n\nexport function ModelExtended(config: { baseClass: string; extendedClass: string }) {\n  return function(target: any) {\n    Models.addBaseModel(config.extendedClass, config.baseClass, target);\n  };\n}\n","import { IFormField, MOBILE_FORM_FIELDS_ALL, FormFieldType, ICondition, IConditionalField } from '@shared/stencil';\n\nimport { Editable } from '../../decorators/editable/editable.decorator';\nimport { Model } from '../../decorators/model/model.decorator';\nimport { CONDITION_TYPES, ROLES, ROLES_ASK, ROLES_CONDITIONS } from './icondition.interface';\nimport { ResponseObject } from '../../interfaces/response-object/response-object.interface';\n\nimport { map } from 'lodash-es';\n\nexport { CONDITION_TYPES, ROLES, ROLES_ASK, ROLES_CONDITIONS };\n\nlet conditions = {\n  isNotField: 'type!=\"field\"',\n  isField: 'type==\"field\"',\n  isTag: 'type==\"tags\"',\n  isGroup: 'type==\"groups\"',\n  isSelect: 'field.type==\"selectmulti\" or field.type==\"selectbuttonsmulti\"',\n  isToggle: 'field.type==\"checkbox\" or field.type==\"toggle\"',\n  isAutocomplete: 'field.type==\"select\" or field.type==\"selectbuttons\" or field.type==\"autocomplete\"',\n  isFieldSimple: 'type==\"field\" and (field.type==\"text\" or field.type==\"email\" or field.type==\"number\" or field.type==\"formula\" or field.type==\"date\" or field.type==\"tel\" or field.type==\"time\" or field.type==\"range\" or field.type==\"starrating\")',\n  isFieldWithValues: 'type==\"field\" and (field.type==\"checkbox\" or field.type==\"toggle\" or field.type==\"select\" or field.type==\"selectmulti\" or field.type==\"selectbuttons\" or field.type==\"selectbuttonsmulti\" or field.type==\"autocomplete\" or field.type==\"selectimage\")'\n};\n\nexport function getGroupsTransform(res: ResponseObject) {\n  if (res.data && res.data.filter) {\n    res.data = res.data.filter(g => ROLES.indexOf(g._id) < 0 && g.isRole !== true);\n  }\n  return res;\n}\n\nexport function isNotInformationField(m) {\n  return m.type !== FormFieldType.information;\n}\n\nexport function getFormFieldValues() {\n  return map(MOBILE_FORM_FIELDS_ALL.filter(isNotInformationField), 'type');\n}\n\n@Model({ className: 'Condition' })\nexport class Condition extends ICondition {\n  @Editable('Condition', { type: FormFieldType.text, required: true })\n  title: string;\n\n  @Editable('Condition', {\n    type: FormFieldType.autocomplete,\n    translate: true,\n    values: CONDITION_TYPES,\n    required: true\n  })\n  type: string;\n\n  @Editable('Condition', {\n    type: FormFieldType.autocomplete,\n    condition: conditions.isField,\n    required: true,\n    idAttributeName: 'name'\n  })\n  field?: IFormField;\n\n  // { condition: conditions.isSelect, values: ['in', 'notin', 'containsall'] }\n  // contains all : check that all values are present.\n  // Deactivated for the moment to be compatible with the V2\n  @Editable('Condition', {\n    type: FormFieldType.autocomplete,\n    required: true,\n    multiple: false,\n    translate: true,\n    condition: 'type',\n    conditionalValues: [{ condition: conditions.isNotField, values: ['in', 'notin'] }, { condition: conditions.isSelect, values: ['in', 'notin'] }, { condition: conditions.isToggle, values: ['equals', 'notequals'] }, { condition: conditions.isAutocomplete, values: ['equals', 'in', 'notin'] }],\n    defaultValues: ['equals', 'notequals', 'greaterthan', 'lessthan']\n  })\n  operator: string;\n\n  @Editable('Condition', {\n    type: FormFieldType.autocomplete,\n    condition: conditions.isTag,\n    tag: true,\n    multiple: true,\n    collectionName: 'locations',\n    required: true\n  })\n  tags?: Array<string>;\n\n  @Editable('Condition', {\n    title: 'GROUPS',\n    required: true,\n    type: FormFieldType.autocomplete,\n    collectionName: 'groups',\n    filters: [[{ field: 'isRole', operator: { _id: 'neq' }, value: true }, { field: 'type', operator: { _id: 'nin' }, value: ['plan'] }]],\n    hiddenFields: ['isRole', 'type'],\n    idOnly: true,\n    mapTransform: getGroupsTransform,\n    condition: conditions.isGroup,\n    multiple: true,\n    clearable: false\n  })\n  group?: Array<string>;\n\n  @Editable('Condition', {\n    type: FormFieldType.autocomplete,\n    required: true,\n    condition: conditions.isFieldWithValues,\n    dynamicValues: 'field.values',\n    defaultValues: ['true', 'false'],\n    multiple: true\n  })\n  values: Array<any>;\n\n  @Editable('Condition', {\n    dynamicType: 'field.type',\n    defaultType: FormFieldType.text,\n    required: true,\n    condition: conditions.isFieldSimple\n  })\n  value: any;\n}\n\n@Model({ className: 'ConditionalField' })\nexport class ConditionalField extends IConditionalField {\n  @Editable('ConditionalField', { type: FormFieldType.text, readonly: true, title: 'FIELDIF' })\n  fieldTitle: string;\n\n  @Editable('ConditionalField', {\n    type: FormFieldType.autocomplete,\n    required: true,\n    multiple: false,\n    translate: true,\n    title: 'FIELDIS',\n    conditionalValues: [{ condition: conditions.isNotField, values: ['in', 'notin'] }, { condition: conditions.isSelect, values: ['in', 'notin'] }, { condition: conditions.isToggle, values: ['equals', 'notequals'] }, { condition: conditions.isAutocomplete, values: ['equals', 'in', 'notin'] }],\n    defaultValues: ['equals', 'notequals', 'greaterthan', 'lessthan']\n  })\n  operator: string;\n\n  @Editable('ConditionalField', {\n    type: FormFieldType.autocomplete,\n    required: true,\n    condition: conditions.isFieldWithValues,\n    dynamicValues: 'field.values',\n    defaultValues: ['true', 'false'],\n    multiple: true\n  })\n  values: Array<any>;\n\n  @Editable('ConditionalField', {\n    dynamicType: 'field.type',\n    defaultType: FormFieldType.text,\n    required: true,\n    condition: conditions.isFieldSimple\n  })\n  value: any;\n\n  @Editable('ConditionalField', {\n    type: FormFieldType.autocomplete,\n    required: true,\n    title: 'FIELDTYPE',\n    values: getFormFieldValues(),\n    translate: true\n  })\n  newFieldType: string;\n\n  @Editable('ConditionalField', { type: FormFieldType.text, required: true, title: 'TITLE' })\n  newfieldTitle: string;\n\n  @Editable('ConditionalField', { title: 'INSTRUCTIONS', type: FormFieldType.textarea })\n  newfieldDescription: string;\n\n  @Editable('ConditionalField', { title: 'MANDATORY', type: FormFieldType.checkbox })\n  newFieldRequired: boolean;\n}\n","export const ADMIN_FILES_TYPE = ['locations', 'user', 'geofilters', 'campaignfilters', 'products', 'locationtypes'];\nexport const FORMCREATOR_FILES_TYPE = ['pages'];\n\nexport const FORM_FILES_IMAGE_MIME = ['image/png', 'image/jpg', 'image/jpeg', 'image/gif', 'image/bmp'];\nexport const FORM_FILES_IMAGE_FILTER = [[{ field: 'mimeType', operator: { _id: 'inq' }, value: FORM_FILES_IMAGE_MIME }]];\n\nexport const FORM_FILES_GROUP_FILTER = [[{ field: 'mimeType', operator: { _id: 'inq' }, value: FORM_FILES_IMAGE_MIME }, { field: 'tags', operator: { _id: 'inq' }, value: ['group'] }]];\n","import { Model } from '../../decorators/model/model.decorator';\nimport { Searchable } from '../../decorators/searchable/searchable.decorator';\nimport { FormFieldType, ITenant, ILocationKpi } from '@shared/stencil';\nimport { Editable } from '../../decorators/editable/editable.decorator';\nimport { FORM_FILES_IMAGE_FILTER } from '../constants/constants.interface';\n\n@Model({\n  className: 'Tenant',\n  collectionName: 'tenants',\n  fields: ['*'],\n  include: [],\n  icon: 'yo-company'\n})\nexport class Tenant extends ITenant {\n  @Editable('Tenant', { required: true, type: FormFieldType.text })\n  @Searchable('Tenant')\n  name: string;\n\n  @Editable('Tenant', { required: false, type: FormFieldType.text })\n  @Searchable('Tenant')\n  title: string;\n\n  @Editable('Tenant', { required: false, type: FormFieldType.textarea })\n  @Searchable('Tenant')\n  description: string;\n\n  @Editable('Tenant', {\n    type: FormFieldType.autocomplete,\n    filters: FORM_FILES_IMAGE_FILTER,\n    forceModal: true,\n    hiddenFields: ['mimeType'],\n    mode: 'tile',\n    pageSize: 20,\n    clearable: true,\n    fixedPosition: true,\n    maxWidth: 160,\n    maxHeight: 160,\n    crop: 'circle',\n    collectionName: 'files',\n    title: 'ICON',\n    columnDefinition: { name: '_downloadURL' },\n    filterable: false,\n    sortable: false\n  })\n  icon: any;\n\n  @Editable('Tenant', { type: FormFieldType.toggle })\n  ssoOnly: boolean;\n\n  @Editable('Tenant', { type: FormFieldType.toggle })\n  protected: boolean;\n\n  @Editable('Tenant', {\n    type: FormFieldType.json,\n    filterable: false,\n    sortable: false,\n    suppressExport: true\n  })\n  locationKpis?: Array<ILocationKpi>;\n}\n","import { ILocationType, FormFieldType } from '@shared/stencil';\nimport { Model } from '../../decorators/model/model.decorator';\nimport { Searchable } from '../../decorators/searchable/searchable.decorator';\nimport { Editable } from '../../decorators/editable/editable.decorator';\nimport { getGroupsTransform, ROLES_CONDITIONS } from '../condition/condition.interface';\nimport { Tenant } from '../tenant/tenant.interface';\n\n@Model({\n  className: 'LocationType',\n  collectionName: 'locationtypes',\n  fields: ['*'],\n  include: ['_tenant'],\n  icon: 'yo-categories'\n})\nexport class LocationType extends ILocationType {\n  // export class LocationType implements IEntity {\n  @Editable('LocationType', {\n    type: FormFieldType.text,\n    visible: false,\n    forceExport: true,\n    exportOrder: 1\n  })\n  _id?: string;\n\n  @Editable('LocationType', { type: FormFieldType.text, required: true, exportOrder: 2 })\n  @Searchable('LocationType')\n  name: string;\n\n  @Editable('LocationType', {\n    title: 'GROUPS',\n    type: FormFieldType.autocomplete,\n    allowCustomTag: true,\n    collectionName: 'groups',\n    multiple: true,\n    clearable: false,\n    required: true,\n    idOnly: true,\n    filters: [[{ field: 'type', operator: { _id: 'nin' }, value: ['plan'] }, { field: 'isRole', operator: { _id: 'neq' }, value: true }]],\n    hiddenFields: ['isRole', 'type'],\n    mapTransform: getGroupsTransform\n  })\n  group?: Array<any>;\n\n  @Editable('LocationType', {\n    type: FormFieldType.number,\n    readonly: true,\n    visible: false,\n    forceExport: true,\n    exportOrder: 4\n  })\n  count?: number;\n\n  @Editable('LocationType', {\n    required: true,\n    title: 'TENANT',\n    type: FormFieldType.autocomplete,\n    condition: [ROLES_CONDITIONS.isAdmin],\n    collectionName: 'tenants',\n    multiple: false,\n    columnDefinition: { name: 'name' }\n  })\n  _tenant: Tenant;\n  _tenantRef?: string;\n}\n","import { Models } from '../../services/models/models.service';\n\nexport function Mapping(className: string, config: { order: number }) {\n  return function decoratorFactory(target: Object, decoratedPropertyName: string): void {\n    if (Models) {\n      Models.addMappingField(className, decoratedPropertyName, config.order);\n    }\n  };\n}\n","import { IProperty } from '../entity/entity.interface';\nimport { FormFieldType, ILocation, IKpiData } from '@shared/stencil';\nimport { LocationType } from '../location-type/location-type.interface';\nimport { Model } from '../../decorators/model/model.decorator';\nimport { Searchable } from '../../decorators/searchable/searchable.decorator';\nimport { Editable } from '../../decorators/editable/editable.decorator';\nimport { Mapping } from '../../decorators/mapping/mapping.decorator';\nimport { ROLES_CONDITIONS } from '../condition/icondition.interface';\nimport { Tenant } from '../tenant/tenant.interface';\n\nexport const LOCATION_GEOCODESTATUS = ['file', 'geocoder', 'place', 'prediction', 'error'];\n\nexport function onAddressChange(value, data, field) {\n  if (value && value._geoloc) {\n    data._geoloc = value._geoloc;\n    (<any>field)._geoloc = value._geoloc;\n    data.address = value.address;\n  }\n}\n\nexport function onTypeChange(value, data) {\n  if (value && value._id) {\n    data.typeRef = value._id;\n  }\n}\n\n@Model({\n  className: 'Location',\n  collectionName: 'locations',\n  fields: ['*', 'type.name'],\n  include: ['type', '_tenant'],\n  icon: 'yo-store'\n})\nexport class Location implements ILocation {\n  @Mapping('Location', { order: 12 })\n  @Editable('Location', {\n    type: FormFieldType.text,\n    visible: false,\n    forceExport: true,\n    exportOrder: 13,\n    filterable: false\n  })\n  _id: string;\n\n  @Mapping('Location', { order: 11 })\n  @Editable('Location', {\n    type: FormFieldType.text,\n    columnDefinition: { width: 100 },\n    exportOrder: 12\n  })\n  @Searchable('Location')\n  clientid: string;\n\n  @Mapping('Location', { order: 0 })\n  @Editable('Location', {\n    required: true,\n    type: FormFieldType.text,\n    exportOrder: 1,\n    sortable: true\n  })\n  @Searchable('Location')\n  title: string;\n\n  @Mapping('Location', { order: 1 })\n  @Editable('Location', {\n    required: true,\n    type: FormFieldType.address,\n    filterName: '_geoloc',\n    columnDefinition: { width: 350 },\n    showMap: true,\n    exportOrder: 2,\n    onChange: onAddressChange\n  })\n  @Searchable('Location')\n  address: string;\n\n  @Mapping('Location', { order: 15 })\n  @Editable('Location', {\n    type: FormFieldType.photo,\n    filterable: false,\n    title: 'PHOTO',\n    columnDefinition: { width: 52 },\n    exportOrder: 16,\n    sortable: false,\n    allowLibrary: true\n  })\n  imageData?: string;\n\n  @Mapping('Location', { order: 13 })\n  @Editable('Location', {\n    type: FormFieldType.checkbox,\n    columnDefinition: { width: 40 },\n    exportOrder: 14,\n    filterable: true\n  })\n  vip: boolean;\n\n  @Mapping('Location', { order: 9 })\n  @Editable('Location', {\n    title: 'LOCATIONTAGS',\n    type: FormFieldType.autocomplete,\n    tag: true,\n    collectionName: 'locations',\n    multiple: true,\n    subQuery: { field: 'locationRef', values: '_id' },\n    icon: 'yo-tag',\n    exportOrder: 10\n  })\n  tags: Array<string>;\n\n  @Mapping('Location', { order: 2 })\n  @Editable('Location', {\n    type: FormFieldType.autocomplete,\n    collectionName: 'locationtypes',\n    required: true,\n    columnDefinition: { name: 'name' },\n    exportOrder: 3,\n    filterableAdvanced: true,\n    onChange: onTypeChange,\n    filterable: true\n  })\n  type: LocationType;\n  typeRef: string;\n\n  @Mapping('Location', { order: 14 })\n  @Editable('Location', {\n    type: FormFieldType.autocomplete,\n    collectionName: 'missiondescriptions',\n    clearable: true,\n    multiple: true,\n    filterable: false,\n    sortable: false,\n    suppressExport: true,\n    filters: [[{ field: 'archived', operator: { _id: 'neq' }, value: true }]],\n    hiddenFields: ['archived']\n  })\n  missiondescriptions?;\n  missiondescriptionsRef?: Array<string>;\n\n  @Mapping('Location', { order: 10 })\n  @Editable('Location', {\n    title: 'NOTIFICATIONEMAILS',\n    type: FormFieldType.emailreport,\n    showUsers: true,\n    stateful: false,\n    tab: 'INFORMATION',\n    exportOrder: 11,\n    filterableAdvanced: true\n  })\n  notificationemail?: Array<string>;\n\n  @Mapping('Location', { order: 5 })\n  @Editable('Location', {\n    type: FormFieldType.text,\n    tab: 'INFORMATION',\n    exportOrder: 6,\n    filterableAdvanced: true\n  })\n  @Searchable('Location')\n  contactname?: string;\n\n  @Mapping('Location', { order: 6 })\n  @Editable('Location', {\n    type: FormFieldType.email,\n    tab: 'INFORMATION',\n    exportOrder: 7,\n    filterableAdvanced: true\n  })\n  contactemail?: string;\n\n  @Mapping('Location', { order: 7 })\n  @Editable('Location', {\n    type: FormFieldType.text,\n    tab: 'INFORMATION',\n    exportOrder: 8,\n    filterableAdvanced: true\n  })\n  contactphone?: string;\n\n  @Mapping('Location', { order: 8 })\n  @Editable('Location', {\n    type: FormFieldType.textarea,\n    tab: 'INFORMATION',\n    exportOrder: 9,\n    filterableAdvanced: true\n  })\n  info?: string;\n\n  @Editable('Location', {\n    readonly: true,\n    type: FormFieldType.autocomplete,\n    values: LOCATION_GEOCODESTATUS,\n    clearable: false,\n    filterableAdvanced: true,\n    suppressExport: true\n  })\n  status?: string;\n\n  @Mapping('Location', { order: 4 })\n  @Editable('Location', {\n    visible: false,\n    exportOrder: 5,\n    forceExport: true,\n    filterable: false,\n    sortable: false\n  })\n  placesearch?: string;\n\n  @Mapping('Location', { order: 3 })\n  @Editable('Location', {\n    visible: false,\n    forceExport: true,\n    exportOrder: 4,\n    filterable: false,\n    sortable: false\n  })\n  _geoloc: [number, number];\n\n  @Editable('Location', {\n    type: FormFieldType.autocomplete,\n    tab: 'PROPERTIES',\n    allowCustomTag: true,\n    multiple: true,\n    filterable: false,\n    sortable: false,\n    suppressExport: true,\n    condition: ROLES_CONDITIONS.hasProductBatch\n  })\n  aisles?: string[];\n\n  @Editable('Location', {\n    type: FormFieldType.text,\n    tab: 'PROPERTIES',\n    condition: ROLES_CONDITIONS.hasProductBatch\n  })\n  smartTagId?: string;\n\n  @Editable('Location', {\n    type: FormFieldType.json,\n    tab: 'PROPERTIES',\n    filterable: false,\n    sortable: false,\n    suppressExport: true,\n    condition: ROLES_CONDITIONS.isAdmin\n  })\n  properties?: IProperty[];\n\n  distance?: number;\n  stats?: Array<{ title: string; value: number; color: string }>;\n\n  @Editable('Location', {\n    required: true,\n    title: 'TENANT',\n    type: FormFieldType.autocomplete,\n    condition: [ROLES_CONDITIONS.isAdmin],\n    collectionName: 'tenants',\n    multiple: false,\n    columnDefinition: { name: 'name' }\n  })\n  _tenant?: Tenant;\n  _tenantRef?: string;\n\n  lastVisit?: Date;\n  countVisits?: number;\n\n  @Editable('Location', {\n    visible: false,\n    type: FormFieldType.toggle,\n    filterable: false,\n    invertedSort: true\n  })\n  hasAvailableMissions?: boolean;\n\n  @Editable('Location', {\n    visible: false,\n    type: FormFieldType.number,\n    filterable: false,\n    invertedSort: true\n  })\n  availableMissions?: number;\n\n  kpiData?: Array<IKpiData>;\n}\n","import { Model } from '../../decorators/model/model.decorator';\nimport { Searchable } from '../../decorators/searchable/searchable.decorator';\nimport { Editable } from '../../decorators/editable/editable.decorator';\nimport { FormFieldType, IUser, IUserSettings, ISimpleUser, IRole, IRoles } from '@shared/stencil';\nimport { Location } from '../location/location.interface';\nimport { Tenant } from '../tenant/tenant.interface';\nimport { getGroupsTransform, ROLES_CONDITIONS } from '../condition/condition.interface';\n\nimport { startCase } from 'lodash-es';\n\nlet conditions = {\n  isCreate: 'not getAttributeValue(\"_ect\")',\n  isUpdate: 'getAttributeValue(\"_ect\")',\n  isNotUpdateMultiple: 'not (getAttributeValue(\"_id\") == \"multiple\")',\n  //isTeam: ' isTeam == 1',\n  //isNotTeam: ' not (isTeam == 1)',\n  isNotSarahMartin: 'not (username == \"smartin@yoobic.com\")',\n  isNotYoobicAdmin: 'not (endsWith(getAttributeValue(\"username\"),\"@yoobic.com\") == 1 and length(\"_acl.groups.r\") == 0)'\n};\n\nexport function onUserLocationChange(value, data) {\n  if (!value) {\n    data.locationRef = null;\n  }\n}\n\n@Model({\n  className: 'User',\n  collectionName: 'user',\n  fields: ['*'],\n  include: ['location', '_tenant'],\n  icon: 'yo-user'\n})\nexport class User extends IUser {\n  @Editable('User', {\n    type: FormFieldType.text,\n    visible: false,\n    forceExport: true,\n    exportOrder: 11\n  })\n  _id?: string;\n\n  @Editable('User', {\n    type: FormFieldType.photo,\n    filterable: false,\n    title: 'PHOTO',\n    columnDefinition: { width: 52 },\n    exportOrder: 10,\n    sortable: false,\n    allowLibrary: true\n  })\n  imageData?: string;\n\n  @Editable('User', {\n    required: true,\n    flex: 100,\n    type: FormFieldType.email,\n    sortable: true,\n    disableAutocomplete: true,\n    condition: conditions.isNotUpdateMultiple,\n    readonly: conditions.isUpdate,\n    exportOrder: 1\n  })\n  @Searchable('User')\n  username: string;\n\n  @Editable('User', {\n    required: false,\n    flex: 100,\n    type: FormFieldType.email,\n    disableAutocomplete: true,\n    exportOrder: 6\n  })\n  @Searchable('User')\n  email?: string;\n\n  @Editable('User', {\n    required: true,\n    type: FormFieldType.password,\n    secondary: true,\n    icon: 'yo-password',\n    disableAutocomplete: true,\n    condition: ROLES_CONDITIONS.isAdminOrClientAdmin,\n    filterable: false,\n    sortable: false,\n    exportOrder: 2\n  })\n  password?: string;\n\n  @Editable('User', {\n    required: true,\n    flex: 100,\n    type: FormFieldType.text,\n    sortable: true,\n    exportOrder: 4\n  })\n  @Searchable('User')\n  firstName?: string;\n\n  @Editable('User', {\n    flex: 100,\n    required: true,\n    type: FormFieldType.text,\n    sortable: true,\n    exportOrder: 5\n  })\n  @Searchable('User')\n  lastName?: string;\n\n  @Editable('User', {\n    required: true,\n    filterable: true,\n    title: 'TENANT',\n    type: FormFieldType.autocomplete,\n    condition: [ROLES_CONDITIONS.isAdmin],\n    collectionName: 'tenants',\n    multiple: false,\n    columnDefinition: { name: 'name' }\n  })\n  _tenant: Tenant;\n\n  @Editable('User', {\n    type: FormFieldType.toggle,\n    flex: 100,\n    title: 'TEAM',\n    exportOrder: 12,\n    condition: [conditions.isCreate, ROLES_CONDITIONS.isAdmin],\n    filterableAdvanced: true\n  })\n  isTeam?: boolean;\n\n  @Editable('User', {\n    title: 'USERTAGS',\n    type: FormFieldType.autocomplete,\n    tag: true,\n    collectionName: 'user',\n    readonly: ROLES_CONDITIONS.isNeitherAdminNorClientAdmin,\n    multiple: true,\n    icon: 'yo-flag',\n    subQuery: { field: 'ownerRef', values: '_id' },\n    exportOrder: 13\n  })\n  tags?: Array<string>;\n\n  @Editable('User', {\n    flex: 100,\n    required: true,\n    filterable: true,\n    readonly: ROLES_CONDITIONS.isNeitherAdminNorClientAdmin,\n    type: FormFieldType.autocomplete,\n    exportOrder: 15,\n    values: IRoles,\n    translate: true,\n    filterableAdvanced: true\n  })\n  role?: IRole;\n\n  @Editable('User', {\n    flex: 50,\n    type: FormFieldType.tel,\n    exportOrder: 7,\n    filterableAdvanced: true,\n    advanced: true\n  })\n  telephone?: string;\n\n  @Editable('User', {\n    flex: 50,\n    type: FormFieldType.text,\n    exportOrder: 8,\n    filterableAdvanced: true,\n    advanced: true\n  })\n  company?: string;\n\n  //@Editable('User', { flex: 100, type: FormFieldType.text, exportOrder: 16, filterableAdvanced: true })\n  position?: string;\n\n  @Editable('User', {\n    flex: 50,\n    type: FormFieldType.date,\n    suppressExport: true,\n    filterableAdvanced: true,\n    advanced: true\n  })\n  dateOfBirth?: string;\n\n  @Editable('User', {\n    flex: 50,\n    type: FormFieldType.autocomplete,\n    values: ['MALE', 'FEMALE'],\n    translate: true,\n    suppressExport: true,\n    filterableAdvanced: true,\n    advanced: true\n  })\n  gender?: string;\n\n  //@Editable('User', { type: FormFieldType.email, condition: conditions.isNotTeam, exportOrder: 17, filterableAdvanced: true })\n\n  @Editable('User', { type: FormFieldType.address, exportOrder: 9, advanced: true })\n  address?: any;\n\n  @Editable('User', {\n    title: 'LOCATION',\n    filterable: true,\n    type: FormFieldType.autocomplete,\n    onChange: onUserLocationChange,\n    collectionName: 'locations',\n    deleteOnHidden: false,\n    readonly: ROLES_CONDITIONS.isNotManager,\n    suppressExport: true,\n    clearable: true\n  }) //, conditions.isNotYoobicAdmin\n  location?: Location;\n\n  @Editable('User', {\n    type: FormFieldType.text,\n    visible: false,\n    forceExport: true,\n    exportOrder: 14,\n    filterable: false\n  })\n  locationRef?: string;\n\n  @Editable('User', {\n    required: true,\n    name: '_acl.groups.r',\n    columnDefinition: { name: '_acl?.groups?.r', forceName: true },\n    title: 'GROUPS',\n    condition: <any>[ROLES_CONDITIONS.isAdminOrClientAdmin, <any>conditions.isNotSarahMartin, conditions.isNotYoobicAdmin],\n    type: FormFieldType.autocomplete,\n    allowCustomTag: true,\n    collectionName: 'groups',\n    filters: [[{ field: 'isRole', operator: { _id: 'neq' }, value: true }, { field: 'type', operator: { _id: 'nin' }, value: ['plan'] }]],\n    hiddenFields: ['isRole', 'type'],\n    idOnly: true,\n    multiple: true,\n    clearable: false,\n    exportOrder: 3,\n    deleteOnHidden: false,\n    mapTransform: getGroupsTransform\n  })\n  _aclGroupsR?: any;\n\n  @Editable('User', {\n    type: FormFieldType.date,\n    name: '_lmt',\n    title: 'LASTSEEN',\n    sortable: true,\n    filterable: true,\n    readonly: true,\n    suppressExport: true,\n    filterableAdvanced: true,\n    advanced: true\n  })\n  lastSeen?: any;\n\n  @Editable('User', {\n    type: FormFieldType.text,\n    readonly: true,\n    suppressExport: false,\n    filterableAdvanced: true,\n    advanced: true\n  })\n  version?: any;\n\n  @Editable('User', {\n    type: FormFieldType.text,\n    readonly: true,\n    suppressExport: false,\n    filterableAdvanced: true,\n    advanced: true\n  })\n  mobileVersion?: any;\n\n  @Editable('User', {\n    type: FormFieldType.text,\n    readonly: true,\n    suppressExport: true,\n    filterableAdvanced: true,\n    advanced: true\n  })\n  platform?: any;\n\n  @Editable('User', {\n    type: FormFieldType.text,\n    readonly: true,\n    suppressExport: true,\n    filterableAdvanced: true,\n    advanced: true\n  })\n  language?: string;\n\n  @Editable('User', {\n    type: FormFieldType.text,\n    readonly: true,\n    suppressExport: true,\n    filterable: false,\n    advanced: true\n  })\n  device?: string;\n\n  @Editable('User', {\n    type: FormFieldType.text,\n    readonly: true,\n    suppressExport: true,\n    filterable: false,\n    advanced: true\n  })\n  uuid?: string;\n\n  @Editable('User', {\n    type: FormFieldType.text,\n    readonly: true,\n    suppressExport: true,\n    filterable: false,\n    advanced: true\n  })\n  target?: string;\n\n  @Editable('User', {\n    title: 'MAXWIDTH',\n    type: FormFieldType.number,\n    condition: ROLES_CONDITIONS.isAdmin,\n    suppressExport: true,\n    filterable: false\n  })\n  photoMaxWidth?: number;\n\n  @Editable('User', {\n    title: 'SSO',\n    type: FormFieldType.toggle,\n    condition: ROLES_CONDITIONS.isAdmin,\n    exportOrder: 18\n  })\n  sso?: boolean;\n\n  @Editable('User', {\n    type: FormFieldType.toggle,\n    condition: ROLES_CONDITIONS.isAdmin,\n    suppressExport: true,\n    filterable: false,\n    sortable: false\n  })\n  disableTracking?: boolean;\n\n  @Editable('User', {\n    type: FormFieldType.toggle,\n    condition: ROLES_CONDITIONS.isAdmin,\n    suppressExport: true,\n    filterable: false,\n    sortable: false\n  })\n  disableDatabaseSync?: boolean;\n\n  static getDisplayName(user: any): string {\n    if (user) {\n      let displayName = user.username;\n      if (user.firstName && user.lastName) {\n        displayName = startCase(user.firstName.toString().toLowerCase()) + ' ' + startCase(user.lastName.toString().toLowerCase());\n      } else if (user.first_name && user.last_name) {\n        displayName = startCase(user.first_name.toString().toLowerCase()) + ' ' + startCase(user.last_name.toString().toLowerCase());\n      } else if (user._socialIdentity && user._socialIdentity.facebook && user._socialIdentity.facebook.name) {\n        displayName = user._socialIdentity.facebook.name;\n      } else if (user.email) {\n        displayName = user.email;\n      } else if (user._socialIdentity && user._socialIdentity.facebook && user._socialIdentity.facebook.email) {\n        displayName = user._socialIdentity.facebook.email;\n      }\n      return displayName;\n    }\n    return '';\n  }\n\n  static getSimpleFields() {\n    return ['_id', 'imageData', 'firstName', 'lastName', 'email', 'telephone', 'username'];\n  }\n}\n\n@Model({ className: 'UserSettings' })\nexport class UserSettings extends IUserSettings {\n  //@Editable('UserSettings', { type: FormFieldType.toggle, flex: 100, suppressExport: true, filterable: false, sortable: false })\n  useBigFonts: boolean;\n\n  // @Editable('UserSettings', { type: FormFieldType.toggle, flex: 100, title: 'DISABLEHAPTICFEEDBACK', suppressExport: true, filterable: false, sortable: false })\n  disableHapticFeedback: boolean;\n\n  //@Editable('UserSettings', { type: FormFieldType.toggle, flex: 100, suppressExport: true, filterable: false, sortable: false })\n  showScrollbars: boolean;\n\n  @Editable('UserSettings', {\n    type: FormFieldType.toggle,\n    header: 'NOTIFICATIONS',\n    flex: 100,\n    title: 'DISABLEALLEMAILS',\n    suppressExport: true,\n    filterable: false,\n    sortable: false\n  })\n  disableEmailNotifications: boolean;\n\n  @Editable('UserSettings', {\n    type: FormFieldType.toggle,\n    flex: 100,\n    title: 'DISABLEALLPUSH',\n    suppressExport: true,\n    filterable: false,\n    sortable: false\n  })\n  disablePushNotifications: boolean;\n\n  @Editable('UserSettings', {\n    type: FormFieldType.toggle,\n    flex: 100,\n    title: 'DISABLEALLSMS',\n    suppressExport: true,\n    filterable: false,\n    sortable: false\n  })\n  disableSmsNotifications: boolean;\n\n  @Editable('UserSettings', {\n    type: FormFieldType.toggle,\n    flex: 100,\n    suppressExport: true,\n    filterable: false,\n    sortable: false\n  })\n  sendFinishedEmail: boolean;\n\n  @Editable('UserSettings', {\n    title: 'MAXWIDTH',\n    header: 'PHOTOS',\n    type: FormFieldType.number,\n    suppressExport: true,\n    filterable: false,\n    min: 600,\n    max: 10240\n  })\n  photoMaxWidth?: number;\n\n  @Editable('UserSettings', {\n    type: FormFieldType.toggle,\n    flex: 100,\n    title: 'DELETEPHOTOSINALBUM',\n    suppressExport: true,\n    filterable: false,\n    sortable: false\n  })\n  deletePhotos: boolean;\n\n  @Editable('UserSettings', {\n    type: FormFieldType.toggle,\n    flex: 100,\n    header: 'MISSIONS',\n    title: 'ENABLEMISSIONLIVESYNC',\n    condition: ROLES_CONDITIONS.isAdmin,\n    suppressExport: true,\n    filterable: false,\n    sortable: false\n  })\n  enableMissionLiveSync: boolean;\n\n  //@Editable('UserSettings', { type: FormFieldType.toggle, flex: 100, suppressExport: true, filterable: false, sortable: false })\n  allowPhotoEdit: boolean;\n\n  //@Editable('UserSettings', { type: FormFieldType.toggle, flex: 100, suppressExport: true, filterable: false, sortable: false })\n  disablePhotoOrientationAutoFix: boolean;\n\n  //@Editable('UserSettings', { type: FormFieldType.toggle, flex: 100, header: 'SERVICES', suppressExport: true, filterable: false, sortable: false })\n  orderServicesByDate: boolean;\n\n  //@Editable('UserSettings', { type: FormFieldType.toggle, header: 'MISSIONS', flex: 100, suppressExport: true, filterable: false, sortable: false })\n  goToBasket: boolean;\n\n  // @Editable('UserSettings', {\n  //   type: FormFieldType.range,\n  //   header: 'FILTERS',\n  //   min: 1,\n  //   max: 400,\n  //   suppressExport: true,\n  //   filterableAdvanced: true\n  // })\n  radius: any;\n\n  // @Editable('UserSettings', { type: FormFieldType.autocomplete, values: momentTimeZone.tz.names() })\n  timezone: any;\n\n  // @Editable('UserSettings', { type: FormFieldType.selectbuttons, flex: 100, suppressExport: true, filterable: false, sortable: false, values: ['YES', 'NO'] })\n  // test;\n}\n\n@Model({ className: 'SimpleUser' })\nexport class SimpleUser extends ISimpleUser {\n  // export class SimpleUser implements IEntity {\n  @Editable('SimpleUser', { type: FormFieldType.text, visible: false })\n  _id?: string;\n\n  @Editable('SimpleUser', {\n    visible: true,\n    type: FormFieldType.photo,\n    filterable: false,\n    title: 'PHOTO',\n    columnDefinition: { width: 52 }\n  })\n  imageData: string;\n\n  @Editable('SimpleUser', { required: true, type: FormFieldType.email })\n  @Searchable('SimpleUser')\n  username: string;\n\n  @Editable('SimpleUser', { visible: true, required: true, type: FormFieldType.email })\n  @Searchable('SimpleUser')\n  email: string;\n\n  @Editable('SimpleUser', {\n    required: true,\n    type: FormFieldType.password,\n    condition: conditions.isCreate,\n    filterable: false,\n    sortable: false\n  })\n  password: string;\n}\n","import { Editable } from '../../decorators/editable/editable.decorator';\nimport { Searchable } from '../../decorators/searchable/searchable.decorator';\nimport { FormFieldType, INotification } from '@shared/stencil';\nimport { Model } from '../../decorators/model/model.decorator';\nimport { User } from '../user/user.interface';\n\n@Model({\n  className: 'Notification',\n  collectionName: 'notifications',\n  fields: ['*', 'sender._id', 'sender.firstName', 'sender.lastName', 'sender.username', 'sender.imageData', 'sender.email', 'sender.telephone'],\n  include: ['sender'], //'creator'\n  icon: 'yo-activity'\n})\nexport class Notification extends INotification {\n  @Editable('Notification', {\n    type: FormFieldType.autocomplete,\n    translate: true,\n    values: ['email', 'notification', 'allnotification'],\n    required: true,\n    filterable: true\n  })\n  mode: 'email' | 'notification' | 'allnotification';\n\n  @Editable('Notification', { type: FormFieldType.text, required: true })\n  @Searchable('Notification')\n  title: string;\n\n  @Editable('Notification', { type: FormFieldType.textarea, required: true })\n  body?: string;\n\n  @Editable('Notification', {\n    type: FormFieldType.datetime,\n    minDate: new Date(),\n    condition: 'mode!=\"sms\"'\n  })\n  scheduledDate?: Date;\n\n  //@Editable('Notification', { type: FormFieldType.autocomplete, values: ['com.ipelia.yoobicv3', 'com.kering.yoobic', 'com.ipelia.yooask'], condition: ROLES_CONDITIONS.isAdmin, clearable: true, translate: true, multiple: true, advanced: true })\n  apps?: Array<string>;\n\n  @Editable('Notification', {\n    type: FormFieldType.autocomplete,\n    collectionName: 'user',\n    icon: 'yo-user',\n    columnDefinition: { name: 'username' },\n    exportOrder: 24,\n    title: 'SENDBY',\n    filterable: true\n  })\n  sender?: User;\n  senderRef?: string;\n}\n","import { Injectable } from '@angular/core';\n\nimport { User } from '../../interfaces/user/user.interface';\nimport { Notification } from '../../interfaces/notification/notification.interface';\nimport { NotificationEvent } from '../../interfaces/notification-event/notification-event.interface';\nimport { Config } from '../config/config.service';\nimport { Requestor } from '../requestor/requestor.service';\n\nimport { Subscription, Observable, Subject, of } from 'rxjs';\n\nimport { Colors, CoreConfig, Log } from '@shared/common';\n\nimport { toDate } from '@shared/stencil';\n\nimport { OneSignal } from '@ionic-native/onesignal/ngx';\nimport { Push as PushNative } from '@ionic-native/push/ngx';\n\nexport * from '../../interfaces/notification/notification.interface';\n\nimport { pick, uniq, compact, union, without, isArray, uniqBy, filter, map, merge, isEmpty, get } from 'lodash-es';\n\n@Injectable()\nexport class Push {\n  private push: any;\n  private tags: Array<string> = ['username', 'language', 'isTeam'];\n  private _notificationReceived = new Subject<NotificationEvent>();\n  private _parentSubscription: Subscription;\n  private currentOneSignalId: string;\n  private registered: boolean = false;\n  private _oneSignalPlayerIdChange = new Subject<string>();\n\n  constructor(private coreConfig: CoreConfig, private log: Log, private config: Config, private rq: Requestor, private oneSignal: OneSignal, private pushNative: PushNative) {}\n\n  get oneSignalPlayerIdChange$(): Observable<string> {\n    return this._oneSignalPlayerIdChange.asObservable();\n  }\n\n  get notificationReceived$(): Observable<NotificationEvent> {\n    return this._notificationReceived.asObservable();\n  }\n\n  registerOneSignal(user: User) {\n    if (this.registered === true) {\n      //|| this.coreConfig.getAppId() === 'uk.co.boots.yoobicoperations'\n      return Promise.resolve(user);\n    }\n    this.registered = true;\n    let onesignalAppId = this.coreConfig.getKey('onesignalAppId');\n    this._parentSubscription = new Subscription();\n    if (this.coreConfig.isCordova()) {\n      //OneSignal.setLogLevel({ logLevel: 4, visualLevel: 4 });\n      this.oneSignal.startInit(onesignalAppId, this.coreConfig.getKey('googleProjectNumber'));\n      this.oneSignal.inFocusDisplaying(this.oneSignal.OSInFocusDisplayOption.None);\n      this._parentSubscription.add(this.oneSignal.handleNotificationReceived().subscribe(notif => this.onNotificationReceived(notif)));\n      this._parentSubscription.add(this.oneSignal.handleNotificationOpened().subscribe(notif => this.onNotificationOpened(notif)));\n      this.oneSignal.endInit();\n\n      return this.oneSignal.getIds().then(\n        retVal => {\n          this.oneSignal.setSubscription(true);\n          this.oneSignal.sendTags(pick(user, this.tags));\n          if (retVal && retVal.userId) {\n            this.currentOneSignalId = retVal.userId;\n            this.updateUserOneSignalIds(user, this.currentOneSignalId);\n            if (user.email) {\n              this.oneSignal.syncHashedEmail(user.email);\n            }\n            if (retVal.pushToken) {\n              this.addToken(user, retVal.pushToken);\n            }\n          }\n          this._oneSignalPlayerIdChange.next(retVal.userId);\n          return user;\n        },\n        err => {\n          this.log.forceLog(err);\n          return user;\n        }\n      );\n    } else if (this.coreConfig.isWeb() && window.OneSignal) {\n      return new Promise((resolve, reject) => {\n        if (!window.OneSignal.isPushNotificationsSupported() || location.hostname === 'localhost') {\n          return resolve(user);\n        }\n        window.OneSignal.push([\n          'init',\n          {\n            appId: onesignalAppId,\n            autoRegister: true,\n            notifyButton: { enable: false },\n            safari_web_id: this.coreConfig.getKey('onesignalSafariWebId')\n          }\n        ]);\n        window.OneSignal.push(() => {\n          window.OneSignal.sendTags(pick(user, this.tags));\n          window.OneSignal.on('notificationDisplay', ev => {\n            this.onNotificationReceived(ev);\n          });\n\n          window.OneSignal.getUserId().then(userId => {\n            this.currentOneSignalId = userId;\n            this.updateUserOneSignalIds(user, this.currentOneSignalId);\n            resolve(user);\n          });\n        });\n      });\n    } else {\n      return Promise.resolve(user);\n    }\n  }\n\n  updateUserOneSignalIds(user, oneSignalId) {\n    if (user) {\n      user.oneSignalId = uniq(compact(union([].concat(user.oneSignalId), [oneSignalId])));\n\n      user.oneSignalAppIds = user.oneSignalAppIds || {};\n      let bundleId = this.coreConfig.getAppId().replace(/\\./g, '_');\n      user.oneSignalAppIds[bundleId] = uniq(compact(union([].concat(user.oneSignalAppIds[bundleId]), [oneSignalId])));\n    }\n  }\n\n  onNotificationReceived(notif: any) {\n    this._notificationReceived.next({ type: 'received', notification: notif });\n  }\n\n  onNotificationOpened(notif: any) {\n    this._notificationReceived.next({\n      type: 'opened',\n      action: notif.action,\n      notification: notif.notification\n    });\n  }\n\n  unregisterOneSignal(user: User) {\n    if (this.coreConfig.isCordova()) {\n      this.oneSignal.setSubscription(false);\n      if (this._parentSubscription) {\n        this._parentSubscription.unsubscribe();\n        this._parentSubscription = null;\n      }\n      user.oneSignalId = without(user.oneSignalId, this.currentOneSignalId);\n      user.oneSignalAppIds = user.oneSignalAppIds || {};\n      let bundleId = this.coreConfig.getAppId().replace(/\\./g, '_');\n      user.oneSignalAppIds[bundleId] = without(user.oneSignalAppIds[bundleId], this.currentOneSignalId);\n      this.registered = false;\n    }\n  }\n\n  addToken(user: User, token: string) {\n    let platform = this.coreConfig.isIOS() ? 'ios' : 'android';\n    if (!user._messaging || !isArray(user._messaging.pushTokens)) {\n      user._messaging = { pushTokens: [] };\n    }\n    user._messaging.pushTokens.push({ token: token, platform: platform });\n    user._messaging.pushTokens = uniqBy(user._messaging.pushTokens, push => push.token);\n    delete (<any>user).messaging;\n  }\n\n  removeToken(user: User, token: string) {\n    if (user._messaging && isArray(user._messaging.pushTokens)) {\n      user._messaging.pushTokens = filter(user._messaging.pushTokens, push => push.token !== token);\n    }\n  }\n\n  getUserTokens(user: User, platform: string) {\n    let tokens = [];\n    if (user._messaging && user._messaging.pushTokens) {\n      tokens = union(map(filter(user._messaging.pushTokens, push => push.platform === platform), 'token'));\n    }\n    return tokens;\n  }\n\n  notifyGroups(groups: string | Array<string>, notification: Notification) {\n    groups = [].concat(groups);\n    if (groups && groups.length > 0) {\n      notification.group = groups;\n      //notification.userQuery = { where: { '_acl.groups.r': { inq: groups } } };\n      return this.notify(notification);\n    } else {\n      return of(null);\n    }\n  }\n\n  notifyUsers(users: Array<User>, notification: Notification) {\n    if (users && users.length > 0) {\n      return this.notify(notification, true, users.map(u => u._id));\n    } else {\n      return of(null);\n    }\n  }\n\n  notifyUserById(userId: string, notification: Notification) {\n    if (userId) {\n      return this.notify(notification, true, [userId]);\n    } else {\n      return of(null);\n    }\n  }\n\n  notifyUsersById(userIds: Array<string>, notification: Notification) {\n    if (userIds && userIds.length > 0) {\n      return this.notify(notification, true, userIds);\n    } else {\n      return of(null);\n    }\n  }\n\n  notifyUsersByQuery(userQuery: any, notification: Notification) {\n    if (!isEmpty(userQuery) && (!isEmpty(userQuery.where) || !isEmpty(userQuery.subQuery.where))) {\n      //notification.userQuery = { where: { _id: { inq: userIds } } };\n      notification.userQuery = userQuery;\n      notification._tenantRef = notification._tenantRef || get(userQuery, ['where', '_tenantRef']) || get(userQuery, ['subQuery', 'where', '_tenantRef']);\n      return this.notify(notification);\n    } else {\n      return of(null);\n    }\n  }\n\n  notify(notification: Notification, noQuery: boolean = false, userIds?: Array<string>) {\n    if (notification.scheduledDate) {\n      notification.scheduledDate = toDate(notification.scheduledDate);\n    }\n    if (notification.userQuery && notification.userQuery.limit !== undefined) {\n      delete notification.userQuery.limit;\n    }\n    if (notification.userQuery && notification.userQuery.field !== undefined) {\n      delete notification.userQuery.field;\n    }\n    notification.notificationOptions = merge(notification.notificationOptions || {}, {\n      ios_badgeType: 'Increase',\n      ios_badgeCount: 1\n    });\n    if (notification.mode === 'allnotification') {\n      (<any>notification).mode = 'all';\n    }\n    if (noQuery) {\n      let url = this.config.apiUrl + 'notifications/sendTargetedNotification';\n      return this.rq.post(url, { userIds, notification });\n    } else {\n      let url = this.config.apiUrl + 'businesslogic/sendNotification';\n      return this.rq.post(url, notification);\n    }\n  }\n\n  //deprecated\n  protected _registerNative(): Promise<string> {\n    if (this.coreConfig.isCordova()) {\n      return new Promise((resolve, reject) => {\n        let promiseFulfilled = false;\n        this.push = this.pushNative.init({\n          android: {\n            senderID: this.coreConfig.getKey('googleProjectNumber'),\n            iconColor: Colors.success,\n            icon: 'notify'\n          },\n          ios: { alert: 'true', badge: 'true', sound: 'false' }\n        });\n        this.push.on('registration').subscribe((data: any) => {\n          promiseFulfilled = true;\n          resolve(data.registrationId);\n        });\n\n        this.push.on('error').subscribe(error => {\n          reject(error);\n        });\n\n        this.push.on('notification').subscribe((data: any) => {});\n        //sometimes on ios if the push are not enable it will not send an error, so we check after 10 sec\n        setTimeout(() => {\n          if (!promiseFulfilled) {\n            reject('timeout');\n          }\n        }, 10000);\n      });\n    } else {\n      return <any>Promise.reject('not cordova');\n    }\n  }\n}\n","import { Injectable, EventEmitter } from '@angular/core';\nimport { Broker } from '../broker/broker.service';\nimport { Requestor } from '../requestor/requestor.service';\nimport { Session } from '../session/session.service';\nimport { Push } from '../push/push.service';\nimport { Config } from '../config/config.service';\nimport { User } from '../../interfaces/user/user.interface';\n\nimport { Observable, Subject, throwError, of } from 'rxjs';\nimport { map, catchError, mergeMap, flatMap } from 'rxjs/operators';\nimport { JwtHelperService } from '@auth0/angular-jwt';\nimport { Network, LocalStorage, LocalForageService, CoreConfig } from '@shared/common';\nimport { isPresent, ITenant, IPublicApiToken } from '@shared/stencil';\nimport { assign, some, map as _map, every, pick } from 'lodash-es';\n\n@Injectable()\nexport class Authentication {\n  protected static roleAdmin = 'admin';\n  protected static roleTeam = 'team';\n  protected static roleTrial = 'trial';\n  protected static roleDashboard = 'dashboard';\n  protected static roleManager = 'manager';\n  protected static roleMissionViewer = 'missionviewer';\n\n  public login$ = new Subject<string>();\n  public logout$ = new Subject<string>();\n  public profileUpdated$: EventEmitter<any>;\n\n  constructor(protected rq: Requestor, protected push: Push, protected config: Config, protected broker: Broker, protected network: Network, protected localStorage: LocalStorage, protected localForage: LocalForageService, protected session: Session, protected coreConfig: CoreConfig) {\n    this.profileUpdated$ = new EventEmitter<any>();\n  }\n\n  login(username: string, password: string, roles?: Array<string>): Observable<any> {\n    let url = this.broker.getServerUrl() + 'auth/login';\n    return this.rq.post(url, { username, password, roles }).pipe(\n      map(res => {\n        this.afterLogin(res);\n        return res;\n      }),\n      catchError(res => {\n        this.session.token = null;\n        let err;\n        if (res && res.json) {\n          err = res.json().error;\n        } else if (res && res.error && res.error.error) {\n          err = res.error.error;\n        } else if (res.name) {\n          err = { message: res.name.toUpperCase() };\n        } else {\n          err = { message: 'REQUESTERROR' };\n        }\n        return throwError(err);\n      })\n    );\n  }\n\n  loginSocial(accessToken: string, provider = 'facebook') {\n    let url = this.broker.getServerUrl() + 'auth/' + provider;\n    return this.rq.post(url, { accessToken }).pipe(\n      map(res => {\n        this.afterLogin(res);\n        return res;\n      }),\n      catchError(res => {\n        this.session.token = null;\n        return throwError(res.json().error);\n      })\n    );\n  }\n\n  getLoginAdvancedUrl(tenant: string, method: string, host: string) {\n    let url = this.broker.getServerUrl() + 'auth/' + tenant.toLowerCase() + '/' + method + '/login?host=' + host + '&tokenLocation=' + (this.coreConfig.isCordova() ? 'query' : 'fragment');\n    return url;\n  }\n\n  getTenantAdvancedLoginMethods(tenant: string) {\n    let url = this.broker.getServerUrl() + 'auth/' + tenant.toLowerCase() + '/providers';\n    return this.rq.get(url);\n  }\n\n  getTenantFromToken(token): { _tenantRef?: string; _tenantName?: string; sub?: string } {\n    let jwtHelper: JwtHelperService = new JwtHelperService({});\n    return jwtHelper.decodeToken(token) || {};\n  }\n\n  afterLogin(res) {\n    this.session.token = res.$mcfly$token;\n    this.session.userId = res.userId;\n    this.session.user = res.user;\n    this.session.tenant = res.tenant;\n    this.login$.next('');\n    this.cleanUpLocalStorage();\n    return res;\n  }\n\n  cleanUpLocalStorage() {\n    let keys = ['stats.kpiFilterFormData', 'stats.selectedDescription', 'stats.selectedDashboard', 'stats.customSelectedDashboard'];\n    keys.forEach(key => {\n      this.localStorage.remove(key);\n    });\n  }\n\n  getCurrentSession(): Observable<Session> {\n    if (this.network.isOffline()) {\n      return of(null);\n    }\n    return this.rq.get(this.broker.getApiUrl() + 'businesslogic/getCurrentSession').pipe(\n      map((res: any) => {\n        assign(this.session, res.data);\n        this.session.hasScandit = this.coreConfig.isCordova() ? this.hasRoles(['scandit']) : this.hasRoles(['scandit', 'admin']);\n        return <any>this.session;\n      }),\n      catchError(() => {\n        return of(null);\n      })\n    );\n  }\n\n  doLogout() {\n    let url = this.broker.getApiUrl() + 'user/logout';\n    return this.rq.post(url, {});\n  }\n\n  logout() {\n    let promise = Promise.resolve(null);\n    if (this.config.isTestpen) {\n      if (this.localStorage) {\n        this.localStorage.clear();\n      }\n      if (this.localForage) {\n        this.localForage.clear();\n      }\n    }\n    if (this.session && this.session.user && this.session.user._id) {\n      this.push.unregisterOneSignal(this.session.user);\n      promise = this.updateProfile(this.session.user).toPromise();\n    }\n    this.logout$.next('');\n    return promise.then(() => this.afterLogout(), () => this.afterLogout());\n  }\n\n  afterLogout() {\n    this.doLogout().subscribe(() => {}, () => {});\n    this.network.forceOffline(false, false);\n    this.session.clear().catch(() => {});\n    return Promise.resolve();\n  }\n\n  signup(email: string, imageData: any, password: string) {\n    let user = <any>{ username: email, email, password, imageData };\n    let url = this.broker.getApiUrl() + 'user/signup';\n    return this.rq.post(url, { user }).pipe(\n      mergeMap(() => {\n        return this.login(email, password);\n      })\n    );\n  }\n\n  inviteUsers(users: Array<{ email: string; roles: Array<string>; locationRef?: string }>, groups: Array<string>, password: string = null, sendPassword: boolean = true, appName?: string, appleStoreUrl?: string, playStoreUrl?: string, _tenantRef?: string): Observable<any> {\n    let url = this.broker.getApiUrl() + 'user/invite';\n    let finalPlayStoreUrl = playStoreUrl + this.coreConfig.getAppId();\n    return this.rq.post(url, {\n      users,\n      groups,\n      password,\n      sendPassword,\n      appName,\n      appleStoreUrl,\n      playStoreUrl: finalPlayStoreUrl,\n      _tenantRef\n    });\n  }\n\n  isLoggedIn() {\n    return this.session.token && this.session.token.length > 0 && !this.isTokenExpired(this.session.token);\n  }\n\n  hasRole(role: string) {\n    return this.session.roles && this.session.roles.indexOf(role) >= 0;\n  }\n\n  hasRoles(roles: Array<string>) {\n    return some(_map(roles, role => this.hasRole(role)), t => t === true);\n  }\n\n  hasAllRoles(roles: Array<string>) {\n    return every(roles, role => this.hasRole(role));\n  }\n\n  hasGroup(group: string) {\n    return this.session.groups && this.session.groups.indexOf(group) >= 0;\n  }\n\n  hasGroups(groups: Array<string>) {\n    return some(_map(groups, group => this.hasGroup(group)), t => t === true);\n  }\n\n  hasAllGroups(groups: Array<string>) {\n    return every(groups, group => this.hasGroup(group));\n  }\n\n  isAdmin(checkSmartin: boolean = false) {\n    let retVal = this.hasRole(Authentication.roleAdmin);\n    if (checkSmartin && this.session.user.username !== 'smartin@yoobic.com') {\n      retVal = false;\n    }\n    return retVal;\n  }\n\n  isTrial() {\n    return !this.hasRole(Authentication.roleAdmin) && this.hasRole(Authentication.roleTrial);\n  }\n\n  isDashboard() {\n    return this.hasRole(Authentication.roleDashboard) && !this.isAdmin() && !this.hasRole(Authentication.roleMissionViewer) && !this.hasRole(Authentication.roleManager);\n  }\n\n  isTeam() {\n    return this.hasRole(Authentication.roleTeam);\n  }\n\n  isCrowd() {\n    return !this.hasRole(Authentication.roleTeam);\n  }\n\n  isStore() {\n    return this.session.user && isPresent(this.session.user.locationRef);\n  }\n\n  isStoreManager() {\n    return this.hasRole('store') && this.session.user && this.session.user.locationRef;\n  }\n\n  isRoleAdmin() {\n    return this.getCurrentUser() && this.getCurrentUser().role === 'ROLEADMIN';\n  }\n\n  isRoleEditor() {\n    return this.getCurrentUser() && this.getCurrentUser().role === 'ROLEEDITOR';\n  }\n\n  isRoleViewer() {\n    return this.getCurrentUser() && this.getCurrentUser().role === 'ROLEVIEWER';\n  }\n\n  isRoleManager() {\n    return this.getCurrentUser() && this.getCurrentUser().role === 'ROLEMANAGER';\n  }\n\n  isRoleField() {\n    return this.getCurrentUser() && this.getCurrentUser().role === 'ROLEFIELD';\n  }\n\n  isRoleStoreManager() {\n    return this.getCurrentUser() && this.getCurrentUser().role === 'ROLESTOREMANAGER';\n  }\n\n  isRoleStore() {\n    return this.getCurrentUser() && this.getCurrentUser().role === 'ROLESTORE';\n  }\n\n  hasAccessToOperations() {\n    return this.hasRole('team');\n  }\n\n  hasAccessToBoost() {\n    return this.hasRole('academy');\n  }\n\n  getCurrentUser(): User {\n    return this.session.user;\n  }\n\n  passwordChange(oldPassword: string, newPassword: string) {\n    return this.rq.post(this.broker.getApiUrl() + 'user/changePassword', {\n      oldPassword,\n      newPassword\n    });\n  }\n\n  passwordReset(email, isMagicLink: boolean = false, urlPrefix: string = 'https://yoobic.app.link/') {\n    if (isMagicLink) {\n      return this.rq.post(this.broker.getApiUrl() + 'user/getMagicLink', {\n        username: email,\n        urlPrefix\n      });\n    } else {\n      return this.rq.post(this.broker.getApiUrl() + 'user/reset', { email: email });\n    }\n  }\n\n  passwordResetConfirm(token: string, password: string, host?: string) {\n    let url = host ? 'https://' + host + '/api/' : this.broker.getApiUrl();\n    return this.rq.post(url + 'Endpoints/resetPassword', { password: password }, token, null, true);\n  }\n\n  passwordResetAdmin(user: any, password: string, dontSendMail = false) {\n    return this.rq.post(this.broker.getApiUrl() + 'AdminDashboard/resetPassword', {\n      options: {\n        userPasswordList: [user].map((u: any) => ({\n          username: u.username,\n          _id: u._id,\n          password: password\n        })),\n        dontSendMail: dontSendMail\n      }\n    });\n  }\n\n  impersonate(username: string) {\n    return this.rq.post(this.broker.getApiUrl() + 'AdminDashboard/impersonate', {\n      username\n    });\n  }\n\n  forceLogout(username: string) {\n    return this.rq.post(this.broker.getApiUrl() + 'AdminDashboard/forceLogout', {\n      username\n    });\n  }\n\n  generatePassword() {\n    let length = 8;\n    let charset = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n    let retVal = '';\n    for (let i = 0, n = charset.length; i < length; ++i) {\n      retVal += charset.charAt(Math.floor(Math.random() * n));\n    }\n    return retVal;\n  }\n\n  updateProfile(user?: any, skipAcl = false, fields: Array<string> = []) {\n    let userToUpdate: any = user || this.getCurrentUser();\n    if (userToUpdate) {\n      if (!this.isAdmin() && !skipAcl) {\n        this.broker.setAcl(userToUpdate, this.session.groups);\n      }\n      if (fields && fields.length > 0) {\n        userToUpdate = <any>pick(userToUpdate, fields);\n        if (fields.indexOf('_acl') < 0) {\n          skipAcl = true;\n        }\n      }\n      return this.broker.upsert('user', userToUpdate, null, skipAcl).pipe(\n        flatMap(retVal => {\n          return this.broker.getById('user', retVal._id).pipe(\n            map(updatedUser => {\n              this.session.user = updatedUser;\n              return updatedUser;\n            })\n          );\n        })\n      );\n    } else {\n      return of(null);\n    }\n  }\n\n  isTokenExpired(token: string) {\n    let jwtHelper: JwtHelperService = new JwtHelperService({});\n    try {\n      return jwtHelper.isTokenExpired(token);\n    } catch (err) {\n      return true;\n    }\n  }\n\n  setToken(token: string, userId: string) {\n    this.session.token = token;\n    this.session.userId = userId;\n    return this.broker.getById('user', userId).pipe(\n      map((retVal: any) => {\n        this.session.user = retVal;\n        this.profileUpdated$.emit(retVal);\n        return retVal;\n      })\n    );\n  }\n\n  createPublicApiToken(tenant: ITenant) {\n    let url = this.broker.getApiUrl() + 'AdminDashboard/generateServiceAccount';\n\n    return this.rq.post(url, {\n      tenantId: tenant._id\n    });\n  }\n\n  invalidatePublicApiToken(token: IPublicApiToken) {\n    let url = this.broker.getApiUrl() + 'publicAPITokens/' + token._id + '/invalidate';\n    return this.rq.post(url, {});\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, CanDeactivate, RouterStateSnapshot, ActivatedRouteSnapshot } from '@angular/router';\nimport { Authentication } from './authentication.service';\nimport { Requestor } from '../requestor/requestor.service';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class AuthenticationGuard implements CanActivate {\n  constructor(private authentication: Authentication) {}\n\n  canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    let retVal = false;\n    if (this.authentication.isLoggedIn()) {\n      if (next.data && next.data['roles']) {\n        retVal = this.authentication.hasRoles(next.data['roles']) || this.authentication.isAdmin();\n      } else {\n        retVal = true;\n      }\n      if (next.data && next.data['excludedRoles'] && !this.authentication.isAdmin()) {\n        retVal = retVal && !this.authentication.hasRoles(next.data['excludedRoles']);\n      }\n    } else {\n      Requestor.unauthorizedEmitter.emit('not logged in');\n    }\n    return retVal;\n  }\n}\n\nexport interface CanComponentDeactivate {\n  canDeactivate: (component: CanComponentDeactivate, route: ActivatedRouteSnapshot, state: RouterStateSnapshot) => boolean | Observable<boolean>;\n}\n\n@Injectable()\nexport class CanDeactivateGuard implements CanDeactivate<CanComponentDeactivate> {\n  canDeactivate(component: CanComponentDeactivate, route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> | boolean {\n    return component && component.canDeactivate ? component.canDeactivate(component, route, state) : true;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Requestor } from '../requestor/requestor.service';\nimport { Config } from '../config/config.service';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { toDate, dateParse, dateFormat, fromNow } from '@shared/stencil';\n\n@Injectable()\nexport class BackupService {\n  private get apiUrl() {\n    return this.config.apiUrl + 'AdminDashboard/';\n  }\n\n  constructor(protected rq: Requestor, protected config: Config) {}\n\n  getAll(date?: Date) {\n    let url = this.apiUrl + 'listBackup';\n    return this.rq\n      .post(url, {\n        clusterName: 'rs-ds039424',\n        date: toDate(date || new Date()).toISOString()\n      })\n      .pipe(\n        map((res: Array<string>) => {\n          if (res && res.map) {\n            res = res\n              .map((name: string) => {\n                let backup: any = { _id: name };\n                let lastIndex = name.lastIndexOf('_');\n                let dateStr = name.substr(lastIndex + 1).replace('.tgz', '');\n                backup.title = fromNow(dateParse(dateStr, 'YYYY-MM-DDTHHmmss.sssZ'));\n                backup.badge = dateFormat(dateParse(dateStr, 'YYYY-MM-DDTHHmmss.sssZ'), 'L LT');\n                backup.description = name;\n                return backup;\n              })\n              .reverse();\n          }\n          return res;\n        })\n      );\n  }\n\n  restore(backupName: string, collections?: Array<string>): Observable<any> {\n    let url = this.apiUrl + 'restoreBackup ';\n    return this.rq.post(url, {\n      s3Key: backupName,\n      collections\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CoreConfig } from '@shared/common';\nimport { Translate } from '@shared/translate';\n\nimport { Config } from '../config/config.service';\nimport { Requestor } from '../requestor/requestor.service';\n\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { isString } from 'lodash-es';\n\n@Injectable()\nexport class Blog {\n  constructor(protected coreConfig: CoreConfig, protected config: Config, protected rq: Requestor, protected translate: Translate) {}\n\n  getUrl() {\n    let url: string;\n    if (this.coreConfig.getAppName() === 'operations') {\n      if (this.translate.getCurrentLanguage() === 'fr') {\n        if (this.coreConfig.isIonic()) {\n          url = 'https://yoobic.blogin.co/rss.xml?mt=521fe7a42642c458e2403084bad1f468504f2da6&c=20417&public_link=true';\n        } else {\n          url = 'https://yoobic.blogin.co/rss.xml?mt=521fe7a42642c458e2403084bad1f468504f2da6&c=20415&public_link=true';\n        }\n      } else if (this.translate.getCurrentLanguage() === 'it') {\n        if (this.coreConfig.isIonic()) {\n          url = 'https://yoobic.blogin.co/rss.xml?mt=521fe7a42642c458e2403084bad1f468504f2da6&c=21144&public_link=true';\n        } else {\n          url = 'https://yoobic.blogin.co/rss.xml?mt=521fe7a42642c458e2403084bad1f468504f2da6&c=21143&public_link=true';\n        }\n      } else {\n        if (this.coreConfig.isIonic()) {\n          url = 'https://yoobic.blogin.co/rss.xml?mt=521fe7a42642c458e2403084bad1f468504f2da6&c=20416&public_link=true';\n        } else {\n          url = 'https://yoobic.blogin.co/rss.xml?mt=521fe7a42642c458e2403084bad1f468504f2da6&c=20414&public_link=true';\n        }\n      }\n    } else if (this.coreConfig.getAppName() === 'boost') {\n      if (this.translate.getCurrentLanguage() === 'fr') {\n        if (this.coreConfig.isIonic()) {\n          url = 'https://yoobic.blogin.co/rss.xml?mt=521fe7a42642c458e2403084bad1f468504f2da6&c=25008&public_link=true';\n        } else {\n          url = 'https://yoobic.blogin.co/rss.xml?mt=521fe7a42642c458e2403084bad1f468504f2da6&c=25006&public_link=true';\n        }\n      } else if (this.translate.getCurrentLanguage() === 'it') {\n        if (this.coreConfig.isIonic()) {\n          url = 'https://yoobic.blogin.co/rss.xml?mt=521fe7a42642c458e2403084bad1f468504f2da6&c=25009&public_link=true';\n        } else {\n          url = 'https://yoobic.blogin.co/rss.xml?mt=521fe7a42642c458e2403084bad1f468504f2da6&c=25010&public_link=true';\n        }\n      } else {\n        if (this.coreConfig.isIonic()) {\n          url = 'https://yoobic.blogin.co/rss.xml?mt=521fe7a42642c458e2403084bad1f468504f2da6&c=25007&public_link=true';\n        } else {\n          url = 'https://yoobic.blogin.co/rss.xml?mt=521fe7a42642c458e2403084bad1f468504f2da6&c=25005&public_link=true';\n        }\n      }\n    }\n    return url;\n  }\n\n  get(blogUrl: string, limit?: number, skip?: number): Observable<any> {\n    let url = this.config.apiUrl + 'businesslogic/getBlog';\n    return this.rq.post(url, { url: blogUrl, limit, skip }).pipe(\n      map(retVal => {\n        let items = [];\n        if (retVal && retVal.rss && retVal.rss.channel && retVal.rss.channel.item && retVal.rss.channel.item.length > 0) {\n          items = [].concat(retVal.rss.channel.item);\n        }\n        items.forEach(b => {\n          try {\n            if (b && b.enclosure && b.enclosure.$ && b.enclosure.$.url) {\n              b.background = b.enclosure.$.url;\n            } else {\n              let content = b['content:encoded'];\n              let re = /<img[^>]+src=\"?([^\"\\s]+)\"?[^>]*\\/>/g;\n              let results = re.exec(content);\n              if (results) {\n                b.background = results[1];\n              }\n            }\n            if (b.pubDate && isString(b.pubDate)) {\n              b.pubDate = new Date(b.pubDate);\n            }\n            if (b.background) {\n              b.background = b.background.replace('blog.yoobic.com', 'yoobic.blogin.co');\n            }\n          } catch (err) {}\n        });\n        return items;\n      })\n    );\n  }\n\n  getLatestArticleDate(blogUrl: string) {\n    let url = this.config.apiUrl + 'businesslogic/getBlog';\n    return this.rq.post(url, { url: blogUrl, limit: 1 }).pipe(\n      map(retVal => {\n        let items = [];\n        if (retVal && retVal.rss && retVal.rss.channel && retVal.rss.channel.item && retVal.rss.channel.item.length > 0) {\n          items = [].concat(retVal.rss.channel.item);\n        }\n        if (items && items.length > 0 && items[0]) {\n          return items[0].pubDate;\n        }\n        return null;\n      })\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Authentication } from './authentication.service';\nimport { Session } from '../session/session.service';\n\nimport { Network } from '@shared/common';\nimport { Observable, of } from 'rxjs';\n\nimport { ActivatedRouteSnapshot, RouterStateSnapshot, Resolve } from '@angular/router';\n\n@Injectable()\nexport class CurrentSessionResolver implements Resolve<any> {\n  constructor(private authentication: Authentication, private network: Network) {}\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<Session> {\n    if (this.network.isOffline()) {\n      return of(null);\n    }\n    return this.authentication.getCurrentSession();\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Filters, SubQuery, IFormField, dateFormat, getUUID, FormFieldType } from '@shared/stencil';\nimport { Translate } from '@shared/translate';\n\nimport { ChartDefinition } from '../../interfaces/chart-definition/chart-definition.interface';\nimport { Dashboard as IDashboard } from '../../interfaces/dashboard/dashboard.interface';\nimport { User } from '../../interfaces/user/user.interface';\nimport { MissionDescription } from '../../interfaces/mission-description/mission-description.interface';\nimport { ResponseObject } from '../../interfaces/response-object/response-object.interface';\n\nimport { Broker } from '../broker/broker.service';\nimport { Session } from '../session/session.service';\n\nimport { cloneDeep, map } from 'lodash-es';\nimport { Observable } from 'rxjs';\nimport { mergeMap } from 'rxjs/operators';\n\n@Injectable()\nexport class Dashboard {\n  constructor(protected broker: Broker, protected translate: Translate, protected session: Session) {}\n\n  publish(dashboard: IDashboard, users: Array<User>) {\n    let dashboards = users\n      .filter(u => u._id !== this.session.user._id)\n      .map(user => {\n        let dashboardCopy = cloneDeep(dashboard);\n        // dashboardCopy.title += ' - ' + moment().format('L');\n        dashboardCopy.originalRef = dashboard._id;\n        delete dashboardCopy._id;\n\n        dashboardCopy._acl = user._acl;\n        this.broker.setAcl(dashboardCopy, null, null, null, [user._id]);\n        //dashboardCopy._acl.users = { r: [user._id], w: [user._id] };\n        dashboardCopy.creatorRef = user._id;\n        //dashboardCopy._acl.creator = user._id;\n        return dashboardCopy;\n      });\n\n    return this.broker\n      .deleteAll('dashboards', {\n        where: { originalRef: { inq: [dashboard._id] }, creatorRef: { inq: map(users, '_id') } }\n      })\n      .pipe(\n        mergeMap(() => {\n          return this.broker.upsertAll('dashboards', dashboards);\n        })\n      );\n  }\n\n  deletePublished(dashboard: IDashboard) {\n    return this.broker.deleteAll('dashboards', {\n      where: { originalRef: { inq: [dashboard._id] } }\n    });\n  }\n\n  updatePublished(dashboard: IDashboard) {\n    return this.broker.getAll('dashboards', ['_id', '_acl', '_ect', '_lmt'], null, null, [[{ field: 'originalRef', operator: { _id: 'inq' }, value: [dashboard._id] }]], null, 0, -1).pipe(\n      mergeMap(response => {\n        let dashboards: Array<IDashboard> = response.data;\n        dashboards.forEach(d => {\n          d.title = dashboard.title + ' - ' + dateFormat(new Date(), 'L');\n          d.description = dashboard.description;\n          d.tabs = dashboard.tabs;\n        });\n        return this.broker.upsertAll('dashboards', dashboards);\n      })\n    );\n  }\n\n  copy(dashboard: IDashboard, title: string) {\n    let newDashboard = cloneDeep(dashboard);\n    newDashboard.title = title;\n    delete newDashboard._id;\n    if (newDashboard.tabs) {\n      newDashboard.tabs.forEach(t => {\n        if (t.items) {\n          t.items.forEach(c => {\n            c.definition._id = getUUID();\n          });\n        }\n      });\n    }\n    return this.broker.upsert('dashboards', newDashboard);\n  }\n\n  aggregateQuery(collectionName: string, filters?: Filters, options?: Array<any>, excludedFields?: Array<any>, customFilter?: any, subQuery?: SubQuery): Observable<any> {\n    //, aggregateFormDefinition?: Array<IFormField>, aggregateData?: any) { //where ?: Filters, match?: Object, limit?: Number, lookup?: Object, projectBefore?: Object, group?: Object, projectAfter?: Object) {\n    options = options || [];\n    return this.broker.aggregateQuery(collectionName, filters, options, null, excludedFields, false, null, customFilter, subQuery);\n  }\n\n  setTimescale(filters: Filters, timescale: string, dateField = 'finishedDate', endDate?: Date | string, previous: boolean = false) {\n    return this.broker.setTimescale(filters, timescale, dateField, endDate, previous);\n  }\n\n  getChartDefinition(title: string, filters: Array<any> = [[]], collectionName = 'missions', dateGrouping = 'day', groupByDate = true, timeScale = 'last7days') {\n    let definition: ChartDefinition = <any>{\n      title: this.translate.get(title),\n      aggregateOptions: [],\n      timescale: timeScale,\n      collectionName: collectionName,\n      dateGrouping: dateGrouping,\n      filters: filters,\n      groupByDate: groupByDate,\n      palette: 'palette2',\n      showAs: 'chart',\n      type: 'areaspline',\n      datetimeFormat: 'dd'\n    };\n    return definition;\n  }\n\n  getPhotos(missionDescription?: MissionDescription, fields?: Array<IFormField>, start = 0, locationTags?: Array<string>): Observable<ResponseObject> {\n    let filters: Filters = [[]];\n    if (missionDescription && missionDescription._id) {\n      filters[0].push({\n        field: 'missiondescriptionRef',\n        operator: { _id: 'inq' },\n        value: [missionDescription._id]\n      });\n    }\n    if (fields) {\n      fields = [].concat(fields);\n      filters[0].push({\n        field: 'name',\n        operator: { _id: 'inq' },\n        value: fields.map(f => f.name.replace('.value', ''))\n      });\n    }\n    if (locationTags && locationTags.length) {\n      filters[0].push({\n        field: 'tags',\n        collectionName: 'locations',\n        operator: { _id: 'inq' },\n        value: locationTags,\n        type: FormFieldType.autocomplete,\n        subQuery: { field: 'locationRef', values: '_id' }\n      });\n    }\n    return this.broker.getAll('photos', null, null, null, filters, null, start, 10);\n  }\n\n  getFolderFolderStat(folderIds: Array<string>): Observable<Array<{ _id: string; folders: number }>> {\n    let filters = [[{ field: 'parent', operator: { _id: 'inq' }, value: folderIds }]];\n    let options = [\n      {\n        $project: {\n          _id: '$parent'\n        }\n      },\n      {\n        $group: {\n          _id: '$_id',\n          folders: { $sum: 1 }\n        }\n      }\n    ];\n    return this.aggregateQuery('folders', filters, options);\n  }\n\n  getFolderFileStat(folderIds: Array<string>, keepHideMobile = true): Observable<Array<{ _id: string; files: number }>> {\n    let filters: Filters = [[{ field: 'folder', operator: { _id: 'inq' }, value: folderIds }]];\n    if (keepHideMobile === false) {\n      filters[0].push({ field: 'hideMobile', operator: { _id: 'neq' }, value: true });\n    }\n    let options = [\n      {\n        $project: {\n          _id: '$folder'\n        }\n      },\n      {\n        $group: {\n          _id: '$_id',\n          files: { $sum: 1 }\n        }\n      }\n    ];\n    return this.aggregateQuery('files', filters, options);\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Files } from '../files/files.service';\nimport { Broker } from '../broker/broker.service';\nimport { Dashboard } from '../dashboard/dashboard.service';\n\nimport { ResponseObject } from '../../interfaces/response-object/response-object.interface';\nimport { Folder } from '../../interfaces/folder/folder.interface';\n\nimport { Observable, Observer } from 'rxjs';\n\n@Injectable()\nexport class FilesBroker {\n  constructor(private dashboard: Dashboard, private broker: Broker, protected files: Files) {}\n\n  getFilesTransform() {\n    return (res: ResponseObject) => {\n      if (res && res.data && res.data.map) {\n        res.data.forEach(f => this.updateFileIcon(f));\n      }\n      return res;\n    };\n  }\n\n  getFilesFoldersTransformAsync() {\n    return (res: ResponseObject, search, filters, start, pageSize) => {\n      return new Observable<ResponseObject>((observer: Observer<ResponseObject>) => {\n        if (res && res.data && res.data.length > 0) {\n          res.data.forEach(f => {\n            delete f.items;\n            if (f.fftype === 'file') {\n              this.updateFileIcon(f);\n            }\n          });\n          let ids = res.data.filter(f => f.fftype === 'folder').map((folder: Folder) => folder._id);\n          this.dashboard.getFolderFolderStat(ids).subscribe(stats => {\n            res.data.forEach((folder: Folder) => {\n              let stat = stats.find(s => s._id === folder._id);\n              let value = stat ? stat.folders || 0 : 0;\n              folder.stats = [{ title: 'FOLDERS', color: 'dark', value }];\n              (<any>folder).hasChildren = value > 0;\n            });\n            this.dashboard.getFolderFileStat(ids, false).subscribe(fileStats => {\n              res.data.forEach((folder: Folder) => {\n                let stat = fileStats.find(s => s._id === folder._id);\n                folder.stats.push({\n                  title: 'FILES',\n                  color: 'dark',\n                  value: stat ? stat.files || 0 : 0\n                });\n              });\n              observer.next({ count: res.count, data: <any>res.data });\n              observer.complete();\n            });\n          });\n        } else {\n          observer.next({ count: 0, data: [] });\n          observer.complete();\n        }\n      });\n    };\n  }\n\n  cleanupFolder(folderId) {\n    return this.broker.deleteAll('files', { where: { folder: folderId } });\n  }\n\n  updateFileIcon(f) {\n    if (this.files.isImage(f)) {\n      f.imgSrc = f._downloadURL;\n    } else if (this.files.isVideo(f)) {\n      f.imgSrc = this.files.getVideoPoster(f._downloadURL);\n    } else {\n      f.icon = this.files.getIcon(f);\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Translate } from '@shared/translate';\nimport { Requestor } from '../requestor/requestor.service';\n\nimport { Observable, forkJoin, of } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n@Injectable()\nexport class Googletranslate {\n  static get(query: string, source: string, target: string, rq: Requestor): Observable<any> {\n    let sourceLang = this.fixLanguage(source);\n    let targetLang = this.fixLanguage(target);\n    if (sourceLang === targetLang) {\n      return of(query);\n    } else {\n      let url = 'businesslogic/translate';\n      return rq.post(url, { query, sourceLang, targetLang }, null, null, null, null, true).pipe(\n        map(response => {\n          return response || query;\n        })\n      );\n    }\n  }\n\n  static fixLanguage(language: string) {\n    switch (language) {\n      case 'us':\n        return 'en';\n      case 'zhs':\n        return 'zh-CN';\n      case 'zht':\n        return 'zh-TW';\n      case 'ua':\n        return 'uk';\n      case 'kr':\n        return 'ko';\n      case 'cz':\n        return 'cs';\n      case 'gr':\n        return 'el';\n      case 'br':\n        return 'pt';\n      default:\n        return language;\n    }\n  }\n\n  static getAll(query: string, source: string, rq: Requestor) {\n    let observables = Translate.availablesLanguage\n      .filter(l => l !== source)\n      .filter(l => l !== 'key')\n      .map(l => {\n        return this.get(query, source, l, rq).pipe(\n          map(value => ({\n            language: l,\n            value: value || query\n          }))\n        );\n      });\n    return forkJoin(observables);\n  }\n\n  constructor() {}\n}\n","import { Injectable } from '@angular/core';\nimport { HttpEvent, HttpInterceptor, HttpHandler, HttpRequest } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { Config } from '../config/config.service';\nimport { Network, Log } from '@shared/common';\n\n@Injectable()\nexport class HttpCustomInterceptor implements HttpInterceptor {\n  constructor(protected config: Config, protected network: Network, protected log: Log) {}\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    // if (req.url && req.url.indexOf(this.config.serverUrl) >= 0) {\n    //     const authReq = req.clone({ headers: req.headers.set('Yoobic-Client-Version', this.coreConfig.getAppVersion()) });\n    //     return next.handle(authReq);\n    // } else {\n\n    if (this.network.isOffline() && req.url && !req.url.startsWith('./')) {\n      this.log.error(req);\n    }\n    return next.handle(req);\n    //}\n  }\n}\n","/* tslint:disable:variable-name */\nimport { Injectable } from '@angular/core';\nimport { CoreConfig } from '@shared/common';\nimport { ReplaySubject } from 'rxjs';\n\n@Injectable()\nexport class PlatformService {\n  public data$: ReplaySubject<any> = new ReplaySubject<any>(1, 2000);\n\n  constructor(private coreConfig: CoreConfig) {}\n\n  handler(data) {\n    if (data) {\n      this.data$.next(data);\n    }\n  }\n\n  onReadyOrResume(debug = false) {\n    if (this.coreConfig.isCordova() && window.Branch) {\n      window.Branch.setDebug(debug);\n      window.Branch.initSession().then(data => {\n        this.handler(data);\n      });\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { IPosition, Network } from '@shared/common';\nimport { Broker } from '../broker/broker.service';\nimport { Smartloc } from '../smartloc/smartloc.service';\nimport { Requestor } from '../requestor/requestor.service';\nimport { Googlemaps } from '../googlemaps/googlemaps.service';\nimport { Authentication } from '../authentication/authentication.service';\nimport { Config } from '../config/config.service';\nimport { Session } from '../session/session.service';\nimport { Cache } from '../cache/cache.service';\n\nimport { Location } from '../../interfaces/location/location.interface';\nimport { LocationType } from '../../interfaces/location-type/location-type.interface';\nimport { ResponseObject } from '../../interfaces/response-object/response-object.interface';\nimport { CACHE_KEYS } from '../../interfaces/cache/cache.interface';\n\nimport { Filters, SubQuery, IHealthscore, ISort, IKpiData } from '@shared/stencil';\n\nimport { Observable, Observer, from } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { isNumber } from 'lodash-es';\n\n@Injectable()\nexport class Locations {\n  constructor(private geoloc: Smartloc, private broker: Broker, protected rq: Requestor, protected config: Config, protected session: Session, protected network: Network, protected cache: Cache, protected authentication: Authentication, protected googleMaps: Googlemaps) {}\n\n  loadMarkers(position: IPosition, maxPoints = 5000) {\n    position = position || this.geoloc.defaultPosition;\n    let filters = [\n      [\n        {\n          field: '_geoloc',\n          operator: { _id: 'nearSphere' },\n          value: [position.longitude, position.latitude],\n          max: 40000\n        }\n      ]\n    ];\n    return this.broker.getAll('locations', ['_id', 'title', '_geoloc', 'address'], null, null, filters, null, 0, maxPoints).pipe(\n      map(retVal => {\n        return this.getMarkers(retVal.data);\n      })\n    );\n  }\n\n  getMarkers(locations: Array<Location>) {\n    return this.broker.getMarkers(locations);\n  }\n\n  getMarkersData(collectionName: string, maxPoints: number = 5000, fields?: Array<string>, filters?: Filters, subQuery?: SubQuery) {\n    return this.broker.getAll(collectionName, fields || ['_id', 'title', '_geoloc', 'address'], null, null, filters, null, 0, maxPoints, false, subQuery).pipe(\n      map(retVal => {\n        let markers = this.getMarkers(retVal.data);\n        let legendColors = {\n          available: 'energized',\n          booked: 'info',\n          validated: 'success',\n          rejected: 'danger',\n          tobevalidated: 'royal',\n          archived: 'dark'\n        };\n        return { markers, legendColors };\n      })\n    );\n  }\n\n  getLegendColors() {\n    let legendColors = {\n      available: 'energized',\n      booked: 'info',\n      validated: 'success',\n      rejected: 'danger',\n      tobevalidated: 'royal',\n      archived: 'dark'\n    };\n    return legendColors;\n  }\n\n  getLastVisitDate(locationIds: Array<string>, userId?: string): Observable<Array<{ _id: string; finishedDate: Date; count: number }>> {\n    let filters: Filters = [[{ field: 'locationRef', operator: { _id: 'inq' }, value: locationIds }, { field: 'ownerRef', operator: { _id: 'eq' }, value: userId || this.session.userId }, { field: 'status', operator: { _id: 'eq' }, value: 'finished' }]];\n\n    let options = [\n      {\n        $group: {\n          _id: '$locationRef',\n          finishedDate: { $max: '$finishedDate' },\n          count: { $sum: 1 }\n        }\n      }\n    ];\n    return this.broker.aggregateQuery('missions', filters, options, null, null, false, null);\n  }\n\n  getStatsAndDistanceTransformAsync(position?: IPosition) {\n    return (res: ResponseObject) => {\n      return new Observable<ResponseObject>((observer: Observer<ResponseObject>) => {\n        if (res && res.data && res.data.length > 0) {\n          if (position) {\n            res.data = this.calculateDistanceAndKpiData(res, position);\n          }\n          let ids = res.data.map((location: Location) => location._id);\n          this.getLastVisitDate(ids).subscribe(dates => {\n            res.data.forEach((location: Location) => {\n              let date = dates.find(d => d._id === location._id);\n              if (date && date.finishedDate) {\n                location.lastVisit = date.finishedDate;\n                location.countVisits = date.count;\n              }\n              observer.next({ count: res.count, data: <any>res.data });\n              observer.complete();\n            });\n          });\n        } else {\n          observer.next({ count: 0, data: [] });\n          observer.complete();\n        }\n      });\n    };\n  }\n\n  getDistanceTransform() {\n    return this.geoloc.getLocation().then((position: IPosition) => {\n      return (res: ResponseObject) => {\n        return new Observable<ResponseObject>((observer: Observer<ResponseObject>) => {\n          if (res && res.data && res.data.length > 0) {\n            res.data = this.calculateDistanceAndKpiData(res, position);\n            observer.next({ count: res.count, data: <any>res.data });\n            observer.complete();\n          } else {\n            observer.next({ count: 0, data: [] });\n            observer.complete();\n          }\n        });\n      };\n    });\n  }\n\n  getDistanceAndLastVisitTransform(position: IPosition) {\n    return (res: ResponseObject) => {\n      return new Observable<ResponseObject>((observer: Observer<ResponseObject>) => {\n        if (res && res.data && res.data.length > 0) {\n          res.data = this.calculateDistanceAndKpiData(res, position);\n          let ids = res.data.map((location: Location) => location._id);\n          this.getLastVisitDate(ids).subscribe(dates => {\n            res.data.forEach((location: Location) => {\n              let date = dates.find(d => d._id === location._id);\n              if (date && date.finishedDate) {\n                location.lastVisit = date.finishedDate;\n                location.countVisits = date.count;\n              }\n              observer.next({ count: res.count, data: <any>res.data });\n              observer.complete();\n            });\n          });\n        } else {\n          observer.next({ count: 0, data: [] });\n          observer.complete();\n        }\n      });\n    };\n  }\n\n  calculateDistanceAndKpiData(res: ResponseObject, position: IPosition) {\n    let retVal = res.data.map((location: Location) => {\n      if (location._geoloc && position && isNumber(position.latitude) && isNumber(position.longitude)) {\n        location.distance = this.geoloc.getDistance(position.latitude, position.longitude, location._geoloc[1], location._geoloc[0]);\n      }\n\n      let oldKpiData: Object = location.kpiData as any;\n      let kpiData: Array<IKpiData> = [];\n      if (this.session.tenant && this.session.tenant.locationKpis && this.session.tenant.locationKpis.length > 0) {\n        this.session.tenant.locationKpis.forEach(kpi => {\n          if (this.authentication.isAdmin() || (kpi.category === 'healthscore' && this.authentication.hasRole('healthscore')) || (kpi.category !== 'healthscore' && this.authentication.hasRole('storeinsights'))) {\n            kpiData.push({\n              category: kpi.category,\n              value: oldKpiData && oldKpiData[kpi.category] ? oldKpiData[kpi.category].value : null,\n              icon: kpi.icon,\n              extraSymbol: kpi.extraSymbol,\n              variation: oldKpiData && oldKpiData[kpi.category] ? oldKpiData[kpi.category].variation : null\n            });\n          }\n        });\n      }\n      location.kpiData = kpiData;\n\n      return location;\n    });\n    //retVal = orderBy(retVal, ['distance']);\n    return retVal;\n  }\n\n  getAroundMeFilter(aroundMe: boolean, stats: boolean, forceRefresh: boolean): Promise<{ filters: Filters; sortModel: ISort[]; mapTransform: any; position: IPosition }> {\n    let filters: Filters;\n    let sortModel: Array<any>;\n    let mapTransform: any;\n    return this.geoloc.getLocation(forceRefresh).then((res: any) => {\n      mapTransform = stats ? this.getStatsAndDistanceTransformAsync(res) : this.getDistanceAndLastVisitTransform(res);\n      if (!aroundMe || !res) {\n        filters = [[]];\n        sortModel = [{ colId: 'title', sort: 'asc' }];\n      } else {\n        sortModel = [];\n        filters = [\n          [\n            {\n              field: '_geoloc',\n              operator: { _id: 'nearSphere' },\n              value: [res.longitude, res.latitude],\n              max: 40000\n            }\n          ]\n        ];\n      }\n      return { filters, sortModel, mapTransform, position: res };\n    });\n  }\n\n  getLocationTypesTransform() {\n    return (res: ResponseObject, search, filters, start, pageSize) => {\n      return new Observable<ResponseObject>((observer: Observer<ResponseObject>) => {\n        if (res && res.data && res.data.length > 0) {\n          let ids = res.data.map((type: LocationType) => type._id);\n          this.getLocationTypesStat(ids).subscribe(stats => {\n            res.data.forEach((locationType: LocationType) => {\n              let stat = stats.find(s => s._id === locationType._id);\n              let count = stat ? stat.count || 0 : 0;\n              locationType.count = count;\n            });\n            observer.next({ count: res.count, data: <any>res.data });\n            observer.complete();\n          });\n        } else {\n          observer.next({ count: 0, data: [] });\n          observer.complete();\n        }\n      });\n    };\n  }\n\n  getLocationTypesStat(locationTypeIds: Array<string>): Observable<Array<{ _id: string; count: number }>> {\n    let filters: Filters = [[{ field: 'typeRef', operator: { _id: 'inq' }, value: locationTypeIds }]];\n    let options = [\n      {\n        $project: {\n          _id: '$typeRef'\n        }\n      },\n      {\n        $group: {\n          _id: '$_id',\n          count: { $sum: 1 }\n        }\n      }\n    ];\n    return this.broker.aggregateQuery('locations', filters, options);\n  }\n\n  getHealthscore(locationId: string, nbDays: Array<number> = [7, 30, 90]): Observable<Array<IHealthscore>> {\n    if (this.network.isOffline()) {\n      return from(this.cache.get(CACHE_KEYS.healthscore, locationId));\n    } else {\n      let url = this.config.apiUrl + 'locations/healthScore?storeId=' + locationId + '&days=[' + nbDays.toString() + ']';\n      return this.rq.get(url).pipe(\n        map(ret => {\n          let retVal = ret.data ? ret.data : ret;\n          this.cache.add(CACHE_KEYS.healthscore, locationId, retVal);\n          return retVal;\n        })\n      );\n    }\n  }\n\n  getUserLocations(userId: string) {\n    let url = this.config.apiUrl + 'businesslogic/getUserLocations';\n    return this.rq.post(url, { userId });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Session } from '../session/session.service';\n//require('yoobic-loopback-node-sdk/client/browserify.bundle');\n\n@Injectable()\nexport class Loopback {\n  private _client = (<any>window).loopbackClient;\n\n  constructor(private session: Session) {\n    if (this._client) {\n      //this._client.setBaseUrl(this._config.apiUrl);\n      this._client.setAccessToken(this.session.token);\n    }\n  }\n\n  get client() {\n    return this._client;\n  }\n}\n","import { Translate } from '@shared/translate';\nimport { IMissionDescription, IScoring, FormFieldType, IFormField, IRoles, IRole, SelectionQuery } from '@shared/stencil';\nimport { Slide } from '../slide/slide.interface';\nimport { Model } from '../../decorators/model/model.decorator';\nimport { Editable } from '../../decorators/editable/editable.decorator';\nimport { Condition, getGroupsTransform, ROLES_CONDITIONS } from '../condition/condition.interface';\nimport { Searchable } from '../../decorators/searchable/searchable.decorator';\nimport { FORM_FILES_IMAGE_FILTER } from '../constants/constants.interface';\nimport { Tenant } from '../tenant/tenant.interface';\nimport { range } from 'lodash-es';\n\nexport const MISSION_TYPES_NO_ADMIN = ['mission'];\nexport const MISSION_TYPES = ['mission', 'service', 'poll', 'todo', 'lesson']; //'template',, 'memo'\nexport const MISSION_STATUS = ['booked', 'finished', 'archived', 'scheduled'];\n\nlet conditions = {\n  isPoll: 'type == \"poll\"',\n  isMission: 'type == \"mission\"',\n  isQuizz: 'quizz == 1',\n  isService: 'type == \"service\"',\n  notService: 'not (type == \"service\")',\n  notPollOrService: 'not (type == \"service\") and not (type == \"poll\")',\n  isPollOrService: 'type==\"poll\" or type==\"service\"' //,\n  //isUpdate: 'isNullOrEmpty(getAttributeValue(\"_ect\")) == 0'\n};\n\nexport function onMissionDescriptionTypeChange(value, data, field) {\n  // if (value && (value === 'service' || value === 'poll' || value === 'lesson')) {\n  //   setTimeout(() => {\n  //     controls.language.setValue(controls.language.getValue() || Translate.currentLanguage);\n  //   }, 300);\n  // }\n  // let groupIndex = formDefinition.findIndex(f => f.name === 'group');\n  // let group = formDefinition[groupIndex];\n  // if (value === 'service') {\n  //   group.title = 'SERVICEGROUPS';\n  // } else {\n  //   group.title = 'MISSIONGROUPS';\n  // }\n  // formDefinition[groupIndex] = { ...group };\n  // return true;\n}\n\n@Model({\n  className: 'MissionDescription',\n  collectionName: 'missiondescriptions',\n  fields: [\n    '_ect',\n    '_id',\n    '_lmt',\n    '_tenant',\n    '_tenantRef',\n    'allowMultiple',\n    'allowSameUserValidation',\n    'archived',\n    'audit',\n    'autoRenew',\n    'autoRenewOnBooking',\n    'background',\n    'bookingDuration', //\n    'category',\n    'categoryRef',\n    'count',\n    'duration',\n    'finishedGroups',\n    'generateTitle',\n    'group',\n    'icon',\n    'language',\n    'locationOptions',\n    'missionTags',\n    'multiple',\n    'notificationemail',\n    'notify',\n    'notifyBody',\n    'notifyScheduledDate',\n    'pdfMode',\n    'price',\n    'priority',\n    'public',\n    'quizz',\n    'quizzMode',\n    'recurring',\n    'scoring',\n    'showAnswers',\n    'skipValidation',\n    'submittext',\n    'successtext',\n    'tags',\n    'text',\n    'title',\n    'type',\n    'validFrom',\n    'validUntil',\n    'versionmin',\n    'storesQuery'\n  ],\n  include: ['_tenant'], //'category',\n  icon: 'yo-campaign'\n})\nexport class MissionDescription extends IMissionDescription {\n  @Editable('MissionDescription', {\n    type: FormFieldType.text,\n    visible: false,\n    forceExport: true,\n    exportOrder: 1\n  })\n  _id?: string;\n\n  @Editable('MissionDescription', {\n    type: FormFieldType.autocomplete,\n    title: 'TYPE',\n    values: MISSION_TYPES, //MISSION_TYPES_NO_ADMIN,\n    translate: true,\n    clearable: false,\n    required: true,\n    exportOrder: 3,\n    filterable: true,\n    onChange: onMissionDescriptionTypeChange\n  })\n  type: string;\n\n  @Editable('MissionDescription', {\n    required: true,\n    title: 'TITLE',\n    sortable: true,\n    type: FormFieldType.text,\n    exportOrder: 2\n  })\n  @Searchable('MissionDescription')\n  title: string;\n\n  @Editable('MissionDescription', {\n    required: true,\n    title: 'DESCRIPTION',\n    type: FormFieldType.textarea,\n    filterable: false,\n    sortable: false,\n    language: 'html'\n  }) //\n  text: string;\n\n  @Editable('MissionDescription', {\n    type: FormFieldType.autocomplete,\n    filters: FORM_FILES_IMAGE_FILTER,\n    forceModal: true,\n    hiddenFields: ['mimeType'],\n    mode: 'tile',\n    pageSize: 20,\n    fixedPosition: true,\n    maxWidth: 160,\n    maxHeight: 160,\n    crop: 'circle',\n    collectionName: 'files',\n    title: 'ICON',\n    required: true,\n    flex: 50,\n    columnDefinition: { name: '_downloadURL' },\n    filterable: false,\n    sortable: false\n  })\n  icon: any;\n\n  @Editable('MissionDescription', {\n    title: 'CAMPAIGNTAGS',\n    filterable: true,\n    type: FormFieldType.autocomplete,\n    clearable: true,\n    tag: true,\n    allowCustomTag: true,\n    collectionName: 'missiondescriptions',\n    multiple: true,\n    subQuery: { field: 'descriptionRef', values: '_id' },\n    filters: [[{ field: 'archived', operator: { _id: 'neq' }, value: true }]],\n    icon: 'yo-tag',\n    secondary: true\n  })\n  tags: Array<string>;\n\n  background: any;\n  group: Array<string>;\n  serviceGroups: Array<string>;\n  missionTags: Array<string>;\n  slides: Array<Slide>;\n  public: boolean;\n  skipValidation: boolean;\n  allowSameUserValidation: boolean;\n  allowMultiple: boolean;\n  quizz: boolean;\n  quizzMode: string;\n  showAnswers: boolean;\n  audit: boolean;\n  recurring: boolean;\n  category: MissionDescription;\n  language: string;\n  submittext: string;\n  successtext: string;\n  versionmin: string;\n  finishedGroups: Array<string>;\n  roles?: Array<IRole>;\n  archived: boolean;\n  count: number;\n  storesQuery?: SelectionQuery;\n  latest: Date;\n  _ect: any;\n  conditions: Array<Condition>;\n  scoring: Array<Scoring>;\n  _tenant: Tenant;\n  _tenantRef?: string;\n\n  //MissionDescriptionSchedule\n  validFrom: Date;\n  validUntil: Date;\n  duedate: Date;\n\n  //MissionDescriptionNotifications\n  notify?: boolean;\n  notifyBody?: string;\n  notifyScheduledDate?: Date;\n  notificationemail?: Array<string>;\n  disableLocationNotificationemail?: boolean;\n  pdfMode?: string;\n}\n\n@Model({\n  className: 'MissionDescriptionCreate'\n})\nexport class MissionDescriptionCreate extends IMissionDescription {\n  type: string;\n\n  @Editable('MissionDescriptionCreate', {\n    required: true,\n    title: 'TITLE',\n    sortable: true,\n    type: FormFieldType.text,\n    exportOrder: 2\n  })\n  title: string;\n\n  @Editable('MissionDescriptionCreate', {\n    required: true,\n    title: 'DESCRIPTION',\n    type: FormFieldType.textarea,\n    filterable: false,\n    sortable: false,\n    language: 'html'\n  })\n  text: string;\n\n  @Editable('MissionDescriptionCreate', {\n    type: FormFieldType.autocomplete,\n    filters: FORM_FILES_IMAGE_FILTER,\n    forceModal: true,\n    hiddenFields: ['mimeType'],\n    mode: 'tile',\n    pageSize: 20,\n    fixedPosition: true,\n    maxWidth: 160,\n    maxHeight: 160,\n    crop: 'circle',\n    collectionName: 'files',\n    title: 'ICON',\n    required: true,\n    columnDefinition: { name: '_downloadURL' },\n    filterable: false,\n    sortable: false\n  })\n  icon: any;\n\n  @Editable('MissionDescriptionCreate', {\n    type: FormFieldType.autocomplete,\n    values: range(1, 5)\n  })\n  priority: any;\n\n  @Editable('MissionDescriptionCreate', {\n    type: FormFieldType.toggle,\n    condition: [conditions.isMission],\n    title: 'AUDIT',\n    columnDefinition: { width: 80 }\n  })\n  audit: boolean;\n\n  @Editable('MissionDescriptionCreate', {\n    type: FormFieldType.toggle,\n    condition: [conditions.isMission],\n    title: 'RECURRING',\n    columnDefinition: { width: 80 }\n  })\n  recurring: boolean;\n\n  @Editable('MissionDescriptionCreate', {\n    type: FormFieldType.toggle,\n    condition: conditions.isPoll,\n    columnDefinition: { width: 80 }\n  })\n  allowMultiple: boolean;\n\n  @Editable('MissionDescriptionCreate', {\n    type: FormFieldType.toggle,\n    condition: conditions.isPoll,\n    title: 'QUIZZ',\n    columnDefinition: { width: 80 }\n  })\n  quizz: boolean;\n\n  @Editable('MissionDescriptionCreate', {\n    type: FormFieldType.autocomplete,\n    condition: conditions.isQuizz,\n    flex: 100,\n    title: 'MODE',\n    values: ['ALLANSWERSVALID', 'ALLOWUNVALIDANSWERS', 'LIVEANSWERS'],\n    translate: true,\n    columnDefinition: { width: 80 }\n  })\n  quizzMode: string;\n\n  @Editable('MissionDescriptionCreate', {\n    type: FormFieldType.toggle,\n    condition: conditions.isQuizz,\n    flex: 100,\n    title: 'SHOWANSWERS',\n    columnDefinition: { width: 80 }\n  })\n  showAnswers: boolean;\n\n  @Editable('MissionDescription', {\n    type: FormFieldType.autocomplete,\n    required: true,\n    condition: conditions.isPollOrService,\n    title: 'LANGUAGE',\n    flex: 100,\n    translate: true,\n    values: Translate.availablesLanguageAll,\n    clearable: false\n  })\n  language: string;\n\n  @Editable('MissionDescriptionCreate', {\n    title: 'CAMPAIGNTAGS',\n    filterable: true,\n    type: FormFieldType.autocomplete,\n    clearable: true,\n    tag: true,\n    allowCustomTag: true,\n    collectionName: 'missiondescriptions',\n    multiple: true,\n    subQuery: { field: 'descriptionRef', values: '_id' },\n    icon: 'yo-tag',\n    secondary: true\n  })\n  tags: Array<string>;\n\n  slides: Array<Slide>;\n\n  @Editable('MissionDescriptionCreate', {\n    required: true,\n    title: 'TENANT',\n    type: FormFieldType.autocomplete,\n    condition: [ROLES_CONDITIONS.isAdmin],\n    collectionName: 'tenants',\n    multiple: false,\n    columnDefinition: { name: 'name' }\n  })\n  _tenant: Tenant;\n  _tenantRef?: string;\n}\n\n@Model({\n  className: 'MissionDescriptionSchedule'\n})\nexport class MissionDescriptionSchedule extends IMissionDescription {\n  @Editable('MissionDescriptionSchedule', {\n    title: 'MISSIONVALIDFROMTOOLTIP',\n    type: FormFieldType.datetime,\n    condition: conditions.notService,\n    externalValidators: [{ externalFieldName: 'validUntil', rule: 'lower' }]\n  })\n  validFrom: Date;\n\n  @Editable('MissionDescriptionSchedule', {\n    title: 'MISSIONVALIDUNTILTOOLTIP',\n    type: FormFieldType.datetime,\n    condition: conditions.notService,\n    externalValidators: [{ externalFieldName: 'validFrom', rule: 'higher' }]\n  })\n  validUntil: Date;\n\n  @Editable('MissionDescriptionSchedule', {\n    title: 'MISSIONDUEDATE',\n    type: FormFieldType.datetime,\n    condition: conditions.notService\n  })\n  duedate: Date;\n\n  // @Editable('MissionGenerate', {\n  //   tabIndex: 2,\n  //   tab: 'OPTIONS',\n  //   type: FormFieldType.schedule,\n  //   hideLabel: true,\n  //   condition: conditions.isScheduled,\n  //   flex: 100\n  // })\n  // schedule: boolean;\n}\n\n@Model({\n  className: 'MissionDescriptionNotifications'\n})\nexport class MissionDescriptionNotifications extends IMissionDescription {\n  @Editable('MissionDescriptionNotifications', {\n    type: FormFieldType.toggle,\n    condition: conditions.notService\n  })\n  notify: boolean;\n\n  @Editable('MissionDescriptionNotifications', {\n    title: 'NOTIFICATION',\n    required: true,\n    condition: 'notify == 1',\n    type: FormFieldType.textarea\n  })\n  notifyBody: string;\n\n  @Editable('MissionDescriptionNotifications', {\n    title: 'SCHEDULEDDATE',\n    required: false,\n    condition: 'notify == 1',\n    type: FormFieldType.datetime\n  })\n  notifyScheduledDate: Date;\n\n  @Editable('MissionDescriptionNotifications', {\n    title: 'NOTIFICATIONEMAILS',\n    type: FormFieldType.emailreport,\n    showUsers: true,\n    stateful: false,\n    filterable: false,\n    sortable: false\n  })\n  notificationemail: Array<string>;\n\n  @Editable('MissionDescriptionNotifications', {\n    type: FormFieldType.toggle,\n    columnDefinition: { width: 80 },\n    suppressExport: true\n  })\n  disableLocationNotificationemail: boolean;\n\n  @Editable('MissionDescriptionNotifications', {\n    title: 'PDFEXPORT',\n    type: FormFieldType.selectcard,\n    translate: true,\n    values: [\n      { title: 'PDFCLASSIC', description: 'PDFCLASSICDESCRIPTION', value: 'PDFCLASSIC' }, //\n      { title: 'PDFPHOTOREPORT', description: 'PDFPHOTOREPORTDESCRIPTION', value: 'PDFPHOTOREPORT' },\n      { title: 'PDFAUDITEXPORTS', description: 'PDFAUDITEXPORTSDESCRIPTION', value: 'PDFAUDITEXPORTS' },\n      { title: 'PDFCONTRACT', description: 'PDFCONTRACTDESCRIPTION', value: 'PDFCONTRACT' }\n    ],\n    filterable: false\n  })\n  pdfMode?: string;\n}\n\n@Model({\n  className: 'MissionDescriptionSettings'\n})\nexport class MissionDescriptionSettings extends IMissionDescription {\n  @Editable('MissionDescriptionSettings', {\n    required: true,\n    title: 'MISSIONGROUPS',\n    header: 'PERMISSIONS',\n    type: FormFieldType.autocomplete,\n    collectionName: 'groups',\n    filters: [[{ field: 'isRole', operator: { _id: 'neq' }, value: true }, { field: 'type', operator: { _id: 'nin' }, value: ['plan'] }]],\n    hiddenFields: ['isRole', 'type'],\n    idOnly: true,\n    mapTransform: getGroupsTransform,\n    multiple: true,\n    clearable: false\n  })\n  group: Array<string>;\n\n  @Editable('MissionDescriptionSettings', {\n    required: false,\n    title: 'MISSIONGROUPS',\n    type: FormFieldType.autocomplete,\n    condition: conditions.isService,\n    collectionName: 'groups',\n    filters: [[{ field: 'isRole', operator: { _id: 'neq' }, value: true }, { field: 'type', operator: { _id: 'nin' }, value: ['plan'] }]],\n    hiddenFields: ['isRole', 'type'],\n    idOnly: true,\n    mapTransform: getGroupsTransform,\n    multiple: true,\n    clearable: false\n  })\n  serviceGroups: Array<string>;\n\n  @Editable('MissionDescriptionSettings', {\n    required: false,\n    title: 'FINISHEDGROUPS',\n    type: FormFieldType.autocomplete,\n    condition: [conditions.isMission],\n    collectionName: 'groups',\n    filters: [[{ field: 'isRole', operator: { _id: 'neq' }, value: true }, { field: 'type', operator: { _id: 'nin' }, value: ['plan'] }]],\n    hiddenFields: ['isRole', 'type'],\n    idOnly: true,\n    mapTransform: getGroupsTransform,\n    multiple: true,\n    clearable: true\n  })\n  finishedGroups: Array<string>;\n\n  @Editable('MissionDescriptionSettings', {\n    multiple: true,\n    type: FormFieldType.autocomplete,\n    exportOrder: 15,\n    values: IRoles,\n    translate: true,\n    filterableAdvanced: true\n  })\n  roles?: Array<IRole>;\n\n  @Editable('MissionDescriptionSettings', {\n    title: 'CATEGORIES',\n    type: FormFieldType.autocomplete,\n    tag: true,\n    collectionName: 'missions',\n    multiple: true,\n    subQuery: { field: 'descriptionRef', values: '_id' },\n    icon: 'yo-flag',\n    filterable: false\n  })\n  missionTags: Array<string>;\n\n  @Editable('MissionDescriptionSettings', {\n    header: 'COMPLIANCE',\n    type: FormFieldType.toggle,\n    title: 'SKIPVALIDATION',\n    columnDefinition: { width: 80 },\n    filterableAdvanced: true\n  })\n  skipValidation: boolean;\n\n  @Editable('MissionDescriptionSettings', {\n    type: FormFieldType.toggle,\n    title: 'ALLOWSAMEUSERVALIDATION',\n    condition: [ROLES_CONDITIONS.isManager, ROLES_CONDITIONS.isAdminOrClientAdmin],\n    columnDefinition: { width: 80 },\n    filterableAdvanced: true\n  })\n  allowSameUserValidation: boolean;\n\n  @Editable('MissionDescriptionSettings', {\n    header: 'MISSIONSETTINGS',\n    type: FormFieldType.toggle,\n    condition: conditions.notPollOrService,\n    flex: 100\n  })\n  autoRenew: boolean;\n\n  @Editable('MissionDescriptionSettings', {\n    type: FormFieldType.toggle,\n    condition: [conditions.notPollOrService]\n  }) //, readonly: conditions.isScheduled\n  autoRenewOnBooking: boolean;\n\n  @Editable('MissionDescriptionSettings', {\n    title: 'CHECK',\n    clearable: true,\n    type: FormFieldType.selectcard,\n    values: [\n      { title: 'AVAILABLE', description: 'CHECKAVAILABLE', value: 'CHECKAVAILABLE' }, //\n      { title: 'EXISTING', description: 'CHECKEXISTING', value: 'CHECKEXISTING' }\n    ],\n    translate: true,\n    condition: conditions.notPollOrService\n  })\n  locationOptions: string;\n\n  @Editable('MissionDescriptionSettings', {\n    header: 'MISC',\n    required: false,\n    title: 'MISSIONDURATION',\n    type: FormFieldType.number\n  })\n  duration: number;\n\n  @Editable('MissionDescriptionSettings', {\n    condition: conditions.isService,\n    title: 'SUBMITTEXT',\n    type: FormFieldType.text,\n    filterable: false,\n    sortable: false\n  })\n  submittext: string;\n\n  @Editable('MissionDescriptionSettings', {\n    condition: conditions.isService,\n    title: 'SUCCESSTEXT',\n    type: FormFieldType.text,\n    filterable: false,\n    sortable: false\n  })\n  successtext: string;\n\n  @Editable('MissionDescriptionSettings', {\n    title: 'VERSIONMIN',\n    type: FormFieldType.text,\n    sortable: false,\n    condition: ROLES_CONDITIONS.isAdmin,\n    filterableAdvanced: true\n  })\n  versionmin: string;\n}\n\nlet scoringConditions = {\n  isPercentage: 'isPercentage == 1'\n};\n\n@Model({ className: 'Scoring' })\nexport class Scoring extends IScoring {\n  @Editable('Scoring', { required: true, type: FormFieldType.text })\n  title: string;\n\n  @Editable('Scoring', { type: FormFieldType.textarea })\n  description: string;\n\n  @Editable('Scoring', {\n    title: 'INITIALSCORE',\n    type: FormFieldType.number,\n    advanced: true,\n    condition: ROLES_CONDITIONS.isAdmin\n  })\n  initialValue: number;\n\n  @Editable('Scoring', {\n    title: 'MINSCOREFORVALIDATION',\n    type: FormFieldType.number,\n    advanced: true\n  })\n  minValue: number;\n\n  @Editable('Scoring', {\n    type: FormFieldType.checkbox,\n    title: 'ISPRIMARYSCORE',\n    columnDefinition: { width: 80 }\n  })\n  isActive: boolean;\n\n  @Editable('Scoring', { type: FormFieldType.checkbox, title: 'ISLIVE', columnDefinition: { width: 80 } })\n  isLive: boolean;\n\n  @Editable('Scoring', {\n    type: FormFieldType.checkbox,\n    title: 'PERCENTAGE',\n    columnDefinition: { width: 80 },\n    advanced: true\n  })\n  isPercentage: boolean;\n\n  @Editable('Scoring', {\n    title: 'TOTAL',\n    type: FormFieldType.number,\n    condition: scoringConditions.isPercentage,\n    required: true\n  })\n  percentageBasis: number;\n\n  @Editable('Scoring', {\n    type: FormFieldType.autocomplete,\n    multiple: true,\n    title: 'FIELDS',\n    displayType: 'formfield'\n  })\n  selectedFields: Array<IFormField>;\n}\n","import { Injectable } from '@angular/core';\nimport { IFormField, FormFieldType } from '@shared/stencil';\nimport { ResponseObject } from '../../interfaces/response-object/response-object.interface';\nimport { MissionDescription, MISSION_STATUS } from '../../interfaces/mission-description/mission-description.interface';\nimport { Models } from '../models/models.service';\nimport { Slide } from '../../interfaces/slide/slide.interface';\n\nimport { cloneDeep, uniq, concat, forEach } from 'lodash-es';\n\n@Injectable()\nexport class Missiondescriptions {\n  /*\n        Return the transform to extract the fields from a mission description\n    */\n  static getFieldTransform(types: Array<string> = []): (res: ResponseObject) => ResponseObject {\n    return Models.getFieldTransform(types);\n  }\n\n  /*\n        Return the list of slide items fields from a mission description (mobile type)\n    */\n  static getFields(missiondescription: MissionDescription, types: Array<string> = [], excludedTypes: Array<string> = []) {\n    return Models.getFields(missiondescription, types, excludedTypes);\n  }\n\n  /*\n        Return the list of slide items fields from an array of slides (mobile type)\n    */\n  static getFieldsFromSlides(slides: Array<Slide>, types: Array<string> = [], excludedTypes: Array<string> = []) {\n    return Models.getFieldsFromSlides(slides, types, excludedTypes);\n  }\n\n  /*\n        Return the list of form field from a mission description. Used in the mission data grid and form\n    */\n  public static getFormFields(missiondescription: MissionDescription, translate, includeComments = false): Array<IFormField> {\n    let mobileFields = Models.getFields(missiondescription, null, ['information']);\n    mobileFields = mobileFields.reduce((previous: Array<IFormField>, current: IFormField) => {\n      let retVal = cloneDeep(current);\n      retVal.name += '.value';\n      retVal.operators = Models.getFieldOperator(current);\n      //retVal.type = Models.getFormFieldFromMobileField(retVal.type);\n      previous.push(retVal);\n\n      if (current.allowComments && includeComments) {\n        retVal = cloneDeep(current);\n        retVal.title = translate.polyglot(retVal.title) + ' .C';\n        retVal.name += '.comments';\n        retVal.type = FormFieldType.text;\n        previous.push(retVal);\n      }\n\n      if (current.allowTime && includeComments) {\n        retVal = cloneDeep(current);\n        retVal.title = translate.polyglot(retVal.title) + ' .T';\n        retVal.name += '.time';\n        retVal.type = FormFieldType.datetime;\n        previous.push(retVal);\n      }\n      return previous;\n    }, []);\n    if (missiondescription.type === 'service') {\n      mobileFields.unshift({\n        name: 'mission.status',\n        title: 'STATUS',\n        type: FormFieldType.autocomplete,\n        translate: true,\n        values: uniq(concat(MISSION_STATUS, [undefined])),\n        handleUndefined: true,\n        columnDefinition: { cellRenderer: 'missionStatusRenderer' },\n        operators: Models.getFieldOperator({ type: FormFieldType.autocomplete })\n      });\n      mobileFields.unshift({\n        name: 'mission.creatorDisplayName',\n        title: 'REQUESTOR',\n        type: FormFieldType.text,\n        operators: Models.getFieldOperator({ type: FormFieldType.text })\n      });\n      mobileFields.unshift({\n        name: 'mission._ect',\n        title: 'CREATIONDATE',\n        type: FormFieldType.datetime,\n        operators: Models.getFieldOperator({ type: FormFieldType.datetime })\n      });\n    }\n    if (missiondescription.scoring && missiondescription.scoring.length > 0) {\n      forEach(missiondescription.scoring, scoring => {\n        if (scoring.isActive !== true) {\n          mobileFields.unshift({\n            name: 'extraScores.' + scoring.title + '.value',\n            title: scoring.title,\n            type: FormFieldType.number\n          });\n        } else {\n          mobileFields.unshift({ name: 'score.value', title: scoring.title, type: FormFieldType.number });\n        }\n      });\n    }\n    return mobileFields;\n  }\n\n  static encodeScoringValue(v) {\n    if (v && v.toString) {\n      return v.toString().replace(/\\./, '_');\n    } else {\n      return v;\n    }\n  }\n}\n","import { Injectable, EventEmitter } from '@angular/core';\nimport { Requestor } from '../requestor/requestor.service';\nimport { Files } from '../files/files.service';\nimport { Config } from '../config/config.service';\nimport { Models } from '../models/models.service';\nimport { Authentication } from '../authentication/authentication.service';\n\nimport { IFormField, Query, SubQuery, FormFieldType, downloadFile, IColumnDefinition } from '@shared/stencil';\n\nimport { compact, sortBy, cloneDeep, uniq, get } from 'lodash-es';\nimport { timer, of } from 'rxjs';\nimport { concatMap, filter, take, catchError } from 'rxjs/operators';\n@Injectable()\nexport class Print {\n  protected excludedDashboardColumns: Array<string> = ['validated', 'validatedBy', 'owner.username', 'creator.username', 'user.username'];\n\n  constructor(protected rq: Requestor, protected config: Config, protected authentication: Authentication, protected files: Files) {}\n\n  printToMapping(collectionName: string, columns: Array<IFormField>, query: Query, subQuery: SubQuery, aggregateOptions: Array<any>, type: 'csv' | 'xlsx', campaignFields: Array<IFormField>, filename?: string, progress?: EventEmitter<number>) {\n    let publicCollectionName = Models.getPublicCollectionName(collectionName);\n    let url = this.config.publicApiUrl + publicCollectionName + '/export';\n    type = type === 'xlsx' ? 'xlsx' : 'csv';\n    //query.limit = 25500;\n    if (subQuery) {\n      query.subQuery = subQuery;\n    }\n\n    let model = Models.getModelByCollectionName(collectionName);\n    query.include = model.include;\n\n    let exportColumns = sortBy(cloneDeep(columns.filter(c => !c.suppressExport)), c => c.exportOrder || 100).map((c: any) => {\n      if (c.field) {\n        c.field = c.field.replace(/\\?/g, '');\n      }\n      return c;\n    });\n\n    if (this.authentication.isDashboard()) {\n      exportColumns = exportColumns.filter(c => this.excludedDashboardColumns.indexOf(c.field) < 0);\n    }\n    //let mime = type === 'csv' ? 'text/plain' : 'application/xlsx';\n    filename = this.files.cleanFileName(filename || publicCollectionName) + this.rq.getFilenameSuffix() + '.' + type;\n    let cacheQuery: any = {};\n    if (campaignFields && campaignFields.length > 0) {\n      let catalogs = uniq(campaignFields.filter(f => f.type === FormFieldType.catalog).map(f => f.catalog));\n      if (catalogs.length > 0) {\n        cacheQuery.products = { where: { catalogRef: { inq: catalogs } } };\n      }\n      let collectionNames = compact(uniq(campaignFields.filter(f => f.type === FormFieldType.autocomplete).map(f => f.collectionName)));\n      if (collectionNames.length > 0) {\n        cacheQuery.custommodels = { where: { name: { inq: collectionNames } }, cacheKey: 'name' };\n      }\n    }\n    query = cloneDeep(query);\n    delete query.fields;\n    return this.rq\n      .get(url, false, null, [{ name: 'filter', value: JSON.stringify(query) }, { name: 'type', value: type === 'xlsx' ? 'excel' : 'csv' }]) //r.token\n      .toPromise()\n      .then(ret => {\n        if (ret._id) {\n          return timer(1000, 500)\n            .pipe(\n              concatMap(() => {\n                return this.rq.get(this.config.publicApiUrl + 'jobs/' + ret._id, false, null).pipe(\n                  catchError(() => {\n                    return of({});\n                  })\n                );\n              })\n            )\n            .pipe(\n              filter(s => {\n                if (progress && s && s.progress) {\n                  progress.emit(s.progress * 100);\n                }\n                return s && s.progress === 1;\n              })\n            )\n            .pipe(take(1))\n            .toPromise()\n            .then(res => {\n              let fileUrl = get(res, 'data.output.data.download_url');\n              if (fileUrl) {\n                return downloadFile(fileUrl, filename);\n              }\n            });\n        }\n      });\n  }\n\n  printToSpreadsheet(collectionName: string, columns: Array<IColumnDefinition>, query: Query, subQuery: SubQuery, aggregateOptions: Array<any>, channel: string, type: string, campaignFields: Array<IFormField>, filename?: string) {\n    let url = this.config.apiUrl + 'print/write-spreadsheet';\n    let fixedCollectionName = Models.fixCollectionName(collectionName);\n    type = type === 'csv' ? 'csv' : 'xlsx';\n    //query.limit = 25500;\n    if (subQuery) {\n      query.subQuery = subQuery;\n    }\n\n    let model = Models.getModelByCollectionName(collectionName);\n    query.include = model.include;\n\n    let exportColumns = sortBy(cloneDeep(columns.filter(c => !c.suppressExport)), (c: any) => c.exportOrder || 100).map((c: any) => {\n      if (c.field) {\n        c.field = c.field.replace(/\\?/g, '');\n      }\n      return c;\n    });\n\n    if (this.authentication.isDashboard()) {\n      exportColumns = exportColumns.filter(c => this.excludedDashboardColumns.indexOf(c.field) < 0);\n    }\n    let mime = type === 'csv' ? 'text/plain' : 'application/xlsx';\n    filename = this.files.cleanFileName(filename || fixedCollectionName) + this.rq.getFilenameSuffix() + '.' + type;\n    let cacheQuery: any = {};\n    if (campaignFields && campaignFields.length > 0) {\n      let catalogs = uniq(campaignFields.filter(f => f.type === FormFieldType.catalog).map(f => f.catalog));\n      if (catalogs.length > 0) {\n        cacheQuery.products = { where: { catalogRef: { inq: catalogs } } };\n      }\n      let collectionNames = compact(uniq(campaignFields.filter(f => f.type === FormFieldType.autocomplete).map(f => f.collectionName)));\n      if (collectionNames.length > 0) {\n        cacheQuery.custommodels = { where: { name: { inq: collectionNames } }, cacheKey: 'name' };\n      }\n    }\n\n    let body = {\n      collectionName: fixedCollectionName,\n      columns: exportColumns,\n      query,\n      aggregateOptions,\n      channel,\n      type,\n      cacheQuery\n    };\n    return this.rq.downloadFile(filename, mime, url, {\n      method: 'post',\n      headers: { 'Content-Type': 'application/json' },\n      body: body\n    });\n  }\n}\n","import { Model } from '../../decorators/model/model.decorator';\nimport { Searchable } from '../../decorators/searchable/searchable.decorator';\nimport { Editable } from '../../decorators/editable/editable.decorator';\nimport { FormFieldType, IGroup } from '@shared/stencil';\nimport { Tenant } from '../tenant/tenant.interface';\nimport { ROLES_CONDITIONS } from '../condition/icondition.interface';\nimport { FORM_FILES_GROUP_FILTER } from '../constants/constants.interface';\n\nlet conditions = {\n  isUpdate: 'getAttributeValue(\"_ect\")',\n  isCreate: 'not getAttributeValue(\"_ect\")',\n  isNotRole: 'not (isRole == 1)'\n};\n\n@Model({\n  className: 'Group',\n  collectionName: 'groups',\n  fields: ['*'],\n  include: ['_tenant'],\n  icon: 'yo-group'\n})\nexport class Group extends IGroup {\n  @Editable('Group', {\n    required: true,\n    title: 'ID',\n    type: FormFieldType.text,\n    readonly: conditions.isUpdate,\n    forceExport: true,\n    exportOrder: 1\n  })\n  @Searchable('Group')\n  _id: string;\n\n  @Editable('Group', { required: false, type: FormFieldType.text })\n  @Searchable('Group')\n  title: string;\n\n  @Editable('Group', { required: false, type: FormFieldType.textarea })\n  @Searchable('Group')\n  description: string;\n\n  @Editable('Group', {\n    type: FormFieldType.autocomplete,\n    filters: FORM_FILES_GROUP_FILTER,\n    forceModal: true,\n    hiddenFields: ['mimeType'],\n    mode: 'tile',\n    pageSize: 20,\n    clearable: true,\n    fixedPosition: true,\n    maxWidth: 160,\n    maxHeight: 160,\n    crop: 'circle',\n    collectionName: 'files',\n    title: 'ICON',\n    columnDefinition: { name: '_downloadURL' },\n    filterable: false,\n    sortable: false\n  })\n  icon: any;\n\n  @Editable('Group', {\n    required: true,\n    title: 'TENANT',\n    type: FormFieldType.autocomplete,\n    condition: [ROLES_CONDITIONS.isAdmin, conditions.isNotRole],\n    collectionName: 'tenants',\n    multiple: false,\n    columnDefinition: { name: 'name' }\n  })\n  _tenant: Tenant;\n\n  @Editable('Group', {\n    type: FormFieldType.toggle,\n    condition: [conditions.isCreate, ROLES_CONDITIONS.isAdmin]\n  })\n  team?: boolean;\n\n  @Editable('Group', {\n    title: 'ROLE',\n    type: FormFieldType.toggle,\n    condition: [ROLES_CONDITIONS.isAdmin]\n  })\n  isRole?: boolean;\n\n  @Editable('Group', {\n    type: FormFieldType.toggle,\n    condition: [conditions.isCreate, ROLES_CONDITIONS.isAdmin]\n  })\n  service?: boolean;\n\n  @Editable('Group', {\n    readonly: true,\n    visible: false,\n    forceExport: true,\n    filterable: false,\n    columnDefinition: { name: 'list.length' },\n    type: FormFieldType.number,\n    exportOrder: 2\n  })\n  users?: any;\n\n  @Editable('Group', {\n    readonly: true,\n    visible: false,\n    forceExport: true,\n    filterable: false,\n    columnDefinition: { name: 'length' },\n    type: FormFieldType.number,\n    exportOrder: 3\n  })\n  groups?: any;\n\n  @Editable('Group', {\n    name: '_ect',\n    title: 'CREATIONDATE',\n    type: FormFieldType.date,\n    readonly: true\n  })\n  _ect?: any;\n}\n","import { Injectable } from '@angular/core';\nimport { Broker } from '../broker/broker.service';\nimport { Requestor } from '../requestor/requestor.service';\nimport { User } from '../../interfaces/user/user.interface';\nimport { Group } from '../../interfaces/group/group.interface';\nexport * from '../../interfaces/group/group.interface';\nimport { ROLES as ROLES_LIST, ROLES_ASK } from '../../interfaces/condition/condition.interface';\nimport { Config } from '../config/config.service';\n\nimport { Observable } from 'rxjs';\nimport { flatMap, map as map$ } from 'rxjs/operators';\n\nimport { uniq, concat, map, difference } from 'lodash-es';\n\n@Injectable()\nexport class Security {\n  public static ROLES = ROLES_LIST;\n  public static ROLES_ASK = ROLES_ASK;\n\n  constructor(protected broker: Broker, protected rq: Requestor, protected config: Config) {}\n  /**\n    Return the list of groups and roles for a specific user\n    */\n  getUserSession(userId: string): Observable<any> {\n    return this.rq.post(this.broker.getApiUrl() + 'businesslogic/getUserSession', { userId });\n  }\n\n  /**\n    Add the specified users to the group\n    */\n  addGroupUsers(group: Group, users: User[]): Observable<any> {\n    this.initGroup(group);\n    if (group._id) {\n      return this.broker.patch('groups', {\n        _id: group._id,\n        $addToSet: { 'users.list': { $each: map(users, '_id') } }\n      });\n    } else {\n      //not used\n      group.users.list = uniq(concat(group.users.list, map(users, '_id')));\n      return this.broker.create('groups', group);\n    }\n  }\n\n  /**\n    Remove the specified users to the group\n    */\n  removeGroupUsers(group: Group, users: User[]): Observable<any> {\n    this.initGroup(group);\n    if (group._id) {\n      return this.broker.patch('groups', {\n        _id: group._id,\n        $pullAll: { 'users.list': map(users, '_id') }\n      });\n    } else {\n      //not used\n      group.users.list = uniq(difference(group.users.list, map(users, '_id')));\n      return this.broker.create('groups', group);\n    }\n  }\n\n  /**\n       Add the specified groups to the group\n       */\n  addGroupGroups(group: Group, groups: Group[]): Observable<any> {\n    this.initGroup(group);\n    if (group._id) {\n      return this.broker.patch('groups', {\n        _id: group._id,\n        $addToSet: { groups: { $each: map(groups, '_id') } }\n      });\n    } else {\n      group.groups = uniq(concat(group.groups, map(groups, '_id')));\n      return this.broker.create('groups', group);\n    }\n  }\n\n  /**\n   Remove the specified groups to the group\n   */\n  removeGroupGroups(group: Group, groups: Group[]): Observable<any> {\n    this.initGroup(group);\n    if (group._id) {\n      return this.broker.patch('groups', {\n        _id: group._id,\n        $pullAll: { groups: map(groups, '_id') }\n      });\n    } else {\n      group.groups = uniq(difference(group.groups, map(groups, '_id')));\n      return this.broker.create('groups', group);\n    }\n  }\n\n  updateGroup(id: string, addedUsers: Array<User>, removedUsers: Array<User> = [], addedGroups: Array<Group> = [], removedGroups: Array<Group> = []): Observable<any> {\n    return this.broker\n      .patch('groups', {\n        _id: id,\n        $pullAll: {\n          'users.list': map(removedUsers, '_id'),\n          groups: map(removedGroups, '_id')\n        }\n      })\n      .pipe(\n        flatMap(() => {\n          return this.broker.patch('groups', {\n            _id: id,\n            $addToSet: {\n              'users.list': { $each: map(addedUsers, '_id') },\n              groups: { $each: map(addedGroups, '_id') }\n            }\n          });\n        })\n      );\n  }\n\n  initGroup(group: Group) {\n    group.groups = group.groups || [];\n    group.users = group.users || {};\n    group.users.list = group.users.list || [];\n  }\n\n  /**\n        Returns the subquery used in the group's tab user grid\n        */\n  getGroupUserSubQuery(group: Group) {\n    return {\n      collectionName: 'group',\n      where: { _id: group._id },\n      field: '_id',\n      values: 'users.list'\n    };\n  }\n\n  /**\n    Returns the subquery used in the group's tab sub group grid\n    */\n  getGroupGroupSubQuery(group: Group) {\n    return {\n      collectionName: 'group',\n      where: { _id: group._id },\n      field: '_id',\n      values: 'groups'\n    };\n  }\n\n  getAncestry(groupIds: string[], mode: 'ancestors' | 'descendants' | 'both' = 'descendants') {\n    let url = this.config.apiUrl + 'groups/getAncestry';\n    return this.rq\n      .post(url, {\n        groupIds\n      })\n      .pipe(\n        map$(retVal => {\n          if (mode === 'descendants') {\n            return uniq([].concat(retVal.descendants || []).concat(groupIds || []));\n          } else if (mode === 'ancestors') {\n            return uniq([].concat(retVal.groups || []).concat(groupIds || []));\n          } else if (mode === 'both') {\n            return uniq(\n              []\n                .concat(retVal.descendants || [])\n                .concat(retVal.groups || [])\n                .concat(groupIds || [])\n            );\n          }\n        })\n      );\n  }\n}\n","import { Injectable, EventEmitter } from '@angular/core';\nimport { Broker } from '../broker/broker.service';\nimport { Requestor } from '../requestor/requestor.service';\nimport { Config } from '../config/config.service';\n\nimport { ITenant } from '@shared/stencil';\nimport { timer, of } from 'rxjs';\nimport { concatMap, catchError, filter, take } from 'rxjs/operators';\nimport { get } from 'lodash-es';\n\n@Injectable()\nexport class Tenants {\n  constructor(protected rq: Requestor, protected broker: Broker, protected config: Config) {}\n\n  clone(from: ITenant, to: ITenant, progress?: EventEmitter<number>) {\n    return this.rq\n      .post(this.broker.getApiUrl() + 'demoManagement/CopyTenantToTenant', {\n        copyFromId: from._id,\n        copyToId: to._id\n      })\n      .toPromise()\n      .then(ret => {\n        if (ret._id) {\n          return timer(1000, 500)\n            .pipe(\n              concatMap(() => {\n                return this.rq.get(this.config.publicApiUrl + 'jobs/' + ret._id, false, null).pipe(\n                  catchError(() => {\n                    return of({});\n                  })\n                );\n              })\n            )\n            .pipe(\n              filter(s => {\n                if (progress && s && s.progress) {\n                  progress.emit(s.progress * 100);\n                }\n                return s && s.progress === 1;\n              })\n            )\n            .pipe(take(1))\n            .toPromise()\n            .then(res => {\n              let errors = get(res, 'data.output.errors');\n              let data = get(res, 'data.output.data');\n              return { data, errors };\n            });\n        }\n      });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Broker } from '../broker/broker.service';\nimport { Requestor } from '../requestor/requestor.service';\nimport { User } from '../../interfaces/user/user.interface';\nimport { SubQuery, Query } from '@shared/stencil';\nimport { Observable } from 'rxjs';\nimport { map, mergeMap } from 'rxjs/operators';\nimport { uniq } from 'lodash-es';\n\n@Injectable()\nexport class Users {\n  public static adminIds: Array<any> = [{ _id: '53fb03c6546847ee0536386a' }];\n  public static simplifiedFields: Array<string> = ['_id', 'imageData', 'firstName', 'lastName', 'email', 'telephone', 'username'];\n\n  constructor(protected broker: Broker, protected rq: Requestor) {}\n\n  getSimplifiedProfile(\n    userId\n  ): Observable<{\n    _id?: string;\n    imageData?: string;\n    firstName?: string;\n    lastName?: string;\n    email?: string;\n    telephone?: string;\n    username?: string;\n  }> {\n    return this.broker.getById('user', userId, Users.simplifiedFields);\n  }\n\n  getFreshdeskUrl() {\n    let url = this.broker.getApiUrl() + 'endpoints/getFreshdeskUrl';\n    return this.rq.post(url, { host_url: 'support-mobile.operations.yoobic.com' }).pipe(\n      map(res => {\n        return res;\n      })\n    );\n  }\n\n  setAcl(user: User, groups: Array<string>) {\n    this.broker.setAcl(user, groups);\n  }\n\n  getCustomFilterNoAdmin(showMe: boolean = true) {\n    let ids = Users.adminIds.map(i => i._id);\n    if (!showMe) {\n      ids.push(this.rq.session.userId);\n    }\n    return { _id: { nin: ids } };\n  }\n\n  isUsernameTaken(username: string) {\n    return this.rq.post(this.broker.getApiUrl() + 'businesslogic/isUsernameTaken', { params: { username } }).pipe(map(res => res.data));\n  }\n\n  getUsersByLocation(locationId: string) {\n    return this.broker.getAll('user', Users.simplifiedFields, null, null, [[{ field: 'locationRef', operator: { _id: 'eq' }, value: locationId }]]).pipe(map(res => res.data));\n  }\n\n  getGeofilterUsers(locationId: string, userTags?: Array<string>) {\n    let where = { _id: { inq: [locationId] } };\n    let geofilterQuery: Query = {\n      limit: 0,\n      fields: ['userRef'],\n      subQuery: <SubQuery>{\n        collectionName: 'locations',\n        field: 'locationsRef',\n        values: '_id',\n        where: where\n      }\n    };\n    return this.broker.getAllQuery('geofilters', geofilterQuery).pipe(\n      mergeMap(geofilters => {\n        let userIds: Array<string> = geofilters.data.map(geofilter => geofilter.userRef);\n        userIds = uniq(userIds);\n        let userFilter = [[{ field: '_id', operator: { _id: 'inq' }, value: userIds }]];\n        if (userTags && userTags.length > 0) {\n          userFilter[0].push({ field: 'tags', operator: { _id: 'inq' }, value: userTags });\n        }\n        return this.broker.getAll('user', Users.simplifiedFields, null, null, userFilter).pipe(map(res => res.data));\n      })\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Config } from '../config/config.service';\n\nimport { CoreConfig } from '@shared/common';\n\n@Injectable()\nexport class Version {\n  constructor(private config: Config, private coreConfig: CoreConfig) {}\n\n  public get(includeServerName: boolean) {\n    let retVal: string;\n    let serverName = this.config.serverName.toUpperCase();\n    if (includeServerName && serverName !== 'PRODUCTION') {\n      retVal = this.coreConfig.getAppVersion() + ' - ' + serverName;\n    } else {\n      retVal = this.coreConfig.getAppVersion();\n    }\n    // if (this.coreConfig.isWKWebView()) {\n    //   retVal += ' W';\n    // }\n    return retVal;\n  }\n\n  isCurrentVersionHigherThan(version: string): boolean {\n    let currentVersion = this.coreConfig.getAppVersion();\n    if (currentVersion === version) {\n      return true;\n    }\n\n    let current = currentVersion.split('.');\n    let required = version.split('.');\n    let len = Math.min(current.length, required.length);\n\n    // loop while the components are equal\n    for (let i = 0; i < len; i++) {\n      // A bigger than B\n      if (parseInt(current[i], null) > parseInt(required[i], null)) {\n        return true;\n      }\n      // B bigger than A\n      if (parseInt(current[i], null) < parseInt(required[i], null)) {\n        return false;\n      }\n    }\n    // If one's a prefix of the other, the longer one is greater.\n    if (current.length > required.length) {\n      return true;\n    }\n    if (current.length < required.length) {\n      return false;\n    }\n    // Otherwise they are the same.\n    return true;\n  }\n}\n","import { Injectable } from '@angular/core';\n//import { WorkBook, read, readFile, utils, SSF, write } from 'xlsx';\nimport * as XLSX from 'xlsx';\n//const XLSX = require('xlsx');\nimport { toDate, getUTCOffset, dateAdd, dateFormat } from '@shared/stencil';\n\n//import * as FileSaver from 'file-saver';\nimport saveAs from 'file-saver';\nimport { parse } from 'papaparse';\n\nimport { forEach, get, isArray, isObject, isNumber, keys, find, isDate } from 'lodash-es';\n\n//declare const System: System;\n\n@Injectable()\nexport class Xlsx {\n  // private _xlsx: any;\n  // private _papaparse: any;\n\n  constructor() {}\n\n  // getXlsx() {\n  //     if (this._xlsx) {\n  //         return Promise.resolve(this._xlsx);\n  //     }\n  //     return System.import(/* webpackChunkName: \"xlsx\" */'xlsx').then((xlsx) => {\n  //         this._xlsx = xlsx;\n  //         return xlsx;\n  //     });\n  // }\n\n  // getPapaParse() {\n  //     if (this._papaparse) {\n  //         return Promise.resolve(this._papaparse);\n  //     }\n  //     return System.import(/* webpackChunkName: \"xlsx\" */'papaparse').then((papaparse) => {\n  //         this._papaparse = papaparse;\n  //         return papaparse;\n  //     });\n  // }\n\n  readFile(nativeFile: File | Blob, type = 'blob', encoding?: string): Promise<string> {\n    return new Promise((resolve, reject) => {\n      let fileReader = new FileReader();\n      fileReader.onload = (e: any) => {\n        resolve(e.target.result);\n      };\n      fileReader.onerror = e => reject(e);\n      if (type === 'blob') {\n        fileReader.readAsDataURL(<any>nativeFile);\n      } else if (type === 'binary') {\n        fileReader.readAsBinaryString(<any>nativeFile);\n      } else {\n        fileReader.readAsText(<any>nativeFile, encoding);\n      }\n    });\n  }\n\n  read(file: File) {\n    //return this.getXlsx().then((xlsx: any) => {\n    //return this.getPapaParse().then((papaparse: any) => {\n    return this.readFile(file, 'binary').then(data => {\n      let csv = '';\n      if (file.name.endsWith('csv')) {\n        csv = data;\n      } else {\n        let workbook = XLSX.read(data, { type: 'binary' });\n        let worksheet = workbook.Sheets[workbook.SheetNames[0]];\n        csv = XLSX.utils['sheet_to_csv'](worksheet, { FS: ';' });\n      }\n      let retVal = parse(csv, { skipEmptyLines: true });\n      return retVal.data;\n    });\n    //});\n    //});\n  }\n\n  exportToFile(content, type, encoding, filename) {\n    encoding = encoding || 'charset=ISO-8859-1';\n    filename = filename || 'data.csv';\n    type = type || 'data:application/csv;charset=ISO-8859-1;';\n\n    if (encoding === 'base64') {\n      content = this.b64toBlob(content, type);\n    }\n    let blob = new Blob([content], {\n      type: type\n    });\n    return this.saveBlob(blob, filename);\n  }\n\n  saveBlob(blob: Blob, filename: string) {\n    (<any>saveAs)(blob, filename);\n  }\n\n  getBase64MimeType(base64) {\n    return base64.split(';')[0].replace('data:', '');\n  }\n\n  b64toBlob(b64Data, contentType = null, sliceSize = 512) {\n    if (!contentType) {\n      contentType = this.getBase64MimeType(b64Data);\n    }\n    b64Data = b64Data.replace('data:' + contentType + ';base64,', '').replace(/\\s/g, '');\n    const byteCharacters = atob(b64Data);\n    const byteArrays = [];\n\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n      const slice = byteCharacters.slice(offset, offset + sliceSize);\n      const byteNumbers = new Array(slice.length);\n      for (let i = 0; i < slice.length; i++) {\n        byteNumbers[i] = slice.charCodeAt(i);\n      }\n      const byteArray = new Uint8Array(byteNumbers);\n      byteArrays.push(byteArray);\n    }\n    const blob = new Blob(byteArrays, { type: contentType });\n    return blob;\n  }\n\n  readSheets(file: File) {\n    //return this.getXlsx().then((xlsx: any) => {\n    //return this.getPapaParse().then((papaparse: any) => {\n    return this.readFile(file, 'binary').then(data => {\n      let retVal = [];\n      if (file.name.endsWith('csv')) {\n        retVal.push(parse(data, { skipEmptyLines: true }).data);\n      } else {\n        let workbook = XLSX.read(data, { type: 'binary' });\n        workbook.SheetNames.forEach(sheet => {\n          let v = XLSX.utils['sheet_to_csv'](workbook.Sheets[sheet], { FS: ';' });\n          retVal.push(parse(v, { skipEmptyLines: true }).data);\n        });\n      }\n      return retVal;\n    });\n    //});\n    //});\n  }\n\n  write(title: string, sheets: Array<{ columns: Array<any>; data: Array<any>; title: string }>) {\n    //return this.getXlsx().then((xlsx: any) => {\n    let tables = new Array<any>();\n    let headers = new Array<any>();\n    forEach(sheets, s => {\n      let hasHeader = false;\n      let table = [];\n      let header = [];\n      forEach(s.data, function(d) {\n        let row = [];\n        forEach(s.columns, function(c) {\n          if (!((c.visible === false || c.suppressExport === true || c.action) && c.forceExport !== true)) {\n            let value: any = get(d, c.name);\n            if (c.type === 'address') {\n              value = value && value.address ? value.address : value;\n              if (typeof value === 'object') {\n                value = null;\n              }\n            }\n            if (c.type === 'catalog') {\n              delete value.valid;\n              let retVal = '';\n              keys(value).forEach(function(pid) {\n                let product = find(c.products, (p: any) => {\n                  return p._id === pid;\n                });\n                if (product) {\n                  retVal += product.reference + ' * ' + value[pid] + ',';\n                }\n              });\n              value = retVal; //JSON.stringify(value).replace('{', '').replace('}', '');\n            }\n            if (c.type === 'date' && value) {\n              let m = toDate(value);\n              m = dateAdd(m, 'minutes', getUTCOffset(m));\n              value = m;\n            }\n            if (c.type === 'time' && value) {\n              let t = toDate(value);\n              //t = t.add(t.utcOffset(), 'minutes');\n              value = dateFormat(t, 'HH:mm:ss');\n            }\n            if (c.type === 'datetime' && value) {\n              let dt = toDate(value);\n              //t = t.add(t.utcOffset(), 'minutes');\n              value = dateFormat(dt, 'L LT');\n            }\n            if (c.name === '_acl') {\n              value = value.groups.r; //_difference(value.groups.r, roles);\n            }\n            if (value && value._downloadURL) {\n              value = value._downloadURL;\n            }\n            if (isObject(value) && !isDate(value) && !isArray(value)) {\n              //&& _isEmpty(value)\n              value = null;\n            }\n\n            row.push(value);\n            if (!hasHeader) {\n              header.push(c.displayName || c.name);\n            }\n          }\n        });\n        hasHeader = true;\n        table.push(row);\n      });\n      tables.push(table);\n      headers.push(header);\n    });\n    let wb = { SheetNames: [], Sheets: {}, Props: null };\n    for (let i = 0; i < tables.length; i++) {\n      tables[i].unshift(headers[i]);\n      let wsName = sheets[i].title || 'SheetJs_' + i;\n      let ws = this.sheetFromArrayOfArrays(tables[i]);\n      wb.SheetNames.push(wsName);\n      wb.Sheets[wsName] = ws;\n    }\n    let wbout = XLSX.write(wb, <any>{ bookType: 'xlsx', bookSST: true, type: 'binary' });\n    let filename = title + '-' + dateFormat(new Date(), 'YYYY-MM-DDTHH:MM') + '.xlsx';\n    this.exportToFile(this.s2ab(wbout), 'application/octet-stream', '', filename);\n    //});\n  }\n\n  private datenum(v: any, date1904?: boolean) {\n    if (date1904) {\n      v += 1462;\n    }\n    let epoch: any = Date.parse(v);\n    return (epoch - <any>new Date(Date.UTC(1899, 11, 30))) / (24 * 60 * 60 * 1000);\n  }\n\n  private sheetFromArrayOfArrays(data, opts?) {\n    let ws = {};\n    let range = { s: { c: 10000000, r: 10000000 }, e: { c: 0, r: 0 } };\n    for (let R = 0; R !== data.length; ++R) {\n      for (let C = 0; C !== data[R].length; ++C) {\n        if (range.s.r > R) {\n          range.s.r = R;\n        }\n        if (range.s.c > C) {\n          range.s.c = C;\n        }\n        if (range.e.r < R) {\n          range.e.r = R;\n        }\n        if (range.e.c < C) {\n          range.e.c = C;\n        }\n        let cell: any = {\n          v: data[R][C]\n        };\n        if (cell.v === null) {\n          continue;\n        }\n\n        let cellRef = XLSX.utils.encode_cell({ c: C, r: R });\n\n        if (typeof cell.v === 'number') {\n          cell.t = 'n';\n        } else if (typeof cell.v === 'boolean') {\n          cell.t = 'b';\n        } else if (cell.v instanceof Date) {\n          cell.t = 'n';\n          cell.z = (<any>XLSX.SSF)._table[14];\n          cell.v = this.datenum(cell.v);\n        } else if (isArray(cell.v) && cell.v.length > 0 && isNumber(cell.v[0])) {\n          cell.t = 's';\n          cell.v = '[' + cell.v.join(',') + ']';\n        } else if (isArray(cell.v) && cell.v.length > 0 && !isNumber(cell.v[0])) {\n          cell.t = 's';\n          cell.v = cell.v.join(',');\n        } else if (isArray(cell.v) && cell.v.length === 0) {\n          cell.t = 's';\n          cell.v = '';\n        } else {\n          cell.t = 's';\n        }\n\n        ws[cellRef] = cell;\n      }\n    }\n    if (range.s.c < 10000000) {\n      ws['!ref'] = XLSX.utils.encode_range(range.s, range.e);\n    }\n    return ws;\n  }\n\n  private s2ab(s) {\n    let buf = new ArrayBuffer(s.length);\n    let view = new Uint8Array(buf);\n    for (let i = 0; i !== s.length; ++i) {\n      view[i] = s.charCodeAt(i) & 0xff;\n    }\n    return buf;\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { Translate } from '@shared/translate';\nimport { isBlank } from '@shared/stencil';\nimport { keys as _keys } from 'lodash-es';\n\n@Pipe({ name: 'filter' })\nexport class FilterPipe implements PipeTransform {\n  private translate: Translate;\n\n  constructor(translate: Translate) {\n    this.translate = translate;\n  }\n\n  transform(value: Array<any>, ...args: any[]): any {\n    //value: array of values to filter\n    //args[0]: string to match\n    //args[1]: list of fields to use to compare\n    //args[2]: not sure? seems to exlude if false\n    //args[3]: use translation\n\n    if (!args || !args[0]) {\n      //&& !args[1]\n      return value;\n    } else if (value) {\n      let translate = args[3];\n      return value.filter(item => {\n        if (typeof item === 'string') {\n          return (\n            item &&\n            this.getStringToTest(item, translate)\n              .toLowerCase()\n              .indexOf(args[0].toLowerCase()) >= 0\n          );\n        }\n        let keys = args[1] || _keys(item);\n        keys = [].concat(keys);\n\n        let retVal = false;\n        for (let i = 0; i < keys.length; i++) {\n          let key = keys[i];\n          if (args[0] && args[0].toLowerCase) {\n            if (typeof item[key] === 'string' || item[key] instanceof String) {\n              let index = this.getStringToTest(item[key], translate)\n                .toLowerCase()\n                .indexOf(args[0].toLowerCase());\n              retVal = retVal || (args[2] === false ? index < 0 : index >= 0);\n            }\n          } else if (!args[0] && args[1]) {\n            let bool = item.hasOwnProperty(key) && !isBlank(item[key]); //item.hasOwnProperty(key) && item[key];\n            retVal = retVal || (args[2] === false ? !bool : bool);\n          }\n        }\n        return retVal;\n      });\n    }\n  }\n\n  getStringToTest(s: string, translate: boolean): string {\n    if (translate && this.translate) {\n      return this.translate.get(s.toString().toUpperCase());\n    } else {\n      return s;\n    }\n  }\n}\n","import { NgModule, ModuleWithProviders, Provider } from '@angular/core';\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http'; //, HTTP_INTERCEPTORS\n\nimport { CommonModule, Network, Log } from '@shared/common';\nimport { TranslateModule } from '@shared/translate';\n\n//import { DATA_PROVIDERS } from './services'; //HttpCustomInterceptor, Config\nimport { Algorithms } from './services/algorithms/algorithms.service';\nimport { Authentication } from './services/authentication/authentication.service';\nimport { AuthenticationGuard, CanDeactivateGuard } from './services/authentication/authentication.guard';\nimport { BackupService } from './services/backup/backup.service';\nimport { Box } from './services/box/box.service';\nimport { Blog } from './services/blog/blog.service';\nimport { Broker } from './services/broker/broker.service';\nimport { Cache } from './services/cache/cache.service';\nimport { Config } from './services/config/config.service';\nimport { CurrentSessionResolver } from './services/authentication/current-session.resolver';\nimport { Dashboard } from './services/dashboard/dashboard.service';\nimport { Files } from './services/files/files.service';\nimport { FilesBroker } from './services/files/files-broker.service';\nimport { Googlemaps } from './services/googlemaps/googlemaps.service';\nimport { Googletranslate } from './services/googletranslate/googletranslate.service';\nimport { HttpCustomInterceptor } from './services/http-interceptor/http-interceptor.service';\nimport { PlatformService } from './services/platform/platform.service';\nimport { LoadingBar } from './services/loading-bar/loading-bar.service';\nimport { Locations } from './services/locations/locations.service';\nimport { Loopback } from './services/loopback/loopback.service';\nimport { Missiondescriptions } from './services/missiondescriptions/missiondescriptions.service';\nimport { Models } from './services/models/models.service';\nimport { Print } from './services/print/print.service';\nimport { Push } from './services/push/push.service';\nimport { Requestor } from './services/requestor/requestor.service';\nimport { Security } from './services/security/security.service';\nimport { Session } from './services/session/session.service';\nimport { Smartloc } from './services/smartloc/smartloc.service';\nimport { Tenants } from './services/tenants/tenants.service';\nimport { Unsplash } from './services/unsplash/unsplash.service';\nimport { Users } from './services/users/users.service';\nimport { Version } from './services/version/version.service';\nimport { Workplace } from './services/workplace/workplace.service';\nimport { Xlsx } from './services/xlsx/xlsx.service';\nlet SERVICES = [\n  Algorithms, //\n  Authentication,\n  AuthenticationGuard,\n  BackupService,\n  Box,\n  Blog,\n  Broker,\n  CanDeactivateGuard,\n  Cache,\n  Config,\n  CurrentSessionResolver,\n  Dashboard,\n  Files,\n  FilesBroker,\n  Googlemaps,\n  Googletranslate,\n  HttpCustomInterceptor,\n  PlatformService,\n  LoadingBar,\n  Locations,\n  Loopback,\n  Missiondescriptions,\n  Models,\n  Print,\n  Push,\n  Requestor,\n  Security,\n  Session,\n  Smartloc,\n  Tenants,\n  Unsplash,\n  Users,\n  Version,\n  Workplace,\n  Xlsx\n];\n\nimport { FilterPipe } from './pipes/filter/filter.pipe';\n\nlet PIPES = [FilterPipe];\n\nimport { FileTransfer } from '@ionic-native/file-transfer/ngx';\nimport { DocumentViewer } from '@ionic-native/document-viewer/ngx';\nimport { Device } from '@ionic-native/device/ngx';\nimport { File as FileNative } from '@ionic-native/file/ngx';\nimport { FileOpener } from '@ionic-native/file-opener/ngx';\nimport { OneSignal } from '@ionic-native/onesignal/ngx';\nimport { Push as PushNative } from '@ionic-native/push/ngx';\n\n@NgModule({\n  declarations: [...PIPES],\n  imports: [CommonModule, TranslateModule, HttpClientModule],\n  exports: [CommonModule, TranslateModule, HttpClientModule, ...PIPES]\n})\nexport class DataCoreModule {\n  static forRoot(configuredProviders: Array<Provider> = []): ModuleWithProviders {\n    return {\n      ngModule: DataCoreModule,\n      providers: [\n        ...SERVICES,\n        ...configuredProviders,\n        FileTransfer,\n        DocumentViewer,\n        Device,\n        FileOpener,\n        OneSignal,\n        PushNative,\n        FileNative,\n        {\n          provide: HTTP_INTERCEPTORS,\n          useClass: HttpCustomInterceptor,\n          deps: [Config, Network, Log],\n          multi: true\n        }\n      ]\n    };\n  }\n}\n","import { Model } from '../../decorators/model/model.decorator';\nimport { IAggregateLog } from '@shared/stencil';\n\n@Model({\n  className: 'AggregateLog',\n  collectionName: 'aggregateLogs',\n  fields: ['*'],\n  include: []\n})\nexport class AggregateLog extends IAggregateLog {}\n","import { Model } from '../../decorators/model/model.decorator';\nimport { Searchable } from '../../decorators/searchable/searchable.decorator';\nimport { Editable } from '../../decorators/editable/editable.decorator';\nimport { FormFieldType, IAlgorithm } from '@shared/stencil';\n\n@Model({\n  className: 'Algorithm',\n  collectionName: 'algorithm',\n  fields: ['name', '_id', 'stitch'],\n  include: []\n})\nexport class Algorithm extends IAlgorithm {\n  @Editable('Algorithm', { required: true, type: FormFieldType.text })\n  @Searchable('Algorithm')\n  name: string;\n\n  stitch?: boolean;\n}\n","import { Model } from '../../decorators/model/model.decorator';\nimport { FormFieldType, IAutorenewConfig } from '@shared/stencil';\nimport { MissionDescription } from '../mission-description/mission-description.interface';\nimport { Searchable } from '../../decorators/searchable/searchable.decorator';\nimport { Editable } from '../../decorators/editable/editable.decorator';\n\nimport { range } from 'lodash-es';\n\n@Model({\n  className: 'AutorenewConfig',\n  collectionName: 'autorenewConfig',\n  fields: ['*'],\n  include: ['descriptionSource', 'descriptionTarget']\n})\nexport class AutorenewConfig extends IAutorenewConfig {\n  @Editable('AutorenewConfig', { required: true, type: FormFieldType.text })\n  @Searchable('AutorenewConfig')\n  title: string;\n\n  @Editable('AutorenewConfig', {\n    required: true,\n    title: 'PREFIX',\n    type: FormFieldType.text,\n    flex: 50\n  })\n  @Searchable('AutorenewConfig')\n  prefix_title: string;\n\n  @Editable('AutorenewConfig', {\n    type: FormFieldType.autocomplete,\n    translate: true,\n    values: range(1, 5),\n    flex: 50,\n    clearable: true,\n    icon: 'yo-flag'\n  })\n  priority?: number;\n\n  @Editable('AutorenewConfig', {\n    type: FormFieldType.autocomplete,\n    title: 'SOURCE',\n    collectionName: 'missiondescriptions',\n    required: false,\n    columnDefinition: { name: 'title' },\n    icon: 'yo-list2',\n    filterable: false,\n    sortable: false,\n    filters: [[{ field: 'archived', operator: { _id: 'neq' }, value: true }]],\n    hiddenFields: ['archived']\n  })\n  descriptionSource: MissionDescription;\n\n  @Editable('AutorenewConfig', {\n    type: FormFieldType.autocomplete,\n    title: 'TARGET',\n    collectionName: 'missiondescriptions',\n    required: false,\n    columnDefinition: { name: 'title' },\n    icon: 'yo-list2',\n    filterable: false,\n    sortable: false,\n    filters: [[{ field: 'archived', operator: { _id: 'neq' }, value: true }]],\n    hiddenFields: ['archived']\n  })\n  descriptionTarget: MissionDescription;\n\n  @Editable('AutorenewConfig', { type: FormFieldType.toggle })\n  @Searchable('AutorenewConfig')\n  active: boolean;\n}\n","import { Model } from '../../decorators/model/model.decorator';\nimport { Editable } from '../../decorators/editable/editable.decorator';\nimport { FormFieldType, IBackup } from '@shared/stencil';\n\n@Model({\n  className: 'Backup',\n  fields: ['*'],\n  include: []\n})\nexport class Backup extends IBackup {\n  @Editable('Backup', { required: false, type: FormFieldType.date })\n  date: Date;\n\n  @Editable('Backup', { required: true, type: FormFieldType.autocomplete, clearable: true })\n  backup: { _id: string; name: string; description: string; badge: string };\n\n  @Editable('Backup', {\n    required: false,\n    type: FormFieldType.autocomplete,\n    clearable: true,\n    multiple: true,\n    values: ['missions', 'missiondescription', 'missiondatas', 'user', 'locations', 'locationtypes', 'missiondatas', 'photos']\n  })\n  collections: Array<string>;\n}\n","import { FormFieldType, ICatalog } from '@shared/stencil';\n\nimport { Model } from '../../decorators/model/model.decorator';\nimport { Searchable } from '../../decorators/searchable/searchable.decorator';\nimport { Editable } from '../../decorators/editable/editable.decorator';\nimport { FORM_FILES_IMAGE_FILTER } from '../constants/constants.interface';\nimport { getGroupsTransform } from '../condition/condition.interface';\n\n@Model({\n  className: 'Catalog',\n  collectionName: 'catalogs',\n  fields: ['*'],\n  include: [],\n  icon: 'yo-catalogue'\n})\nexport class Catalog extends ICatalog {\n  @Editable('Catalog', { required: true, type: FormFieldType.text })\n  @Searchable('Catalog')\n  title: string;\n\n  @Editable('Catalog', {\n    type: FormFieldType.autocomplete,\n    maxWidth: 600,\n    filters: FORM_FILES_IMAGE_FILTER,\n    forceModal: true,\n    hiddenFields: ['mimeType'],\n    mode: 'tile',\n    pageSize: 20,\n    fixedPosition: true,\n    maxHeight: 300,\n    crop: 'square',\n    collectionName: 'files',\n    title: 'PHOTO',\n    required: true,\n    columnDefinition: { name: '_downloadURL' }\n  })\n  image: any;\n\n  @Editable('Catalog', { type: FormFieldType.textarea })\n  description: string;\n\n  @Editable('Catalog', {\n    title: 'GROUPS',\n    type: FormFieldType.autocomplete,\n    collectionName: 'groups',\n    filters: [[{ field: 'isRole', operator: { _id: 'neq' }, value: true }, { field: 'type', operator: { _id: 'nin' }, value: ['plan'] }]],\n    hiddenFields: ['isRole', 'type'],\n    idOnly: true,\n    mapTransform: getGroupsTransform,\n    multiple: true,\n    clearable: false,\n    required: true\n  })\n  group: string;\n}\n","import { Model } from '../../decorators/model/model.decorator';\nimport { FormFieldType, IFormField, Filters, IChartDefinition } from '@shared/stencil';\n\nimport { Searchable } from '../../decorators/searchable/searchable.decorator';\nimport { Editable } from '../../decorators/editable/editable.decorator';\nimport { MissionDescription } from '../mission-description/mission-description.interface';\n\nexport const CHART_TYPES = ['line', 'spline', 'area', 'areaspline', 'column', 'bar', 'radar', 'pie', 'doughnut', 'treemap'];\nexport const CHART_DATEGROUPINGBY = ['year', 'month', 'week', 'day', 'calendar'];\nexport const CHART_SHOW_AS = ['chart', 'grid', 'map', 'micro'];\nexport const CHART_DATETIMEFORMAT = ['d', 'dd', 'DD', 'w', 'MMM'];\nexport const CHART_TIMESCALE = ['last7days', 'lastweek', 'last30days', 'lastmonth', 'last90days', 'lastquarter', 'last365days', 'lastyear'];\n\nlet conditions = {\n  showAsChart: 'showAs==\"chart\"',\n  isMissionOrMissionData: 'collectionName==\"missions\" or collectionName==\"missiondatas\"',\n  isMissionData: 'collectionName==\"missiondatas\"',\n  isMission: 'collectionName==\"missions\"',\n  groupByDate: 'groupByDate == 1'\n};\n\nexport interface IMissionField {\n  selectedDescription: MissionDescription;\n  fields?: Array<IFormField> | IFormField;\n}\n\nexport interface IMissionFields {\n  selectedDescription: MissionDescription;\n  fields?: Array<IFormField>;\n}\n\nexport function onChartMissionFieldsChange(missionfields, data) {\n  if (missionfields && missionfields.selectedDescription) {\n    if (!data.title) {\n      data.title = missionfields.selectedDescription.title;\n    }\n  }\n}\n\n@Model({\n  className: 'ChartDefinition',\n  collectionName: 'chartdefinitions',\n  fields: ['*'],\n  include: []\n})\nexport class ChartDefinition extends IChartDefinition {\n  @Editable('ChartDefinition', {\n    title: 'QUERYON',\n    type: FormFieldType.autocomplete,\n    translate: true,\n    values: ['missions', 'missiondatas', 'custom'],\n    clearable: false,\n    required: true,\n    autoselect: true\n  })\n  collectionName?: string;\n\n  @Editable('ChartDefinition', {\n    type: FormFieldType.missionfield,\n    condition: conditions.isMissionData,\n    title: 'CAMPAIGN',\n    required: true,\n    onChange: onChartMissionFieldsChange\n  })\n  missionfields?: IMissionField;\n\n  @Editable('ChartDefinition', { required: true, type: FormFieldType.text })\n  @Searchable('ChartDefinition')\n  title: string;\n\n  @Editable('ChartDefinition', { required: false, type: FormFieldType.textarea })\n  @Searchable('ChartDefinition')\n  description?: string;\n\n  @Editable('ChartDefinition', {\n    title: 'SHOWAS',\n    type: FormFieldType.autocomplete,\n    flex: 33,\n    values: CHART_SHOW_AS\n  })\n  showAs?: string;\n\n  @Editable('ChartDefinition', {\n    type: FormFieldType.autocomplete,\n    values: CHART_TYPES,\n    flex: 33,\n    condition: conditions.showAsChart,\n    translate: true,\n    clearable: false\n  })\n  type?: string;\n\n  @Editable('ChartDefinition', {\n    title: 'PALETTE',\n    type: FormFieldType.autocomplete,\n    flex: 34,\n    condition: conditions.showAsChart,\n    translate: true,\n    values: ['palette0', 'palette1', 'palette2', 'palette3'],\n    clearable: false,\n    autoselect: true\n  })\n  palette?: string;\n\n  @Editable('ChartDefinition', {\n    type: FormFieldType.checkbox,\n    flex: 34,\n    condition: conditions.isMissionOrMissionData\n  })\n  groupByDate?: boolean;\n\n  @Editable('ChartDefinition', {\n    title: 'DATETIMEFORMAT',\n    type: FormFieldType.autocomplete,\n    flex: 33,\n    tag: true,\n    condition: conditions.groupByDate,\n    values: CHART_DATETIMEFORMAT,\n    clearable: true\n  })\n  datetimeFormat?: string;\n\n  @Editable('ChartDefinition', {\n    title: 'TIMESCALE',\n    type: FormFieldType.autocomplete,\n    flex: 33,\n    condition: conditions.groupByDate,\n    values: CHART_TIMESCALE\n  })\n  timescale?: string;\n\n  @Editable('ChartDefinition', {\n    title: 'GROUPBY',\n    type: FormFieldType.autocomplete,\n    translate: true,\n    flex: 34,\n    values: CHART_DATEGROUPINGBY,\n    condition: conditions.groupByDate,\n    clearable: false\n  })\n  dateGrouping?: string;\n\n  @Editable('ChartDefinition', {\n    type: FormFieldType.checkbox,\n    flex: 33,\n    condition: conditions.isMission\n  })\n  groupByTag?: boolean;\n\n  @Editable('ChartDefinition', {\n    type: FormFieldType.checkbox,\n    flex: 33,\n    condition: conditions.isMission\n  })\n  groupByCampaign?: boolean;\n\n  @Editable('ChartDefinition', { flex: 33, type: FormFieldType.checkbox })\n  showLegend?: boolean;\n\n  @Editable('ChartDefinition', { flex: 33, type: FormFieldType.checkbox })\n  showValues?: boolean;\n\n  @Editable('ChartDefinition', { flex: 33, type: FormFieldType.checkbox })\n  colorByPoint?: boolean;\n\n  @Editable('ChartDefinition', {\n    type: FormFieldType.autocomplete,\n    flex: 34,\n    values: ['normal', 'percent'],\n    clearable: true\n  })\n  stacked?: string;\n\n  @Editable('ChartDefinition', { required: false, type: FormFieldType.textarea })\n  @Searchable('ChartDefinition')\n  custom?: string;\n\n  mapTransform?: (retVal: Array<{ _id: string; serie?: string; value: number; color?: string }>, cd?: ChartDefinition, broker?: any, component?: any) => {};\n  filters?: Filters;\n\n  showPreviousYear?: boolean;\n}\n","import { Model } from '../../decorators/model/model.decorator';\nimport { Searchable } from '../../decorators/searchable/searchable.decorator';\nimport { Editable } from '../../decorators/editable/editable.decorator';\nimport { FormFieldType, ICurrency } from '@shared/stencil';\nimport { Translate } from '@shared/translate';\nimport { IAcl } from '../entity/entity.interface';\n\n@Model({\n  className: 'Currency',\n  collectionName: 'currencies',\n  fields: ['*'],\n  include: []\n})\nexport class Currency implements ICurrency {\n  _id?: string;\n  _acl?: IAcl;\n  _lmt?: string;\n  _ect?: string;\n\n  @Editable('Currency', {\n    required: true,\n    type: FormFieldType.autocomplete,\n    title: 'LANGUAGE',\n    translate: true,\n    values: Translate.availablesLanguage,\n    clearable: false\n  })\n  @Searchable('Currency')\n  currency: string;\n\n  @Editable('Currency', { required: true, type: FormFieldType.text })\n  @Searchable('Currency')\n  symbol: string;\n\n  @Editable('Currency', { required: true, type: FormFieldType.number, title: 'RATE1' })\n  @Searchable('Currency')\n  rate: number;\n}\n","import { ChartDefinition } from '../chart-definition/chart-definition.interface';\n\nimport { Model } from '../../decorators/model/model.decorator';\nimport { Searchable } from '../../decorators/searchable/searchable.decorator';\nimport { Editable } from '../../decorators/editable/editable.decorator';\nimport { FormFieldType, IDashboard } from '@shared/stencil';\nimport { Tenant } from '../tenant/tenant.interface';\nimport { ROLES_CONDITIONS } from '../condition/condition.interface';\n\n@Model({\n  className: 'Dashboard',\n  collectionName: 'dashboards',\n  fields: ['*'],\n  include: []\n})\nexport class Dashboard extends IDashboard {\n  @Editable('Dashboard', { required: true, type: FormFieldType.text, sortable: true })\n  @Searchable('Dashboard')\n  title: string;\n\n  @Editable('Dashboard', { required: false, type: FormFieldType.textarea })\n  @Searchable('Dashboard')\n  description: string;\n\n  @Editable('Dashboard', {\n    name: '_lmt',\n    title: 'DATE',\n    type: FormFieldType.datetime,\n    readonly: true,\n    sortable: true,\n    filterableAdvanced: true,\n    advanced: true\n  })\n  _lmt: any;\n\n  tabs: Array<{\n    title: string;\n    items: Array<{\n      col: number;\n      row: number;\n      sizex: number;\n      sizey: number;\n      definition: ChartDefinition;\n    }>;\n  }>;\n\n  @Editable('Dashboard', {\n    required: true,\n    title: 'TENANT',\n    type: FormFieldType.autocomplete,\n    collectionName: 'tenants',\n    columnDefinition: { name: 'name' },\n    multiple: false,\n    filterable: true,\n    condition: [ROLES_CONDITIONS.isAdmin]\n  })\n  _tenant: Tenant;\n  _tenantRef?: string;\n}\n","export interface IAcl {\n  creator: string;\n  groups: { r: Array<string>; w: Array<string> };\n  //users: { r: Array<string>; w: Array<string> };\n}\n\nexport interface IEntity {\n  _id?: string | number | boolean;\n  _acl?: IAcl;\n  _lmt?: string;\n  _ect?: string;\n}\n\nexport interface IProperty {\n  title?: string;\n  type?: string;\n  values: Array<any>;\n}\n\nexport class Entity implements IEntity {\n  public _id?: string | number | boolean;\n  public _acl?: IAcl;\n  public _lmt?: string;\n  public _ect?: string;\n\n  public properties?: IProperty[];\n\n  constructor(source?: any) {\n    if (typeof source === 'string' || typeof source === 'number' || typeof source === 'boolean' || typeof source === 'undefined') {\n      this._id = source;\n    }\n  }\n}\n","import { Model } from '../../decorators/model/model.decorator';\nimport { Searchable } from '../../decorators/searchable/searchable.decorator';\nimport { Editable } from '../../decorators/editable/editable.decorator';\nimport { getGroupsTransform, ROLES_CONDITIONS } from '../condition/condition.interface';\n\nimport { FormFieldType, IFile } from '@shared/stencil';\nimport { Tenant } from '../tenant/tenant.interface';\n\nexport function onUrlChange(doc, data) {\n  if (doc && doc.name) {\n    data._filename = doc.name;\n  }\n  if (doc && doc.size) {\n    data.size = doc.size;\n  }\n  if (doc && doc.type) {\n    data.mimeType = doc.type;\n  }\n}\n\n@Model({\n  className: 'File',\n  collectionName: 'files',\n  fields: ['*'],\n  include: ['container'],\n  icon: 'yo-file'\n})\nexport class File extends IFile {\n  @Editable('File', {\n    name: '_ect',\n    title: 'CREATIONDATE',\n    type: FormFieldType.date,\n    readonly: true,\n    sortable: true,\n    exportOrder: 21,\n    filterableAdvanced: true\n  })\n  _ect?: any;\n\n  @Editable('File', {\n    type: FormFieldType.documentuploader,\n    filterable: false,\n    required: true,\n    title: 'DOCUMENT',\n    columnDefinition: { width: 52 },\n    onChange: onUrlChange\n  })\n  _downloadURL: string;\n\n  @Editable('File', { title: 'TITLE', required: true, type: FormFieldType.text, sortable: true })\n  @Searchable('File')\n  _filename: string;\n\n  @Editable('File', { visible: false, type: FormFieldType.number, sortable: true })\n  size: number;\n\n  @Editable('File', { visible: false, type: FormFieldType.autocomplete, filterable: true })\n  @Searchable('File')\n  mimeType: string;\n\n  @Editable('File', { type: FormFieldType.toggle, columnDefinition: { width: 80 } })\n  hideMobile: boolean;\n\n  @Editable('File', {\n    required: true,\n    name: 'group',\n    columnDefinition: { name: 'group', forceName: true },\n    title: 'GROUPS',\n    type: FormFieldType.autocomplete,\n    collectionName: 'groups',\n    filters: [[{ field: 'isRole', operator: { _id: 'neq' }, value: true }, { field: 'type', operator: { _id: 'nin' }, value: ['plan'] }]],\n    hiddenFields: ['isRole', 'type'],\n    idOnly: true,\n    mapTransform: getGroupsTransform,\n    multiple: true,\n    clearable: false\n  })\n  group: any;\n\n  @Editable('File', {\n    type: FormFieldType.autocomplete,\n    tag: true,\n    allowCustomTag: true,\n    collectionName: 'files',\n    multiple: true,\n    icon: 'yo-flag',\n    subQuery: { field: 'fileRef', values: '_id' }\n  })\n  @Searchable('File')\n  tags?: Array<string>;\n\n  @Editable('File', {\n    required: true,\n    title: 'TENANT',\n    type: FormFieldType.autocomplete,\n    collectionName: 'tenants',\n    columnDefinition: { name: 'name' },\n    multiple: false,\n    filterable: true,\n    condition: [ROLES_CONDITIONS.isAdmin]\n  })\n  _tenant: Tenant;\n  _tenantRef?: string;\n}\n","import { Model } from '../../decorators/model/model.decorator';\nimport { Searchable } from '../../decorators/searchable/searchable.decorator';\nimport { Editable } from '../../decorators/editable/editable.decorator';\nimport { getGroupsTransform } from '../condition/condition.interface';\n\nimport { FormFieldType, IFolder, IFileOrFolder } from '@shared/stencil';\n\n@Model({\n  className: 'Folder',\n  collectionName: 'folders',\n  fields: ['*'],\n  include: ['container'],\n  icon: 'yo-folder'\n})\nexport class Folder extends IFolder {\n  @Editable('Folder', { title: 'TITLE', required: true, type: FormFieldType.text })\n  @Searchable('Folder')\n  name: string;\n\n  @Editable('Folder', {\n    title: 'GROUPS',\n    type: FormFieldType.autocomplete,\n    collectionName: 'groups',\n    filters: [[{ field: 'isRole', operator: { _id: 'neq' }, value: true }, { field: 'type', operator: { _id: 'nin' }, value: ['plan'] }]],\n    hiddenFields: ['isRole', 'type'],\n    idOnly: true,\n    mapTransform: getGroupsTransform,\n    multiple: true,\n    clearable: false,\n    required: true\n  })\n  group: string;\n}\n\n@Model({\n  className: 'FileOrFolder',\n  collectionName: 'filesFolders',\n  fields: ['*'],\n  include: ['container']\n})\nexport class FileOrFolder extends IFileOrFolder {\n  @Searchable('FileOrFolder') name?: string;\n  @Searchable('FileOrFolder') _filename?: string;\n\n  @Searchable('FileOrFolder') mimeType?: string;\n}\n","import { toDate, utc, dateAdd, startOf } from '@shared/stencil';\n\nexport function getStartAndEndDates(timescale, endDate?: Date | string, amount?: number, notsliding?: boolean) {\n  let lastDate = endDate ? toDate(endDate) : new Date();\n  amount = amount || 7;\n  let period = 'days';\n  let startof = 'day';\n  switch (timescale) {\n    case 'last30days':\n      amount = 30;\n      period = 'days';\n      break;\n    case 'last90days':\n      amount = 90;\n      period = 'days';\n      break;\n    case 'last365days':\n      amount = 365;\n      period = 'days';\n      break;\n    case 'lastweek':\n      amount = 0;\n      period = 'weeks';\n      break;\n    case 'lastmonth':\n      amount = 0;\n      period = 'months';\n      startof = 'month';\n      break;\n    case 'lastquarter':\n      amount = 2;\n      period = 'months';\n      startof = 'month';\n      break;\n    case 'lastyear':\n      amount = 0;\n      period = 'years';\n      startof = 'year';\n      break;\n    case 'last7days':\n      amount = 7;\n      period = 'days';\n      startof = 'day';\n      break;\n\n    default:\n      if (notsliding) {\n        amount = amount ? amount - 1 : 0;\n        period = timescale;\n        startof = timescale;\n      } else {\n        amount = amount || 1;\n        period = timescale;\n        startof = 'day';\n      }\n\n      break;\n  }\n  //use .utc() to get the startOf with no offset issues\n  return [startOf(dateAdd(utc(lastDate), period, -amount), startof).toISOString(), lastDate.toISOString()];\n}\n","import { Editable } from '../../decorators/editable/editable.decorator';\nimport { dateAdd, FormFieldType, IKpi, Filters, IDatesRange } from '@shared/stencil';\nimport { getStartAndEndDates as getStartAndEndDatesCore } from '../dates/dates.interface';\nimport { MissionDescription } from '../mission-description/mission-description.interface';\nimport { ChartDefinition } from '../chart-definition/chart-definition.interface';\nimport { Model } from '../../decorators/model/model.decorator';\n\nimport { Colors } from '@shared/common';\nimport { Translate } from '@shared/translate';\n\nimport { merge, isNaN, cloneDeep } from 'lodash-es';\n\n@Model({\n  className: 'BaseKpi'\n})\nexport class BaseKpi extends IKpi {\n  @Editable('BaseKpi', { tabIndex: 2, tab: 'ADVANCED', type: FormFieldType.number, advanced: true })\n  pointPadding: boolean;\n\n  @Editable('BaseKpi', {\n    tabIndex: 2,\n    tab: 'ADVANCED',\n    type: FormFieldType.number,\n    advanced: true,\n    min: 1\n  })\n  numberPrecision: number;\n\n  dates: IDatesRange;\n\n  @Editable('BaseKpi', {\n    tabIndex: 2,\n    tab: 'ADVANCED',\n    type: FormFieldType.autocomplete,\n    translate: true,\n    values: ['sum', 'avg', 'min', 'max']\n  })\n  accumulator: string;\n\n  public static getChartDefinition(kpi: any, cd: ChartDefinition, translate: Translate) {\n    merge(cd, {\n      description: kpi.description,\n      title: kpi.title,\n      showAs: kpi.showAs || cd.showAs || 'chart',\n      showValues: kpi.showValues,\n      showLegend: kpi.showLegend === false ? false : true,\n      legendValue: kpi.accumulator\n    });\n\n    if (kpi && kpi.groupBySlider) {\n      switch (kpi.groupBySlider.toString()) {\n        case 'day':\n          cd.dateGrouping = 'hour';\n          kpi.dates = {\n            mode: 'dynamic',\n            amount: 1,\n            timescale: 'day'\n          };\n          break;\n\n        case 'week':\n          cd.dateGrouping = 'day';\n          kpi.dates = {\n            mode: 'dynamic',\n            amount: 1,\n            timescale: 'week'\n          };\n          break;\n\n        case 'month':\n          cd.dateGrouping = 'week';\n          kpi.dates = {\n            mode: 'dynamic',\n            amount: 4,\n            timescale: 'week'\n          };\n          //cd.type = kpi.chartType || 'column';\n          break;\n\n        case '3months':\n          cd.dateGrouping = 'week';\n          kpi.dates = {\n            mode: 'dynamic',\n            amount: 3,\n            timescale: 'month'\n          };\n          //cd.type = kpi.chartType || 'column';\n          break;\n\n        case '6months':\n          cd.dateGrouping = 'month';\n          kpi.dates = {\n            mode: 'dynamic',\n            amount: 6,\n            timescale: 'month'\n          };\n          //cd.type = kpi.chartType || 'column';\n          break;\n\n        case 'year':\n          cd.dateGrouping = 'month';\n          kpi.dates = {\n            mode: 'dynamic',\n            amount: 1,\n            timescale: 'year'\n          };\n          //cd.type = kpi.chartType || 'column';\n          break;\n      }\n    }\n  }\n\n  public static getDateFormat(groupBy) {\n    let format = '%Y-%m-%d';\n    if (groupBy && groupBy.toString) {\n      switch (groupBy.toString()) {\n        case 'day':\n          format = '%Y-%m-%d %H:00';\n          break;\n\n        case 'week':\n          format = '%Y-%m-%d';\n          break;\n\n        case 'month':\n          format = '%G-%V';\n          break;\n\n        case '3months':\n          format = '%G-%V';\n          break;\n\n        case '6months':\n          format = '%Y-%m';\n          break;\n\n        case 'year':\n        case '2':\n          format = '%Y-%m';\n          break;\n      }\n    }\n    return format;\n  }\n\n  public static getDates(kpi: BaseKpi, showPreviousYear?: boolean): { startDate?: string; endDate?: string } {\n    let retVal: any = {};\n    if (kpi.dates) {\n      if (kpi.dates.mode === 'calendar') {\n        if (kpi.dates.startDate) {\n          retVal.startDate = kpi.dates.startDate;\n        }\n        if (kpi.dates.endDate) {\n          retVal.endDate = kpi.dates.endDate;\n        }\n      }\n      if (kpi.dates.mode === 'dynamic') {\n        let dates = this.getStartAndEndDates(kpi.dates.timescale, null, kpi.dates.amount, kpi.dates.notsliding);\n        retVal.startDate = dates[0];\n        retVal.endDate = dates[1];\n      }\n    }\n    if (showPreviousYear) {\n      if (retVal.startDate) {\n        retVal.startDate = dateAdd(retVal.startDate, 'years', -1).toISOString();\n      }\n      if (retVal.endDate) {\n        retVal.endDate = dateAdd(retVal.endDate, 'years', -1).toISOString();\n      }\n    }\n\n    return retVal;\n  }\n\n  public static getStartAndEndDates(timescale, endDate?: Date | string, amount?: number, notsliding?: boolean) {\n    return getStartAndEndDatesCore(timescale, endDate, amount, notsliding);\n  }\n\n  public static fixDates(cd: ChartDefinition, date: string) {\n    let retVal;\n    if (!date) {\n      return new Date().getTime();\n    }\n    if (cd.dateGrouping === 'week' || (cd.kpiFormValues && cd.kpiFormValues.groupBySlider === 'week' && cd.kpiFormValues.category !== 'healthscore')) {\n      let y = <any>date.split('-')[0];\n      let w = <any>date.split('-')[1];\n      // // MongoDB week begins on Sundays and days preceding the first Sudnay of the year are in Week 0;\n      // // So,  weekStartDay = days in Week 0 + first day of the week number\n      // let yearStartDay = new Date(y, 0, 0).getDay();\n      // let daysInWeek0 = yearStartDay === 0 ? 0 : 7 - yearStartDay;\n      // let d = w === '00' ? 0 : daysInWeek0 + (w - 1) * 7;\n      // let weekStart = new Date(y, 0, d);\n\n      // retVal = weekStart.getTime();\n      // //retVal = moment('2011-01-01').year(y).isoWeek(w).toDate().getTime(); //.startOf('day')\n\n      let simple = new Date(y, 0, 1 + (w - 1) * 7);\n      let dow = simple.getDay();\n      let isoWeekStart = simple;\n      if (dow <= 4) {\n        isoWeekStart.setDate(simple.getDate() - simple.getDay() + 1);\n      } else {\n        isoWeekStart.setDate(simple.getDate() + 8 - simple.getDay());\n      }\n      return isoWeekStart.getTime();\n    } else {\n      retVal = new Date(date).getTime();\n    }\n    return retVal;\n  }\n\n  public static getColor(value) {\n    let color = Colors.black;\n    if (!isNaN(value)) {\n      if (value < 33) {\n        color = Colors.danger;\n      } else if (value < 75) {\n        color = Colors.warning;\n      } else if (value >= 75) {\n        color = Colors.success;\n      }\n    }\n    return color;\n  }\n\n  public static setDateFilters(filters: Filters, dates: { startDate?: string; endDate?: string }, field = 'finishedDate', allowNotExits = true) {\n    if (dates.startDate || dates.endDate) {\n      let filter: any;\n      if (allowNotExits) {\n        filters.push(cloneDeep(filters[0]));\n        filter = <any>{ operator: { _id: 'exists' }, value: false };\n        filter.field = field;\n        filters[1].push(filter);\n      }\n      if (dates.startDate) {\n        filter = <any>{ operator: { _id: 'gte' }, value: dates.startDate };\n        filter.field = field;\n        filters[0].push(filter);\n      }\n      if (dates.endDate) {\n        filter = <any>{ operator: { _id: 'lt' }, value: dates.endDate };\n        filter.field = field;\n        filters[0].push(filter);\n      }\n    }\n  }\n\n  public static setLocationTagsFilters(filters: Filters, locationTags: Array<string>) {\n    if (locationTags && locationTags.length) {\n      filters[0].push({\n        field: 'tags',\n        collectionName: 'locations',\n        operator: { _id: 'inq' },\n        value: locationTags,\n        type: FormFieldType.autocomplete,\n        subQuery: { field: 'locationRef', values: '_id' }\n      });\n    }\n  }\n\n  public static setUserTagsFilters(filters: Filters, userTags: Array<string>) {\n    if (userTags && userTags.length) {\n      filters[0].push({\n        field: 'tags',\n        collectionName: 'user',\n        operator: { _id: 'inq' },\n        value: userTags,\n        type: FormFieldType.autocomplete,\n        subQuery: { field: 'ownerRef', values: '_id', leftJoin: true }\n      });\n    }\n  }\n\n  public static setCampaignFilters(campaigns: Array<MissionDescription>, campaignTags: Array<string>, filters: Filters, missionType: string) {\n    if (campaigns && campaigns.length > 0) {\n      filters[0].unshift({\n        field: 'descriptionRef',\n        operator: { _id: 'inq' },\n        value: campaigns.map(c => c._id)\n      });\n    } else if (campaignTags && campaignTags.length > 0) {\n      filters[0].push({\n        field: 'tags',\n        collectionName: 'missiondescriptions',\n        operator: { _id: 'inq' },\n        value: campaignTags,\n        type: FormFieldType.autocomplete,\n        subQuery: { field: 'descriptionRef', values: '_id' }\n      });\n    }\n    if (missionType) {\n      filters[0].push({ field: 'type', operator: { _id: 'inq' }, value: [missionType] });\n    }\n  }\n\n  public static getDateFormatMoment(groupBy) {\n    let format = '';\n    if (groupBy && groupBy.toString) {\n      switch (groupBy.toString()) {\n        case 'week':\n          format = 'YYYY-WW';\n          break;\n\n        case 'month':\n          format = 'YYYY-MM';\n          break;\n\n        case 'quarter':\n        case 'year':\n          format = 'YYYY';\n          break;\n      }\n    }\n    return format;\n  }\n}\n","import { Model } from '../../decorators/model/model.decorator';\nimport { Editable } from '../../decorators/editable/editable.decorator';\nimport { IIMapping, FormFieldType } from '@shared/stencil';\n// import { ADMIN_FILES_TYPE, FORMCREATOR_FILES_TYPE } from '../constants/constants.interface';\n\n// let conditions = {\n//   isAdmin: 'context == \"admin\"',\n//   isFormCreator: 'context == \"formCreator\"',\n//   isNotTranslation: 'context!=\"translation\"'\n// };\n\n@Model({ className: 'IMapping' })\nexport class IMapping extends IIMapping {\n  // @Editable('IMapping', {\n  //   required: true,\n  //   autoselect: true,\n  //   type: FormFieldType.autocomplete,\n  //   conditionalValues: [{ condition: conditions.isAdmin, ADMIN_FILES_TYPE }, { condition: conditions.isFormCreator, values: FORMCREATOR_FILES_TYPE }],\n  //   condition: conditions.isNotTranslation,\n  //   defaultValues: ADMIN_FILES_TYPE,\n  //   translate: true\n  // })\n  type: string;\n\n  @Editable('IMapping', {\n    required: true,\n    type: FormFieldType.documentuploader,\n    filterable: false,\n    title: 'DOCUMENT',\n    extensions: ['csv', 'application', 'xls', 'xlsx']\n  }) //'xls', 'xlsx', //'xls', 'xlsx', , 'application'\n  document: any;\n}\n","import { Model } from '../../decorators/model/model.decorator';\nimport { Searchable } from '../../decorators/searchable/searchable.decorator';\nimport { Editable } from '../../decorators/editable/editable.decorator';\nimport { IOperation, FormFieldType } from '@shared/stencil';\n\n@Model({\n  className: 'Operation',\n  collectionName: 'operation',\n  fields: ['*'],\n  include: []\n})\nexport class Operation extends IOperation {\n  @Searchable('Operation') operationId: string;\n  @Searchable('Operation') operationName: string;\n  @Searchable('Operation') methodName: string;\n  @Searchable('Operation') modelName: string;\n\n  @Editable('Operation', { type: FormFieldType.datetime, readonly: true })\n  @Searchable('Operation')\n  _createdAt: Date;\n\n  @Editable('Operation', { type: FormFieldType.number, readonly: true })\n  @Searchable('Operation')\n  count: number;\n}\n","import { Model } from '../../decorators/model/model.decorator';\nimport { Searchable } from '../../decorators/searchable/searchable.decorator';\nimport { Editable } from '../../decorators/editable/editable.decorator';\nimport { IProduct, FormFieldType } from '@shared/stencil';\nimport { FORM_FILES_IMAGE_FILTER } from '../constants/constants.interface';\n\n@Model({\n  className: 'Product',\n  collectionName: 'products',\n  fields: ['*'],\n  include: ['catalog'],\n  icon: 'yo-product'\n})\nexport class Product extends IProduct {\n  @Editable('Product', {\n    type: FormFieldType.text,\n    visible: false,\n    forceExport: true,\n    exportOrder: 1\n  })\n  _id: string;\n\n  @Editable('Product', {\n    type: FormFieldType.autocomplete,\n    collectionName: 'catalogs',\n    forceExport: true,\n    exportOrder: 2,\n    required: true,\n    columnDefinition: { name: 'title' },\n    filterable: true\n  })\n  catalog: any;\n  catalogRef: string;\n\n  @Editable('Product', { required: true, type: FormFieldType.text, exportOrder: 3, filterable: true, sortable: true })\n  @Searchable('Product')\n  title: string;\n\n  @Editable('Product', { type: FormFieldType.text, exportOrder: 4, filterable: true, sortable: true })\n  @Searchable('Product')\n  reference: string;\n\n  @Editable('Product', { flex: 50, type: FormFieldType.text, exportOrder: 10, filterable: true, sortable: true })\n  color: string;\n\n  @Editable('Product', { required: false, flex: 50, type: FormFieldType.number, exportOrder: 9 })\n  price: number;\n\n  @Editable('Product', { flex: 50, type: FormFieldType.number, min: 0, exportOrder: 8 })\n  step: number;\n\n  @Editable('Product', {\n    type: FormFieldType.checkbox,\n    flex: 50,\n    columnDefinition: { width: 40 },\n    exportOrder: 11,\n    filterable: true\n  })\n  outofstock: boolean;\n\n  @Editable('Product', {\n    type: FormFieldType.autocomplete,\n    isImage: true,\n    filters: FORM_FILES_IMAGE_FILTER,\n    forceModal: true,\n    hiddenFields: ['mimeType'],\n    mode: 'tile',\n    pageSize: 20,\n    fixedPosition: true,\n    maxWidth: 600,\n    maxHeight: 300,\n    crop: 'square',\n    collectionName: 'files',\n    title: 'PHOTO',\n    //required: true,\n    columnDefinition: { name: '_downloadURL' },\n    filterable: false,\n    exportOrder: 7\n  })\n  image: any;\n\n  @Editable('Product', { type: FormFieldType.textarea, exportOrder: 5 })\n  description: string;\n\n  @Editable('Product', { type: FormFieldType.textarea, exportOrder: 6 })\n  shortdescription: string;\n\n  @Editable('Product', {\n    type: FormFieldType.autocomplete,\n    tag: true,\n    allowCustomTag: true,\n    collectionName: 'products',\n    multiple: true,\n    icon: 'yo-flag',\n    subQuery: { field: 'fileRef', values: '_id' },\n    exportOrder: 12,\n    filterable: true\n  })\n  @Searchable('Product')\n  tags?: Array<string>;\n}\n","import { Model } from '../../decorators/model/model.decorator';\nimport { Tenant } from '../tenant/tenant.interface';\nimport { Editable } from '../../decorators/editable/editable.decorator';\nimport { FormFieldType, IPublicApiToken } from '@shared/stencil';\nimport { User } from '../user/user.interface';\n\n@Model({\n  className: 'PublicApiToken',\n  collectionName: 'publicAPITokens',\n  fields: ['*'],\n  include: ['user'],\n  icon: 'yo-badge'\n})\nexport class PublicApiToken extends IPublicApiToken {\n  @Editable('PublicApiToken', { type: FormFieldType.textarea, readonly: true, name: 'accessToken.id' })\n  accessToken: { id: string };\n\n  user: User;\n  userRef: string;\n  _tenant: Tenant;\n}\n","import { Model } from '../../decorators/model/model.decorator';\nimport { Editable } from '../../decorators/editable/editable.decorator';\nimport { ROLES_CONDITIONS } from '../condition/condition.interface';\n\nimport { ISlide, IFormField, FormFieldType, ICondition } from '@shared/stencil';\n\n@Model({ className: 'Slide' })\nexport class Slide extends ISlide {\n  @Editable('Slide', { required: true, type: FormFieldType.text })\n  title: string;\n\n  @Editable('Slide', { type: FormFieldType.textarea })\n  description?: string;\n\n  @Editable('Slide', { type: FormFieldType.checkbox, flex: 100, advanced: true })\n  hideheader?: boolean;\n\n  @Editable('Slide', {\n    type: FormFieldType.checkbox,\n    flex: 100,\n    condition: [ROLES_CONDITIONS.hasService],\n    advanced: true\n  })\n  service?: boolean;\n\n  @Editable('Slide', {\n    type: FormFieldType.autocomplete,\n    multiple: true,\n    clearable: true,\n    advanced: true\n  })\n  condition?: Array<ICondition | string | any> | string | ICondition;\n\n  items: Array<IFormField>;\n}\n","import { Editable } from '../../decorators/editable/editable.decorator';\nimport { Searchable } from '../../decorators/searchable/searchable.decorator';\nimport { FormFieldType, ITableau } from '@shared/stencil';\nimport { Model } from '../../decorators/model/model.decorator';\nimport { Tenant } from '../tenant/tenant.interface';\nimport { ROLES_CONDITIONS } from '../condition/condition.interface';\n\n@Model({\n  className: 'Tableau',\n  collectionName: 'tableau',\n  fields: ['*'],\n  include: ['_tenant'],\n  icon: 'yo-tableau'\n})\nexport class Tableau extends ITableau {\n  @Editable('Tableau', { type: FormFieldType.text, required: true, title: 'DASHBOARDID' })\n  @Searchable('Tableau')\n  path: string;\n\n  @Editable('Tableau', {\n    required: true,\n    title: 'TENANT',\n    type: FormFieldType.autocomplete,\n    collectionName: 'tenants',\n    columnDefinition: { name: 'name' },\n    multiple: false,\n    condition: [ROLES_CONDITIONS.isAdmin]\n  })\n  _tenant: Tenant;\n}\n","import { Model } from '../../decorators/model/model.decorator';\nimport { Searchable } from '../../decorators/searchable/searchable.decorator';\nimport { FormFieldType, ITagGroup } from '@shared/stencil';\nimport { Editable } from '../../decorators/editable/editable.decorator';\nimport { getGroupsTransform } from '../condition/condition.interface';\n\n@Model({\n  className: 'TagGroup',\n  collectionName: 'tagGroups',\n  fields: ['*'],\n  include: []\n})\nexport class TagGroup extends ITagGroup {\n  @Editable('TagGroup', { required: true, type: FormFieldType.text })\n  @Searchable('TagGroup')\n  title: string;\n\n  @Editable('TagGroup', {\n    title: 'LOCATIONTAGS',\n    required: true,\n    type: FormFieldType.autocomplete,\n    tag: true,\n    collectionName: 'locations',\n    multiple: true,\n    subQuery: { field: 'locationRef', values: '_id' },\n    fixedPosition: true\n  })\n  tags: Array<string>;\n\n  @Editable('TagGroup', {\n    title: 'GROUPS',\n    type: FormFieldType.autocomplete,\n    collectionName: 'groups',\n    filters: [[{ field: 'isRole', operator: { _id: 'neq' }, value: true }, { field: 'type', operator: { _id: 'nin' }, value: ['plan'] }]],\n    hiddenFields: ['isRole', 'type'],\n    idOnly: true,\n    mapTransform: getGroupsTransform,\n    multiple: true,\n    clearable: false,\n    required: true,\n    fixedPosition: true\n  })\n  group: string | Array<string>;\n}\n","import { Model } from '../../decorators/model/model.decorator';\nimport { Searchable } from '../../decorators/searchable/searchable.decorator';\n\nimport { ITag } from '@shared/stencil';\n\n@Model({\n  className: 'Tag',\n  collectionName: 'tags',\n  fields: ['*'],\n  include: []\n})\nexport class Tag extends ITag {\n  @Searchable('Tag') tag: string;\n}\n","import { Model } from '../../decorators/model/model.decorator';\nimport { Editable } from '../../decorators/editable/editable.decorator';\nimport { IFormField, FormFieldType, ITodo, ITodoTask, ITodoTaskSimple } from '@shared/stencil';\nimport { User } from '../user/user.interface';\n\nexport function onUserMeActionHandler() {\n  this.selectMatch(this.session.user);\n}\n\n@Model({ className: 'Todo' })\nexport class Todo extends ITodo {\n  @Editable('Todo', { type: FormFieldType.text, name: 'title', required: true })\n  title: string;\n\n  @Editable('Todo', {\n    title: 'ASSIGNTO',\n    name: 'user',\n    type: FormFieldType.autocomplete,\n    collectionName: 'user',\n    queryFields: User.getSimpleFields(),\n    multiple: false,\n    required: true,\n    extraButton: { title: 'ASSIGNTO', buttons: [{ text: 'ME', handler: onUserMeActionHandler }] }\n  })\n  user: any;\n\n  @Editable('Todo', {\n    title: 'DUEDATE',\n    type: FormFieldType.datetime,\n    required: false,\n    clearable: true,\n    minDate: new Date(),\n    secondary: true,\n    icon: 'yo-calendar'\n  })\n  duedate: Date;\n\n  @Editable('Todo', {\n    title: 'NOTIFICATIONEMAILS',\n    type: FormFieldType.emailreport,\n    showUsers: true,\n    secondary: true,\n    icon: 'yo-email'\n  })\n  notificationemail?: Array<string>;\n\n  @Editable('Todo', {\n    title: 'REMINDER',\n    type: FormFieldType.datetime,\n    required: false,\n    clearable: true,\n    secondary: true,\n    icon: 'yo-activity'\n  })\n  reminderdate?: Date;\n\n  @Editable('Todo', { type: FormFieldType.starrating, secondary: true, icon: 'yo-priority' })\n  priority?: number;\n\n  field?: IFormField;\n}\n\n@Model({ className: 'TodoTask' })\nexport class TodoTask extends ITodoTask {\n  @Editable('TodoTask', { type: FormFieldType.text, title: 'TITLE', required: true })\n  text: { value: string };\n\n  @Editable('TodoTask', { type: FormFieldType.textarea, required: false })\n  comments?: { value: string };\n\n  @Editable('TodoTask', {\n    type: FormFieldType.datetime,\n    required: false,\n    clearable: true,\n    minDate: new Date()\n  })\n  duedate?: { value: Date };\n\n  @Editable('TodoTask', { type: FormFieldType.toggle, required: false, title: 'PHOTO', flex: 50 })\n  hasphoto?: { value: boolean };\n\n  @Editable('TodoTask', {\n    type: FormFieldType.toggle,\n    required: false,\n    title: 'MANDATORYPHOTO',\n    flex: 50,\n    condition: 'hasphoto.value==1'\n  })\n  isphotorequired?: { value: boolean };\n\n  @Editable('TodoTask', {\n    type: FormFieldType.toggle,\n    required: false,\n    title: 'ALLOWLIBRARY',\n    flex: 50,\n    condition: 'hasphoto.value==1'\n  })\n  allowLibrary?: { value: boolean };\n\n  field?: IFormField;\n}\n\n@Model({ className: 'TodoTaskSimple' })\nexport class TodoTaskSimple extends ITodoTaskSimple {\n  @Editable('TodoTaskSimple', {\n    type: FormFieldType.textarea,\n    title: 'DESCRIPTION',\n    required: true\n  })\n  text: { value: string };\n\n  @Editable('TodoTaskSimple', {\n    title: 'ASSIGNTO',\n    name: 'user',\n    type: FormFieldType.autocomplete,\n    queryFields: User.getSimpleFields(),\n    collectionName: 'user',\n    multiple: false,\n    required: true,\n    extraButton: { title: 'ASSIGNTO', buttons: [{ text: 'ME', handler: onUserMeActionHandler }] }\n  })\n  user: any;\n\n  @Editable('TodoTaskSimple', {\n    type: FormFieldType.datetime,\n    required: false,\n    clearable: true,\n    minDate: new Date()\n  })\n  duedate?: { value: Date };\n\n  @Editable('TodoTaskSimple', {\n    type: FormFieldType.toggle,\n    required: false,\n    title: 'ASKFORPHOTO',\n    flex: 50\n  })\n  hasphoto?: { value: boolean };\n\n  @Editable('TodoTaskSimple', {\n    type: FormFieldType.toggle,\n    required: false,\n    title: 'MANDATORYPHOTO',\n    flex: 50,\n    condition: 'hasphoto.value==1'\n  })\n  isphotorequired?: { value: boolean };\n\n  @Editable('TodoTaskSimple', {\n    type: FormFieldType.toggle,\n    required: false,\n    title: 'ALLOWLIBRARY',\n    flex: 50,\n    condition: 'hasphoto.value==1'\n  })\n  allowLibrary?: { value: boolean };\n  field?: IFormField;\n}\n","import { Injector } from '@angular/core';\nimport { FormFieldType, ITranslation } from '@shared/stencil';\n\nimport { Model } from '../../decorators/model/model.decorator';\nimport { Editable } from '../../decorators/editable/editable.decorator';\nimport { Searchable } from '../../decorators/searchable/searchable.decorator';\nimport { getGroupsTransform } from '../condition/condition.interface';\n\nimport { Translate } from '@shared/translate';\nimport { Googletranslate } from '../../services/googletranslate/googletranslate.service';\nimport { Requestor } from '../../services/requestor/requestor.service';\n\nimport { capitalize } from 'lodash-es';\n\nexport function translateButtonHandler(data, field, injector: Injector) {\n  const rq: Requestor = injector.get<Requestor>(Requestor);\n  let language = data.language;\n  let value = data.value;\n  if (value && language) {\n    data[language] = value;\n    return Googletranslate.getAll(value, language, rq)\n      .toPromise()\n      .then((values: Array<{ language: string; value: string }>) => {\n        let isCapitalized = capitalize(value) === value;\n        values.forEach(v => {\n          data[v.language] = isCapitalized ? capitalize(v.value) : v.value;\n        });\n      });\n  }\n}\n\nexport function resetButtonHandler(data, field) {\n  Translate.availablesLanguage\n    .filter(l => l !== 'key')\n    .forEach(l => {\n      data[l] = null;\n    });\n  data = { ...data };\n}\n\n@Model({\n  className: 'Translation',\n  collectionName: 'translations',\n  fields: ['*'],\n  include: ['_tenant'],\n  icon: 'yo-translate'\n})\nexport class Translation extends ITranslation {\n  @Editable('Translation', { title: 'ID', visible: false, forceExport: true })\n  _id?: string;\n\n  @Editable('Translation', {\n    type: FormFieldType.autocomplete,\n    title: 'LANGUAGE',\n    translate: true,\n    values: Translate.availablesLanguage,\n    clearable: false,\n    required: true,\n    autoselect: true,\n    columnDefinition: { width: 40 }\n  })\n  language: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text })\n  @Searchable('Translation')\n  key: string;\n\n  @Editable('Translation', {\n    required: true,\n    type: FormFieldType.text\n  })\n  value: string;\n\n  @Editable('Translation', {\n    type: FormFieldType.button,\n    title: 'TRANSLATE',\n    color: 'success',\n    suppressExport: true,\n    handler: translateButtonHandler\n  })\n  translateButton?: any;\n\n  @Editable('Translation', {\n    type: FormFieldType.button,\n    title: 'RESET',\n    suppressExport: true,\n    color: 'danger',\n    handler: resetButtonHandler\n  })\n  resetButton?: any;\n\n  @Editable('Translation', { type: FormFieldType.toggle, title: 'UNVALIDATEREASON' })\n  isReject: boolean;\n\n  @Editable('Translation', { type: FormFieldType.toggle, title: 'ANNOTATE' })\n  isPhotoAnnotation: boolean;\n\n  @Editable('Translation', {\n    title: 'GROUPS',\n    type: FormFieldType.autocomplete,\n    collectionName: 'groups',\n    filters: [[{ field: 'isRole', operator: { _id: 'neq' }, value: true }, { field: 'type', operator: { _id: 'nin' }, value: ['plan'] }]],\n    hiddenFields: ['isRole', 'type'],\n    idOnly: true,\n    mapTransform: getGroupsTransform,\n    multiple: true,\n    clearable: false,\n    required: true\n  })\n  group: string | Array<string>;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) en: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) us: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) fr: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) es: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) pl: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) nl: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) de: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) it: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) ru: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) zhs: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) zht: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) pt: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) kr: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) ja: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) ua: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) he: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) ar: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) cz: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) th: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) tr: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) bg: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) el: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) sl: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) sk: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) ro: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) hu: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) et: string;\n\n  @Editable('Translation', { required: true, type: FormFieldType.text }) br: string;\n}\n","import { Model } from '../../decorators/model/model.decorator';\nimport { Editable } from '../../decorators/editable/editable.decorator';\nimport { FormFieldType, IWorkplaceGroups, IWorkplacePost } from '@shared/stencil';\n\n@Model({\n  className: 'WorkplaceGroups',\n  collectionName: 'workplace_groups',\n  fields: ['*'],\n  include: []\n})\nexport class WorkplaceGroups extends IWorkplaceGroups {\n  @Editable('WorkplaceGroups', { readonly: true, type: FormFieldType.text })\n  name: string;\n\n  @Editable('WorkplaceGroups', { readonly: true, type: FormFieldType.text })\n  icon: string;\n\n  @Editable('WorkplaceGroups', { readonly: true, type: FormFieldType.text })\n  cover: string;\n\n  @Editable('WorkplaceGroups', { readonly: true, type: FormFieldType.text })\n  description: string;\n}\n\n@Model({ className: 'WorkplacePost' })\nexport class WorkplacePost extends IWorkplacePost {\n  @Editable('WorkplacePost', { type: FormFieldType.textarea, required: true })\n  comments: string;\n\n  @Editable('WorkplacePost', {\n    title: 'GROUPS',\n    type: FormFieldType.autocomplete,\n    collectionName: 'workplace_groups',\n    multiple: true,\n    required: true\n  })\n  workplaceGroups: any;\n}\n","import { Injectable } from '@angular/core';\n\nimport { Entity } from '../../interfaces/entity/entity.interface';\nimport { Broker } from '../broker/broker.service';\nimport { Requestor } from '../requestor/requestor.service';\nimport { ResponseObject } from '../../interfaces/response-object/response-object.interface';\n\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class Activity {\n  constructor(protected broker: Broker, protected rq: Requestor) {}\n\n  protected _viewOrLike(entity: Entity, entityName: string, action: string): Observable<any> {\n    let url = this.broker.getApiUrl() + 'activity/' + action;\n    return this.rq.post(url, { entityRef: entity._id, entityName });\n  }\n\n  getActionFilter(entityId: string, action: string = 'view') {\n    return [[{ field: 'action', operator: { _id: 'eq' }, value: action }, { field: 'entityRef', operator: { _id: 'inq' }, value: [entityId] }]];\n  }\n\n  getUserTransform() {\n    return (res: ResponseObject) => {\n      if (res.data) {\n        res.data = res.data.map(r => r.user);\n      }\n      return res;\n    };\n  }\n\n  getActionAggregateOptions() {\n    return (start, limit) => [{ $lookup: { from: 'user', localField: 'userRef', foreignField: '_id', as: 'user' } }, { $unwind: '$user' }, ...(start > 0 ? [{ $skip: start }] : []), ...(limit > 0 ? [{ $limit: limit }] : [])];\n  }\n}\n","import { Translate } from '@shared/translate';\nimport { Broker } from '../broker/broker.service';\nimport { Models } from '../models/models.service';\n\nimport { ResponseObject } from '../../interfaces/response-object/response-object.interface';\nimport { Entity } from '../../interfaces/entity/entity.interface';\nimport { FilterPipe } from '../../pipes/filter/filter.pipe';\nimport { Query } from '@shared/stencil';\n\nimport { Observable } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, map, switchMap, mergeMap } from 'rxjs/operators';\n\nimport { orderBy, isArray, isObject, keys, isEqual, isFunction, isEmpty, isNumber } from 'lodash-es';\n\nexport class DataLoader {\n  public get pageSize() {\n    return this._pageSize;\n  }\n\n  public set pageSize(val) {\n    this._pageSize = val;\n  }\n\n  public get currentPage() {\n    return this._currentPage;\n  }\n\n  public get total() {\n    return this._total;\n  }\n\n  public set total(value) {\n    this._total = value;\n  }\n\n  public get totalPage() {\n    return Math.ceil(this._total / this.pageSize);\n  }\n\n  public get loading() {\n    return this._loading;\n  }\n\n  public get loadingPageCount() {\n    return this._loadingPageCount;\n  }\n\n  public set loadingPageCount(value) {\n    this._loadingPageCount = value;\n  }\n\n  private _currentPage = 0;\n  private _total = 0;\n  private _collectionName = '';\n  private _loading = false;\n  private _pageSize: number; //CoreConfig.isWeb() ? 30 :\n  private _items: Array<any>;\n  private _translate: boolean;\n  private filterPipe: FilterPipe;\n  private _looseCount: boolean;\n  private _loadingPageCount: boolean;\n\n  constructor(private broker: Broker, collectionName: string, items: Array<any> = null, pageSize: number = null, translate: boolean = null, translateService: Translate = null, looseCount: boolean = null) {\n    this._collectionName = Models.fixCollectionName(collectionName);\n    this._items = items;\n    this._translate = translate;\n    this._looseCount = looseCount;\n    if (pageSize && isNumber(pageSize) && pageSize > 0) {\n      this._pageSize = pageSize;\n    } else {\n      this._pageSize = 21;\n    }\n    this.filterPipe = new FilterPipe(translateService);\n  }\n\n  loadWithSearch(currentPage: number = 0, search: string = null, filters = [], sortModel = null, mapTransform = null, mapTransformAsync = false, tag = false, subQuery = null, fields: string[] = null, include: string[] = null, aggregateOptions: (skip, limit, sorts, search, filters) => Array<any> = null, aggregateOptionsOffline: (skip, limit, sorts, search, filters) => Array<any> = null, cacheId: string = null, customFilter: any = null, includeCount = false) {\n    return this.load(currentPage, search, filters, sortModel, mapTransform, mapTransformAsync, tag, subQuery, fields, include, aggregateOptions, aggregateOptionsOffline, cacheId, customFilter, includeCount);\n  }\n\n  loadWithSearchDebounce(start = 0, search: Observable<string> = null, filters = [], sortModel = null, mapTransform = null, mapTransformAsync = false, tag = false, subQuery = null, fields: string[] = null, include: string[] = null, aggregateOptions: (skip, limit, sorts, search, filters) => Array<any> = null, aggregateOptionsOffline: (skip, limit, sorts, search, filters) => Array<any> = null, cacheId: string = null, customFilter: any = null, includeCount = false) {\n    if (search) {\n      return search.pipe(\n        debounceTime(400),\n        distinctUntilChanged(),\n        switchMap(term => this.load(start, term.toString(), filters, sortModel, mapTransform, mapTransformAsync, tag, subQuery, fields, include, aggregateOptions, aggregateOptionsOffline, cacheId, customFilter, includeCount))\n      );\n    } else {\n      return this.load(start, null, filters, sortModel, mapTransform, mapTransformAsync, tag, subQuery, fields, include, aggregateOptions, aggregateOptionsOffline, cacheId, customFilter, includeCount);\n    }\n  }\n\n  load(currentPage: number = 0, search: string = null, filters = [], sortModel = null, mapTransform = null, mapTransformAsync = false, tag = false, subQuery = null, fields: string[] = null, include: string[] = null, aggregateOptions: (skip, limit, sorts, search, filters) => Array<any> = null, aggregateOptionsOffline: (skip, limit, sorts, search, filters) => Array<any> = null, cacheId: string = null, customFilter: any = null, includeCount = false) {\n    this._loading = true;\n    if (search) {\n      search = search.trim();\n    }\n    if ((this._items && this._items.length > 0) || !this._collectionName || isEmpty(this._collectionName)) {\n      let obs = new Observable(observer => {\n        let data = this._items || [];\n        if (search) {\n          data = this.filterPipe.transform(data, search, null, null, this._translate);\n        }\n        if (sortModel) {\n          data = orderBy(data, sortModel.map(s => s.colId), sortModel.map(s => s.sort.toLowerCase()));\n        }\n        this._total = data.length;\n        this._currentPage = currentPage;\n\n        if (data.slice) {\n          data = data.slice(currentPage * this.pageSize, (currentPage + 1) * this.pageSize);\n        }\n\n        let res: ResponseObject = {\n          count: this._total,\n          data: data.map ? data.map(value => this.convertItem(value)) : []\n        };\n        observer.next(res);\n        observer.complete();\n      });\n      if (mapTransformAsync && mapTransform) {\n        return obs.pipe(mergeMap(res => mapTransform(res, search, filters, currentPage, this.pageSize)));\n      } else if (mapTransform) {\n        return obs.pipe(map(res => mapTransform(res, search, filters, currentPage, this.pageSize)));\n      } else {\n        return obs;\n      }\n    } else if (aggregateOptions && isFunction(aggregateOptions)) {\n      if (!mapTransform) {\n        mapTransform = x => x;\n      }\n      return this.broker\n        .aggregateQuery(this._collectionName, filters, aggregateOptions(currentPage * this.pageSize, this.pageSize, sortModel, search, filters), search, null, includeCount, cacheId, customFilter, subQuery, aggregateOptionsOffline && isFunction(aggregateOptionsOffline) ? aggregateOptionsOffline(currentPage * this.pageSize, this.pageSize, sortModel, search, filters) : null)\n        .pipe(mapTransformAsync ? mergeMap(res => mapTransform(res, search, filters, currentPage, this.pageSize)) : map(res => mapTransform(res, search, filters, currentPage, this.pageSize)))\n        .pipe(\n          map(retVal => {\n            this._currentPage = currentPage;\n            if (includeCount) {\n              this._total = retVal.count;\n            } else if (isObject(retVal) && isArray(retVal.data)) {\n              //nothing to do. used in photo duplicate\n            } else {\n              retVal = { data: retVal };\n            }\n            this._loading = false;\n            return retVal;\n          })\n        );\n    } else {\n      let retVal = this.broker.getAll(this._collectionName, fields, include, search, filters, sortModel, currentPage * this.pageSize, this.pageSize, tag, subQuery, customFilter, cacheId, this._looseCount, !includeCount).pipe(\n        map((res: any) => {\n          this._currentPage = currentPage;\n          this._loading = false;\n          if (!includeCount) {\n            this._total = Math.max(-1, this._total);\n            return { count: this._total, data: res };\n          } else {\n            this._total = res.count;\n            return res;\n          }\n        })\n      );\n      if (mapTransformAsync && mapTransform) {\n        return retVal.pipe(mergeMap(res => mapTransform(res, search, filters, currentPage, this.pageSize)));\n      } else if (mapTransform) {\n        return retVal.pipe(map(res => mapTransform(res, search, filters, currentPage, this.pageSize)));\n      } else {\n        return retVal;\n      }\n    }\n  }\n\n  getQuery(currentPage: number = 0, search: string, filters = [], sortModel = null, subQuery = null, fields: string[] = null, include: string[] = null, customFilter: any = null, includeCount = false): Query {\n    return this.broker.getQuery(this._collectionName, fields, include, search, filters, sortModel, currentPage * this.pageSize, this.pageSize, subQuery, customFilter);\n  }\n\n  getCount(search?: string, filters?, subQuery = null, customFilter = null) {\n    return this.broker.getCount(this._collectionName, search, filters, subQuery, customFilter).pipe(\n      map(ret => {\n        this._total = ret.count;\n        return ret;\n      })\n    );\n  }\n\n  convertItem(value) {\n    if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n      return new Entity(value);\n    } else if (isEqual(keys(value), ['_id'])) {\n      return new Entity(value._id);\n    } else if (typeof value === 'undefined') {\n      return new Entity('undefined');\n    } else {\n      return value;\n    }\n  }\n}\n"],"names":["tslib_1.__decorate","filter","map","_isFile","_isBase64","_isFileUri","_isImageFile","_read","_getExtension","_changeExtension","_getMaxSize","_toPng","_isValid","_isImage","_isVideo","_isAudio","_isDocument","_getType","_getMimeType","_getIcon","_getVideoPoster","_b64toBlob","_blobToFile","_b64ToFile","_saveBase64AsImageFile","_resizeBase64Image","_getBase64MimeType","_getBase64Extension","_resizeImage","_getNativeDirectory","_resolveFilePath","_fixImageOrientation","_moveToImageDirectory","_moveToImageDirectoryBase","_fileNativeWriteFile","_fileNativeCheckFile","_fixAbsolutePath","_getCloudinaryUrl","_getLocalFilePath","_getLocalFileName","_saveToLocalFile","_getUrlWithAnnotations","_cleanFileName","_downloadFileToDevice","_showPdfOnDevice","_openBlob","_afterOpenBlob","lodashMap","tslib_1.__extends","conditions","Push","PushNative","keys","_map","map$","ROLES_LIST","from","XLSX.read","XLSX.utils","XLSX.write","range","XLSX.SSF","_keys","FileNative","File","getStartAndEndDates","getStartAndEndDatesCore"],"mappings":"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"}
